/** 

 版本所有 
 填写日期 
 填写作者信息 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self).feutils={})}(this,function(t){"use strict";function o(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return i.length>=e.length?e.apply(void 0,i):function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.apply(void 0,[e].concat(i,r))}}function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n={exports:{}},s=n.exports=function(c){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function f(t,r){var n=t[0],e=t[1],i=t[2],o=t[3];n+=(e&i|~e&o)+r[0]-680876936|0;n=(n<<7|n>>>25)+e|0;o+=(n&e|~n&i)+r[1]-389564586|0;o=(o<<12|o>>>20)+n|0;i+=(o&n|~o&e)+r[2]+606105819|0;i=(i<<17|i>>>15)+o|0;e+=(i&o|~i&n)+r[3]-1044525330|0;e=(e<<22|e>>>10)+i|0;n+=(e&i|~e&o)+r[4]-176418897|0;n=(n<<7|n>>>25)+e|0;o+=(n&e|~n&i)+r[5]+1200080426|0;o=(o<<12|o>>>20)+n|0;i+=(o&n|~o&e)+r[6]-1473231341|0;i=(i<<17|i>>>15)+o|0;e+=(i&o|~i&n)+r[7]-45705983|0;e=(e<<22|e>>>10)+i|0;n+=(e&i|~e&o)+r[8]+1770035416|0;n=(n<<7|n>>>25)+e|0;o+=(n&e|~n&i)+r[9]-1958414417|0;o=(o<<12|o>>>20)+n|0;i+=(o&n|~o&e)+r[10]-42063|0;i=(i<<17|i>>>15)+o|0;e+=(i&o|~i&n)+r[11]-1990404162|0;e=(e<<22|e>>>10)+i|0;n+=(e&i|~e&o)+r[12]+1804603682|0;n=(n<<7|n>>>25)+e|0;o+=(n&e|~n&i)+r[13]-40341101|0;o=(o<<12|o>>>20)+n|0;i+=(o&n|~o&e)+r[14]-1502002290|0;i=(i<<17|i>>>15)+o|0;e+=(i&o|~i&n)+r[15]+1236535329|0;e=(e<<22|e>>>10)+i|0;n+=(e&o|i&~o)+r[1]-165796510|0;n=(n<<5|n>>>27)+e|0;o+=(n&i|e&~i)+r[6]-1069501632|0;o=(o<<9|o>>>23)+n|0;i+=(o&e|n&~e)+r[11]+643717713|0;i=(i<<14|i>>>18)+o|0;e+=(i&n|o&~n)+r[0]-373897302|0;e=(e<<20|e>>>12)+i|0;n+=(e&o|i&~o)+r[5]-701558691|0;n=(n<<5|n>>>27)+e|0;o+=(n&i|e&~i)+r[10]+38016083|0;o=(o<<9|o>>>23)+n|0;i+=(o&e|n&~e)+r[15]-660478335|0;i=(i<<14|i>>>18)+o|0;e+=(i&n|o&~n)+r[4]-405537848|0;e=(e<<20|e>>>12)+i|0;n+=(e&o|i&~o)+r[9]+568446438|0;n=(n<<5|n>>>27)+e|0;o+=(n&i|e&~i)+r[14]-1019803690|0;o=(o<<9|o>>>23)+n|0;i+=(o&e|n&~e)+r[3]-187363961|0;i=(i<<14|i>>>18)+o|0;e+=(i&n|o&~n)+r[8]+1163531501|0;e=(e<<20|e>>>12)+i|0;n+=(e&o|i&~o)+r[13]-1444681467|0;n=(n<<5|n>>>27)+e|0;o+=(n&i|e&~i)+r[2]-51403784|0;o=(o<<9|o>>>23)+n|0;i+=(o&e|n&~e)+r[7]+1735328473|0;i=(i<<14|i>>>18)+o|0;e+=(i&n|o&~n)+r[12]-1926607734|0;e=(e<<20|e>>>12)+i|0;n+=(e^i^o)+r[5]-378558|0;n=(n<<4|n>>>28)+e|0;o+=(n^e^i)+r[8]-2022574463|0;o=(o<<11|o>>>21)+n|0;i+=(o^n^e)+r[11]+1839030562|0;i=(i<<16|i>>>16)+o|0;e+=(i^o^n)+r[14]-35309556|0;e=(e<<23|e>>>9)+i|0;n+=(e^i^o)+r[1]-1530992060|0;n=(n<<4|n>>>28)+e|0;o+=(n^e^i)+r[4]+1272893353|0;o=(o<<11|o>>>21)+n|0;i+=(o^n^e)+r[7]-155497632|0;i=(i<<16|i>>>16)+o|0;e+=(i^o^n)+r[10]-1094730640|0;e=(e<<23|e>>>9)+i|0;n+=(e^i^o)+r[13]+681279174|0;n=(n<<4|n>>>28)+e|0;o+=(n^e^i)+r[0]-358537222|0;o=(o<<11|o>>>21)+n|0;i+=(o^n^e)+r[3]-722521979|0;i=(i<<16|i>>>16)+o|0;e+=(i^o^n)+r[6]+76029189|0;e=(e<<23|e>>>9)+i|0;n+=(e^i^o)+r[9]-640364487|0;n=(n<<4|n>>>28)+e|0;o+=(n^e^i)+r[12]-421815835|0;o=(o<<11|o>>>21)+n|0;i+=(o^n^e)+r[15]+530742520|0;i=(i<<16|i>>>16)+o|0;e+=(i^o^n)+r[2]-995338651|0;e=(e<<23|e>>>9)+i|0;n+=(i^(e|~o))+r[0]-198630844|0;n=(n<<6|n>>>26)+e|0;o+=(e^(n|~i))+r[7]+1126891415|0;o=(o<<10|o>>>22)+n|0;i+=(n^(o|~e))+r[14]-1416354905|0;i=(i<<15|i>>>17)+o|0;e+=(o^(i|~n))+r[5]-57434055|0;e=(e<<21|e>>>11)+i|0;n+=(i^(e|~o))+r[12]+1700485571|0;n=(n<<6|n>>>26)+e|0;o+=(e^(n|~i))+r[3]-1894986606|0;o=(o<<10|o>>>22)+n|0;i+=(n^(o|~e))+r[10]-1051523|0;i=(i<<15|i>>>17)+o|0;e+=(o^(i|~n))+r[1]-2054922799|0;e=(e<<21|e>>>11)+i|0;n+=(i^(e|~o))+r[8]+1873313359|0;n=(n<<6|n>>>26)+e|0;o+=(e^(n|~i))+r[15]-30611744|0;o=(o<<10|o>>>22)+n|0;i+=(n^(o|~e))+r[6]-1560198380|0;i=(i<<15|i>>>17)+o|0;e+=(o^(i|~n))+r[13]+1309151649|0;e=(e<<21|e>>>11)+i|0;n+=(i^(e|~o))+r[4]-145523070|0;n=(n<<6|n>>>26)+e|0;o+=(e^(n|~i))+r[11]-1120210379|0;o=(o<<10|o>>>22)+n|0;i+=(n^(o|~e))+r[2]+718787259|0;i=(i<<15|i>>>17)+o|0;e+=(o^(i|~n))+r[9]-343485551|0;e=(e<<21|e>>>11)+i|0;t[0]=n+t[0]|0;t[1]=e+t[1]|0;t[2]=i+t[2]|0;t[3]=o+t[3]|0}function h(t){var r=[],n;for(n=0;n<64;n+=4)r[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return r}function p(t){var r=[],n;for(n=0;n<64;n+=4)r[n>>2]=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24);return r}function i(t){var r=t.length,n=[1732584193,-271733879,-1732584194,271733878],e,i,o,a,s,u;for(e=64;e<=r;e+=64)f(n,h(t.substring(e-64,e)));t=t.substring(e-64);i=t.length;o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);o[e>>2]|=128<<(e%4<<3);if(e>55){f(n,o);for(e=0;e<16;e+=1)o[e]=0}a=r*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);s=parseInt(a[2],16);u=parseInt(a[1],16)||0;o[14]=s;o[15]=u;f(n,o);return n}function o(t){var r=t.length,n=[1732584193,-271733879,-1732584194,271733878],e,i,o,a,s,u;for(e=64;e<=r;e+=64)f(n,p(t.subarray(e-64,e)));t=e-64<r?t.subarray(e-64):new Uint8Array(0);i=t.length;o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=t[e]<<(e%4<<3);o[e>>2]|=128<<(e%4<<3);if(e>55){f(n,o);for(e=0;e<16;e+=1)o[e]=0}a=r*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);s=parseInt(a[2],16);u=parseInt(a[1],16)||0;o[14]=s;o[15]=u;f(n,o);return n}function n(t){var r="",n;for(n=0;n<4;n+=1)r+=e[t>>n*8+4&15]+e[t>>n*8&15];return r}function a(t){var r;for(r=0;r<t.length;r+=1)t[r]=n(t[r]);return t.join("")}if(a(i("hello"))!=="5d41402abc4b2a76b9719d911017c592");if(typeof ArrayBuffer!=="undefined"&&!ArrayBuffer.prototype.slice)(function(){function f(t,r){t=t|0||0;if(t<0)return Math.max(t+r,0);return Math.min(t,r)}ArrayBuffer.prototype.slice=function(t,r){var n=this.byteLength,e=f(t,n),i=n,o,a,s,u;if(r!==c)i=f(r,n);if(e>i)return new ArrayBuffer(0);o=i-e;a=new ArrayBuffer(o);s=new Uint8Array(a);u=new Uint8Array(this,e,o);s.set(u);return a}})();function s(t){if(/[\u0080-\uFFFF]/.test(t))t=unescape(encodeURIComponent(t));return t}function r(t,r){var n=t.length,e=new ArrayBuffer(n),i=new Uint8Array(e),o;for(o=0;o<n;o+=1)i[o]=t.charCodeAt(o);return r?i:e}function u(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function l(t,r,n){var e=new Uint8Array(t.byteLength+r.byteLength);e.set(new Uint8Array(t));e.set(new Uint8Array(r),t.byteLength);return n?e:e.buffer}function d(t){var r=[],n=t.length,e;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function m(){this.reset()}return m.prototype.append=function(t){this.appendBinary(s(t));return this},m.prototype.appendBinary=function(t){this._buff+=t;this._length+=t.length;var r=this._buff.length,n;for(n=64;n<=r;n+=64)f(this._hash,h(this._buff.substring(n-64,n)));this._buff=this._buff.substring(n-64);return this},m.prototype.end=function(t){var r=this._buff,n=r.length,e,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o;for(e=0;e<n;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);this._finish(i,n);o=a(this._hash);if(t)o=d(o);this.reset();return o},m.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(t){this._buff=t.buff;this._length=t.length;this._hash=t.hash;return this},m.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length},m.prototype._finish=function(t,r){var n=r,e,i,o;t[n>>2]|=128<<(n%4<<3);if(n>55){f(this._hash,t);for(n=0;n<16;n+=1)t[n]=0}e=this._length*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);i=parseInt(e[2],16);o=parseInt(e[1],16)||0;t[14]=i;t[15]=o;f(this._hash,t)},m.hash=function(t,r){return m.hashBinary(s(t),r)},m.hashBinary=function(t,r){var n=i(t),e=a(n);return r?d(e):e},(m.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var r=l(this._buff.buffer,t,true),n=r.length,e;this._length+=t.byteLength;for(e=64;e<=n;e+=64)f(this._hash,p(r.subarray(e-64,e)));this._buff=e-64<n?new Uint8Array(r.buffer.slice(e-64)):new Uint8Array(0);return this},m.ArrayBuffer.prototype.end=function(t){var r=this._buff,n=r.length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,o;for(i=0;i<n;i+=1)e[i>>2]|=r[i]<<(i%4<<3);this._finish(e,n);o=a(this._hash);if(t)o=d(o);this.reset();return o},m.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this},m.ArrayBuffer.prototype.getState=function(){var t=m.prototype.getState.call(this);t.buff=u(t.buff);return t},m.ArrayBuffer.prototype.setState=function(t){t.buff=r(t.buff,true);return m.prototype.setState.call(this,t)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(t,r){var n=o(new Uint8Array(t)),e=a(n);return r?d(e):e},m}();function a(t){for(var r=document.getElementsByTagName("script"),n=0,e=r.length;n<e;n++)if(-1!==r[n].src.indexOf(t))return!0;return!1}function e(){return(e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n,e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}var i={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function w(t){return"number"==typeof t}function x(t){return!(!t||"object"!=typeof t||"function"!=typeof t.constructor)&&(!0===t.isBigNumber&&"object"==typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"==typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function u(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function f(t){return t&&"object"==typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function c(t){return t&&!0===t.constructor.prototype.isUnit||!1}function S(t){return"string"==typeof t}var _=Array.isArray;function A(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function h(t){return Array.isArray(t)||A(t)}function p(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function l(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function d(t){return t&&!0===t.constructor.prototype.isRange||!1}function b(t){return t&&!0===t.constructor.prototype.isIndex||!1}function m(t){return"boolean"==typeof t}function v(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function g(t){return t&&!0===t.constructor.prototype.isHelp||!1}function y(t){return"function"==typeof t}function M(t){return t instanceof Date}function N(t){return t instanceof RegExp}function E(t){return!(!t||"object"!=typeof t||t.constructor!==Object||u(t)||f(t))}function z(t){return null===t}function O(t){return void 0===t}function C(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function D(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function B(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function T(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function j(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function k(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function P(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function q(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function U(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function Z(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function H(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.constructor.prototype.isChain||!1}function J(t){var r=typeof t;return"object"==r?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":x(t)?"BigNumber":u(t)?"Complex":f(t)?"Fraction":A(t)?"Matrix":c(t)?"Unit":b(t)?"Index":d(t)?"Range":v(t)?"ResultSet":q(t)?t.type:V(t)?"Chain":g(t)?"Help":"Object":"function"==r?"Function":r}function $(t){var r=typeof t;if("number"==r||"string"==r||"boolean"==r||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map($);if(t instanceof Date)return new Date(t.valueOf());if(x(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return function(t,r){var n,e={};for(n in t)X(t,n)&&(e[n]=r(t[n]));return e}(t,$)}function Y(t,r){for(var n in r)X(r,n)&&(t[n]=r[n]);return t}function W(t,r){var n,e,i;if(Array.isArray(t)){if(Array.isArray(r)&&t.length===r.length){for(e=0,i=t.length;e<i;e++)if(!W(t[e],r[e]))return;return 1}}else{if("function"==typeof t)return t===r;if(!(t instanceof Object))return t===r;if(!Array.isArray(r)&&r instanceof Object){for(n in t)if(!(n in r&&W(t[n],r[n])))return;for(n in r)if(!(n in t))return;return 1}}}function X(t,r){return t&&Object.hasOwnProperty.call(t,r)}function G(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(i)}e(G,i,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});var K={exports:{}};function rt(){return!0}function nt(){return!1}function et(){}var Q=K.exports=function t(){var r=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}];var n={name:"any",test:rt};var e=[];var i=[];var R={types:r,conversions:i,ignore:e};function s(r){var t=Q(R.types,function(t){return t.name===r});if(t)return t;if("any"===r)return n;t=Q(R.types,function(t){return t.name.toLowerCase()===r.toLowerCase()});throw new TypeError('Unknown type "'+r+'"'+(t?'. Did you mean "'+t.name+'"?':""))}function o(t){return t===n?999:R.types.indexOf(t)}function c(r){var t=Q(R.types,function(t){return t.test(r)});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+r)}function a(t,r){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof r){n=r.split(",");for(var e=0;e<n.length;e++)n[e]=n[e].trim()}else{if(!Array.isArray(r))throw new TypeError("String array or a comma separated string expected");n=r}var r=n.join(","),r=t.signatures[r];if(r)return r;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function u(t,r){var n=c(t);if(r===n)return t;for(var e=0;e<R.conversions.length;e++){var i=R.conversions[e];if(i.from===n&&i.to===r)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+r)}function U(t){return t.map(function(t){var r=t.types.map(d);return(t.restParam?"...":"")+r.join("|")}).join(",")}function f(t,n){var r=0===t.indexOf("..."),e=(r?3<t.length?t.slice(3):"any":t).split("|").map(N).filter(E).filter(M),t=x(n,e),e=e.map(function(t){var r=s(t);return{name:t,typeIndex:o(r),test:r.test,conversion:null,conversionIndex:-1}}),t=t.map(function(t){var r=s(t.from);return{name:t.from,typeIndex:o(r),test:r.test,conversion:t,conversionIndex:n.indexOf(t)}});return{types:e.concat(t),restParam:r}}function L(t,r,i){var n=[];return(n=""!==t.trim()?t.split(",").map(N).map(function(t,r,n){var e=f(t,i);if(e.restParam&&r!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return e}):n).some(S)?null:{params:n,fn:r}}function Z(t){t=z(t);return!!t&&t.restParam}function h(t){return t.types.some(function(t){return null!=t.conversion})}function H(t){if(t&&0!==t.types.length){if(1===t.types.length)return s(t.types[0].name).test;if(2===t.types.length){var r=s(t.types[0].name).test,n=s(t.types[1].name).test;return function(t){return r(t)||n(t)}}var e=t.types.map(function(t){return s(t.name).test});return function(t){for(var r=0;r<e.length;r++)if(e[r](t))return!0;return!1}}return rt}function V(t){var n,r,e;if(Z(t)){var i=(n=A(t).map(H)).length,o=H(z(t)),a=function(t){for(var r=i;r<t.length;r++)if(!o(t[r]))return!1;return!0};return function(t){for(var r=0;r<n.length;r++)if(!n[r](t[r]))return!1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(r=H(t[0]),function(t){return r(t[0])&&1===t.length}):2===t.length?(r=H(t[0]),e=H(t[1]),function(t){return r(t[0])&&e(t[1])&&2===t.length}):(n=t.map(H),function(t){for(var r=0;r<n.length;r++)if(!n[r](t[r]))return!1;return t.length===n.length})}function p(t,r){return r<t.params.length?t.params[r]:Z(t.params)?z(t.params):null}function l(t,r,n){r=p(t,r);return(r?n?r.types.filter(m):r.types:[]).map(d)}function d(t){return t.name}function m(t){return null===t.conversion||void 0===t.conversion}function v(t,r){t=F(tt(t,function(t){return l(t,r,!1)}));return-1!==t.indexOf("any")?["any"]:t}function J(t,n,r){var e,i,o,a=t||"unnamed",s=r;for(o=0;o<n.length;o++){var u=s.filter(function(t){var r=H(p(t,o));return(o<t.params.length||Z(t.params))&&r(n[o])});if(0===u.length){if(0<(i=v(s,o)).length){var f=c(n[o]);return(e=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+f+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:f,expected:i},e}}else s=u}var r=s.map(function(t){return Z(t.params)?1/0:t.params.length});if(n.length<Math.min.apply(null,r))return i=v(s,o),(e=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+n.length+")")).data={category:"tooFewArgs",fn:a,index:n.length,expected:i},e;r=Math.max.apply(null,r);return n.length>r?(e=new TypeError("Too many arguments in function "+a+" (expected: "+r+", actual: "+n.length+")")).data={category:"tooManyArgs",fn:a,index:n.length,expectedLength:r}:(e=new TypeError('Arguments of type "'+n.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:n.map(c)},e}function g(t){for(var r=999,n=0;n<t.types.length;n++)m(t.types[n])&&(r=Math.min(r,t.types[n].typeIndex));return r}function y(t){for(var r=999,n=0;n<t.types.length;n++)m(t.types[n])||(r=Math.min(r,t.types[n].conversionIndex));return r}function w(t,r){var n;return 0!==(n=t.restParam-r.restParam)||0!==(n=h(t)-h(r))||0!==(n=g(t)-g(r))?n:y(t)-y(r)}function $(t,r){var n,e,i=Math.min(t.params.length,r.params.length);if(0!==(e=t.params.some(h)-r.params.some(h)))return e;for(n=0;n<i;n++)if(0!==(e=h(t.params[n])-h(r.params[n])))return e;for(n=0;n<i;n++)if(0!==(e=w(t.params[n],r.params[n])))return e;return t.params.length-r.params.length}function x(t,r){var n={};return t.forEach(function(t){-1!==r.indexOf(t.from)||-1===r.indexOf(t.to)||n[t.from]||(n[t.from]=t)}),Object.keys(n).map(function(t){return n[t]})}function Y(t,e){var i,o,r=e;t.some(h)&&(i=Z(t),o=t.map(_),r=function(){for(var t=[],r=i?arguments.length-1:arguments.length,n=0;n<r;n++)t[n]=o[n](arguments[n]);return i&&(t[r]=arguments[r].map(o[r])),e.apply(this,t)});var n,a=r;return Z(t)&&(n=t.length-1,a=function(){return r.apply(this,O(arguments,0,n).concat([O(arguments,n)]))}),a}function _(t){var r,n,e,i,o=[],a=[];switch(t.types.forEach(function(t){t.conversion&&(o.push(s(t.conversion.from).test),a.push(t.conversion.convert))}),a.length){case 0:return function(t){return t};case 1:return r=o[0],e=a[0],function(t){return r(t)?e(t):t};case 2:return r=o[0],n=o[1],e=a[0],i=a[1],function(t){return r(t)?e(t):n(t)?i(t):t};default:return function(t){for(var r=0;r<a.length;r++)if(o[r](t))return a[r](t);return t}}}function W(t){var n={};return t.forEach(function(r){r.params.some(h)||X(r.params,!0).forEach(function(t){n[U(t)]=r.fn})}),n}function X(t,o){function a(n,r,e){if(r<n.length){var t=n[r],i=o?t.types.filter(m):t.types;return i=t.restParam?(t=i.filter(m)).length<i.length?[t,i]:[i]:i.map(function(t){return[t]}),tt(i,function(t){return a(n,r+1,e.concat([t]))})}i=e.map(function(t,r){return{types:t,restParam:r===n.length-1&&Z(n)}});return[i]}return a(t,0,[])}function G(t,r){for(var n=Math.max(t.params.length,r.params.length),e=0;e<n;e++){var i=l(t,e,!0),o=l(r,e,!0);if(!D(i,o))return!1}var a=t.params.length,s=r.params.length,u=Z(t.params),f=Z(r.params);return u?f?a===s:a<=s:f?s<=a:a===s}function b(r,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var e=[];Object.keys(n).map(function(t){return L(t,n[t],R.conversions)}).filter(K).forEach(function(r){var t=Q(e,function(t){return G(t,r)});if(t)throw new TypeError('Conflicting signatures "'+U(t.params)+'" and "'+U(r.params)+'".');e.push(r)});var i=tt(e,function(r){return(r?X(r.params,!1):[]).map(function(t){return{params:t,fn:r.fn}})}).filter(K);i.sort($);var t=i[0]&&i[0].params.length<=2&&!Z(i[0].params),o=i[1]&&i[1].params.length<=2&&!Z(i[1].params),a=i[2]&&i[2].params.length<=2&&!Z(i[2].params),s=i[3]&&i[3].params.length<=2&&!Z(i[3].params),u=i[4]&&i[4].params.length<=2&&!Z(i[4].params),f=i[5]&&i[5].params.length<=2&&!Z(i[5].params),c=t&&o&&a&&s&&u&&f,h=i.map(function(t){return V(t.params)}),p=t?H(i[0].params[0]):nt,l=o?H(i[1].params[0]):nt,d=a?H(i[2].params[0]):nt,m=s?H(i[3].params[0]):nt,v=u?H(i[4].params[0]):nt,g=f?H(i[5].params[0]):nt,y=t?H(i[0].params[1]):nt,w=o?H(i[1].params[1]):nt,x=a?H(i[2].params[1]):nt,_=s?H(i[3].params[1]):nt,b=u?H(i[4].params[1]):nt,M=f?H(i[5].params[1]):nt,N=i.map(function(t){return Y(t.params,t.fn)}),E=t?N[0]:et,S=o?N[1]:et,A=a?N[2]:et,z=s?N[3]:et,O=u?N[4]:et,C=f?N[5]:et,D=t?i[0].params.length:-1,F=o?i[1].params.length:-1,I=a?i[2].params.length:-1,B=s?i[3].params.length:-1,T=u?i[4].params.length:-1,j=f?i[5].params.length:-1,k=c?6:0,P=i.length,q=function(){for(var t=k;t<P;t++)if(h[t](arguments))return N[t].apply(this,arguments);throw J(r,arguments,i)},c=function t(r,n){return(arguments.length===D&&p(r)&&y(n)?E:arguments.length===F&&l(r)&&w(n)?S:arguments.length===I&&d(r)&&x(n)?A:arguments.length===B&&m(r)&&_(n)?z:arguments.length===T&&v(r)&&b(n)?O:arguments.length===j&&g(r)&&M(n)?C:q).apply(t,arguments)};try{Object.defineProperty(c,"name",{value:r})}catch(t){}return c.signatures=W(i),c}function M(t){return-1===R.ignore.indexOf(t)}function N(t){return t.trim()}function E(t){return!!t}function K(t){return null!==t}function S(t){return 0===t.types.length}function A(t){return t.slice(0,t.length-1)}function z(t){return t[t.length-1]}function O(t,r,n){return Array.prototype.slice.call(t,r,n)}function C(t,r){return-1!==t.indexOf(r)}function D(t,r){for(var n=0;n<t.length;n++)if(C(r,t[n]))return!0;return!1}function Q(t,r){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}function F(t){for(var r={},n=0;n<t.length;n++)r[t[n]]=!0;return Object.keys(r)}function tt(t,r){return Array.prototype.concat.apply([],t.map(r))}function I(t){for(var r="",n=0;n<t.length;n++){var e=t[n];if(("object"==typeof e.signatures||"string"==typeof e.signature)&&""!==e.name)if(""===r)r=e.name;else if(r!==e.name){var i=new Error("Function names do not match (expected: "+r+", actual: "+e.name+")");throw i.data={actual:e.name,expected:r},i}}return r}function B(t){var n,e={};function r(t,r){if(e.hasOwnProperty(t)&&r!==e[t])throw(n=new Error('Signature "'+t+'" is defined twice')).data={signature:t},n}for(var i=0;i<t.length;i++){var o=t[i];if("object"==typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(r(a,o.signatures[a]),e[a]=o.signatures[a]);else{if("string"!=typeof o.signature)throw(n=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},n;r(o.signature,o),e[o.signature]=o}}return e}R=b("typed",{"string, Object":b,Object:function(t){var r,n=[];for(r in t)t.hasOwnProperty(r)&&n.push(t[r]);var e=I(n);return b(e,t)},"...Function":function(t){return b(I(t),B(t))},"string, ...Function":function(t,r){return b(t,B(r))}});R.create=t;R.types=r;R.conversions=i;R.ignore=e;R.convert=u;R.find=a;R.addType=function(t,r){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==r)for(var n=0;n<R.types.length;n++)if("Object"===R.types[n].name)return void R.types.splice(n,0,t);R.types.push(t)};R.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");R.conversions.push(t)};return R}();function tt(t){return"boolean"==typeof t||isFinite(t)&&t===Math.round(t)}function it(t,r,n){var e={2:"0b",8:"0o",16:"0x"}[r],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!tt(n))throw new Error("size must be an integer");if(2**(n-1)-1<t||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!tt(t))throw new Error("Value must be an integer");t<0&&(t+=2**n),i="i".concat(n)}n="";return t<0&&(t=-t,n="-"),"".concat(n).concat(e).concat(t.toString(r)).concat(i)}function ot(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,e,i="auto";if(r&&(r.notation&&(i=r.notation),w(r)?n=r:w(r.precision)&&(n=r.precision),r.wordSize&&"number"!=typeof(e=r.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=at(t),e="number"==typeof r?ut(n,n.exponent+1+r):n,t=e.coefficients,n=e.exponent+1,r=n+(r||0);t.length<r&&(t=t.concat(ft(r-t.length)));n<0&&(t=ft(1-n).concat(t),n=1);n<t.length&&t.splice(n,0,0===n?"0.":".");return e.sign+t.join("")}(t,n);case"exponential":return st(t,n);case"engineering":return function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=ut(at(t),r),e=n.exponent,i=n.coefficients,o=e%3==0?e:e<0?e-3-e%3:e-e%3;if(w(r))for(;r>i.length||e-o+1>i.length;)i.push(0);else for(var a=Math.abs(e-o)-(i.length-1),s=0;s<a;s++)i.push(0);var u=Math.abs(e-o),f=1;for(;0<u;)f++,u--;t=i.slice(f).join(""),t=w(r)&&t.length||t.match(/[1-9]/)?"."+t:"",t=i.slice(0,f).join("")+t+"e"+(0<=e?"+":"")+o.toString();return n.sign+t}(t,n);case"bin":return it(t,2,e);case"oct":return it(t,8,e);case"hex":return it(t,16,e);case"auto":return function(t,r,n){if(isNaN(t)||!isFinite(t))return String(t);var e=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,n=at(t),n=r?ut(n,r):n;{if(n.exponent<e||n.exponent>=i)return st(t,r);i=n.coefficients,t=n.exponent;i=(i=i.length<r?i.concat(ft(r-i.length)):i).concat(ft(t-i.length+1+(i.length<r?r-i.length:0))),i=ft(-t).concat(i);t=0<t?t:0;return t<i.length-1&&i.splice(t+1,0,"."),n.sign+i.join("")}}(t,n,r).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function at(t){var r=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var n=r[1],t=r[2],e=parseFloat(r[4]||"0"),r=t.indexOf(".");e+=-1!==r?r-1:t.length-1;t=t.replace(".","").replace(/^0*/,function(t){return e-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===t.length&&(t.push(0),e++),{sign:n,coefficients:t,exponent:e}}function st(t,r){if(isNaN(t)||!isFinite(t))return String(t);var n=at(t),e=r?ut(n,r):n,t=e.coefficients,n=e.exponent,r=(t=t.length<r?t.concat(ft(r-t.length)):t).shift();return e.sign+r+(0<t.length?"."+t.join(""):"")+"e"+(0<=n?"+":"")+n}function ut(t,r){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},e=n.coefficients;r<=0;)e.unshift(0),n.exponent++,r++;if(e.length>r&&5<=e.splice(r,e.length-r)[0]){var i=r-1;for(e[i]++;10===e[i];)e.pop(),0===i&&(e.unshift(0),n.exponent++,i++),e[--i]++}return n}function ft(t){for(var r=[],n=0;n<t;n++)r.push(0);return r}var ct=Number.EPSILON||2220446049250313e-31;function ht(t,r,n){if(null==n)return t===r;if(t===r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var e=Math.abs(t-r);return e<ct||e<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}function pt(t,r,n){var e=new t.constructor(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!tt(n))throw new Error("size must be an integer");if(t.greaterThan(e.pow(n-1).sub(1))||t.lessThan(e.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(e.pow(n))),i="i".concat(n)}switch(r){case 2:return"".concat(t.toBinary()).concat(i);case 8:return"".concat(t.toOctal()).concat(i);case 16:return"".concat(t.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(r," not supported "))}}function lt(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,e,i="auto";if(void 0!==r&&(r.notation&&(i=r.notation),"number"==typeof r?n=r:r.precision&&(n=r.precision),r.wordSize&&"number"!=typeof(e=r.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return u=n,t.toFixed(u);case"exponential":return dt(t,n);case"engineering":return function(t,r){var n=t.e,e=n%3==0?n:n<0?n-3-n%3:n-n%3,t=t.mul(Math.pow(10,-e)),r=t.toPrecision(r);-1!==r.indexOf("e")&&(r=t.toString());return r+"e"+(0<=n?"+":"")+e.toString()}(t,n);case"bin":return pt(t,2,e);case"oct":return pt(t,8,e);case"hex":return pt(t,16,e);case"auto":var o=r&&void 0!==r.lowerExp?r.lowerExp:-3,a=r&&void 0!==r.upperExp?r.upperExp:5;if(t.isZero())return"0";var s=t.toSignificantDigits(n),u=s.e;return(o<=u&&u<a?s.toFixed():dt(t,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function dt(t,r){return void 0!==r?t.toExponential(r-1):t.toExponential()}function mt(r,n){return"number"==typeof r?ot(r,n):x(r)?lt(r,n):(t=r)&&"object"==typeof t&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1?n&&"decimal"===n.fraction?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?function t(r,n){{if(Array.isArray(r)){for(var e="[",i=r.length,o=0;o<i;o++)0!==o&&(e+=", "),e+=t(r[o],n);return e+="]"}return mt(r,n)}}(r,n):S(r)?'"'+r+'"':"function"==typeof r?r.syntax?String(r.syntax):"function":r&&"object"==typeof r?"function"==typeof r.format?r.format(n):r&&r.toString(n)!=={}.toString()?r.toString(n):"{"+Object.keys(r).map(t=>'"'+t+'": '+mt(r[t],n)).join(", ")+"}":String(r);var t}function vt(t,r,n){if(!(this instanceof vt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=(new Error).stack}function gt(t,r,n){if(!(this instanceof gt))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function yt(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function wt(t,r){if(0===r.length){if(Array.isArray(t))throw new vt(t.length,0)}else!function t(r,n,e){var i=r.length;if(i!==n[e])throw new vt(i,n[e]);if(e<n.length-1)for(var o=e+1,a=0;a<i;a++){var s=r[a];if(!Array.isArray(s))throw new vt(n.length-1,n.length,"<");t(r[a],n,o)}else for(a=0;a<i;a++)if(Array.isArray(r[a]))throw new vt(n.length+1,n.length,">")}(t,r,0)}function xt(t,r){if(!w(t)||!tt(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof r&&r<=t)throw new gt(t,r)}function _t(t,r,n){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");return r.forEach(function(t){if(!w(t)||!tt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+mt(r)+")")}),function t(r,n,e,i){var o;var a;var s=r.length;var u=n[e];var f=Math.min(s,u);r.length=u;if(e<n.length-1){var c=e+1;for(o=0;o<f;o++)a=r[o],Array.isArray(a)||(a=[a],r[o]=a),t(a,n,c,i);for(o=f;o<u;o++)a=[],r[o]=a,t(a,n,c,i)}else{for(o=0;o<f;o++)for(;Array.isArray(r[o]);)r[o]=r[o][0];for(o=f;o<u;o++)r[o]=i}}(t,r,0,void 0!==n?n:0),t}function bt(r,t){var n=function(t){if(!Array.isArray(t))return t;var n=[];return t.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.push(r)}),n}(r),e=n.length;if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new vt(0,e,"!=");r=Nt(t=Mt(t,e));if(e!==r)throw new vt(r,e,"!=");try{return function(t,r){for(var n,e=t,i=r.length-1;0<i;i--){var o=r[i];n=[];for(var a=e.length/o,s=0;s<a;s++)n.push(e.slice(s*o,(s+1)*o));e=n}return e}(n,t)}catch(t){if(t instanceof vt)throw new vt(r,e,"!=");throw t}}function Mt(t,r){var n=Nt(t),e=t.slice(),i=t.indexOf(-1);if(0<=t.indexOf(-1,i+1))throw new Error("More than one wildcard in sizes");if(0<=i){if(!(r%n==0))throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-n);e[i]=-r/n}return e}function Nt(t){return t.reduce((t,r)=>t*r,1)}function Et(t,r,n,e){var i=e||yt(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=function t(r,n,e){var i,o;if(Array.isArray(r)){var a=e+1;for(i=0,o=r.length;i<o;i++)r[i]=t(r[i],n,a)}else for(var s=e;s<n;s++)r=[r];return r}(t,r,0);i.length<r;)i.push(1);return t}function St(t,r){for(var n,e=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(0===i&&a&&(e=o.length),a&&o.length!==e)return;o=a?St(o,r):r(o);if(void 0===n)n=o;else if(n!==o)return"mixed"}return n}function At(n,e,i,t){function r(t){var r=function(t,r){for(var n={},e=0;e<r.length;e++){var i=r[e],o=t[i];void 0!==o&&(n[i]=o)}return n}(t,e.map(zt));return function(t,r,n){if(!r.filter(t=>!function(t){return t&&"?"===t[0]}(t)).every(t=>void 0!==n[t])){r=r.filter(t=>void 0===n[t]);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map(t=>'"'.concat(t,'"')).join(", "),"."))}}(n,e,t),i(r)}return r.isFactory=!0,r.fn=n,r.dependencies=e.slice().sort(),t&&(r.meta=t),r}function zt(t){return t&&"?"===t[0]?t.slice(1):t}function Ot(t,r){if(Dt(t)&&Ct(t,r))return t[r];if("function"==typeof t[r]&&function(t,r){if(null==t||"function"!=typeof t[r])return!1;if(X(t,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(t))return!1;if(X(It,r))return!0;if(r in Object.prototype)return!1;if(r in Function.prototype)return!1;return!0}(t,r))throw new Error('Cannot access method "'+r+'" as a property');throw new Error('No access to property "'+r+'"')}function Ct(t,r){return t&&"object"==typeof t&&(X(Ft,r)||!(r in Object.prototype)&&!(r in Function.prototype))}function Dt(t){return"object"==typeof t&&t&&t.constructor===Object}(vt.prototype=new RangeError).constructor=RangeError,vt.prototype.name="DimensionError",vt.prototype.isDimensionError=!0,(gt.prototype=new RangeError).constructor=RangeError,gt.prototype.name="IndexError";var Ft={length:gt.prototype.isIndexError=!0,name:!0},It={toString:!0,valueOf:!0,toLocaleString:!0};class Bt{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return Ot(this.wrappedObject,t)}set(t,r){return function(t,r,n){if(Dt(t)&&Ct(t,r))return t[r]=n;throw new Error('No access to property "'+r+'"')}(this.wrappedObject,t,r),this}has(t){return r=this.wrappedObject,t in r;var r}}function Tt(t){return!!t&&(t instanceof Map||t instanceof Bt||"function"==typeof t.set&&"function"==typeof t.get&&"function"==typeof t.keys&&"function"==typeof t.has)}var jt=function(){return jt=Q.create,Q},kt=At("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(t){var{BigNumber:n,Complex:e,DenseMatrix:r,Fraction:i}=t,t=jt();return t.types=[{name:"number",test:w},{name:"Complex",test:u},{name:"BigNumber",test:x},{name:"Fraction",test:f},{name:"Unit",test:c},{name:"string",test:S},{name:"Chain",test:V},{name:"Array",test:_},{name:"Matrix",test:A},{name:"DenseMatrix",test:p},{name:"SparseMatrix",test:l},{name:"Range",test:d},{name:"Index",test:b},{name:"boolean",test:m},{name:"ResultSet",test:v},{name:"Help",test:g},{name:"function",test:y},{name:"Date",test:M},{name:"RegExp",test:N},{name:"null",test:z},{name:"undefined",test:O},{name:"AccessorNode",test:C},{name:"ArrayNode",test:D},{name:"AssignmentNode",test:F},{name:"BlockNode",test:I},{name:"ConditionalNode",test:B},{name:"ConstantNode",test:T},{name:"FunctionNode",test:k},{name:"FunctionAssignmentNode",test:j},{name:"IndexNode",test:P},{name:"Node",test:q},{name:"ObjectNode",test:R},{name:"OperatorNode",test:U},{name:"ParenthesisNode",test:L},{name:"RangeNode",test:Z},{name:"SymbolNode",test:H},{name:"Map",test:Tt},{name:"Object",test:E}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(n||Pt(t),15<t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new n(t)}},{from:"number",to:"Complex",convert:function(t){return e||qt(t),new e(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return e||qt(t),new e(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return e||qt(t),new e(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||Rt(t);var r=new i(t);if(r.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return r}},{from:"string",to:"number",convert:function(t){var r=Number(t);if(isNaN(r))throw new Error('Cannot convert "'+t+'" to a number');return r}},{from:"string",to:"BigNumber",convert:function(r){n||Pt(r);try{return new n(r)}catch(t){throw new Error('Cannot convert "'+r+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(r){i||Rt(r);try{return new i(r)}catch(t){throw new Error('Cannot convert "'+r+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(r){e||qt(r);try{return new e(r)}catch(t){throw new Error('Cannot convert "'+r+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return n||Pt(t),new n(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||Rt(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],t});function Pt(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function qt(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function Rt(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Ut,Lt,Zt=9e15,Ht=1e9,Vt="0123456789abcdef",Jt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$t="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Yt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Zt,maxE:Zt,crypto:!1},Wt=!0,Xt="[DecimalError] ",Gt=Xt+"Invalid argument: ",Kt=Xt+"Precision limit exceeded",Qt=Xt+"crypto unavailable",tr="[object Decimal]",rr=Math.floor,nr=Math.pow,er=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ir=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,or=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ar=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr=1e7,ur=7,fr=Jt.length-1,cr=$t.length-1,hr={toStringTag:tr};function pr(t){var r,n,e,i=t.length-1,o="",a=t[0];if(0<i){for(o+=a,r=1;r<i;r++)e=t[r]+"",(n=ur-e.length)&&(o+=Sr(n)),o+=e;a=t[r],(n=ur-(e=a+"").length)&&(o+=Sr(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function lr(t,r,n){if(t!==~~t||t<r||n<t)throw Error(Gt+t)}function dr(t,r,n,e){for(var i,o,a=t[0];10<=a;a/=10)--r;return--r<0?(r+=ur,i=0):(i=Math.ceil((r+1)/ur),r%=ur),a=nr(10,ur-r),o=t[i]%a|0,null==e?r<3?(0==r?o=o/100|0:1==r&&(o=o/10|0),n<4&&99999==o||3<n&&49999==o||5e4==o||0==o):(n<4&&o+1==a||3<n&&o+1==a/2)&&(t[i+1]/a/100|0)==nr(10,r-2)-1||(o==a/2||0==o)&&0==(t[i+1]/a/100|0):r<4?(0==r?o=o/1e3|0:1==r?o=o/100|0:2==r&&(o=o/10|0),(e||n<4)&&9999==o||!e&&3<n&&4999==o):((e||n<4)&&o+1==a||!e&&3<n&&o+1==a/2)&&(t[i+1]/a/1e3|0)==nr(10,r-3)-1}function mr(t,r,n){for(var e,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=r;for(o[0]+=Vt.indexOf(t.charAt(a++)),e=0;e<o.length;e++)o[e]>n-1&&(void 0===o[e+1]&&(o[e+1]=0),o[e+1]+=o[e]/n|0,o[e]%=n)}return o.reverse()}hr.absoluteValue=hr.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),xr(t)},hr.ceil=function(){return xr(new this.constructor(this),this.e+1,2)},hr.clampedTo=hr.clamp=function(t,r){var n=this.constructor;if(t=new n(t),r=new n(r),!t.s||!r.s)return new n(NaN);if(t.gt(r))throw Error(Gt+r);return this.cmp(t)<0?t:0<this.cmp(r)?r:new n(this)},hr.comparedTo=hr.cmp=function(t){var r,n,e=this,i=e.d,o=(t=new e.constructor(t)).d,a=e.s,s=t.s;if(!i||!o)return a&&s?a!==s?a:i===o?0:!i^a<0?1:-1:NaN;if(!i[0]||!o[0])return i[0]?a:o[0]?-s:0;if(a!==s)return a;if(e.e!==t.e)return e.e>t.e^a<0?1:-1;for(r=0,n=(e=i.length)<(t=o.length)?e:t;r<n;++r)if(i[r]!==o[r])return i[r]>o[r]^a<0?1:-1;return e===t?0:t<e^a<0?1:-1},hr.cosine=hr.cos=function(){var t,r,n=this,e=n.constructor;return n.d?n.d[0]?(t=e.precision,r=e.rounding,e.precision=t+Math.max(n.e,n.sd())+ur,e.rounding=1,n=function(t,r){var n,e;if(r.isZero())return r;e=(e=r.d.length)<32?(n=Math.ceil(e/3),(1/Tr(4,n)).toString()):(n=16,"2.3283064365386962890625e-10");t.precision+=n,r=Br(t,1,r.times(e),new t(1));for(var i=n;i--;){var o=r.times(r);r=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,r}(e,jr(e,n)),e.precision=t,e.rounding=r,xr(2==Lt||3==Lt?n.neg():n,t,r,!0)):new e(1):new e(NaN)},hr.cubeRoot=hr.cbrt=function(){var t,r,n,e,i,o,a,s,u,f,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(Wt=!1,(o=c.s*nr(c.s*c,1/3))&&Math.abs(o)!=1/0?e=new h(o.toString()):(n=pr(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=nr(n,1/3),t=rr((t+1)/3)-(t%3==(t<0?-1:2)),(e=new h(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=h.precision)+3;;)if(f=(u=(s=e).times(s).times(s)).plus(c),e=vr(f.plus(c).times(s),f.plus(u),a+2,1),pr(s.d).slice(0,a)===(n=pr(e.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(xr(e,t+1,1),r=!e.times(e).times(e).eq(c));break}if(!i&&(xr(s,t+1,0),s.times(s).times(s).eq(c))){e=s;break}a+=4,i=1}return Wt=!0,xr(e,t,h.rounding,r)},hr.decimalPlaces=hr.dp=function(){var t,r=this.d,n=NaN;if(r){if(n=((t=r.length-1)-rr(this.e/ur))*ur,t=r[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},hr.dividedBy=hr.div=function(t){return vr(this,new this.constructor(t))},hr.dividedToIntegerBy=hr.divToInt=function(t){var r=this.constructor;return xr(vr(this,new r(t),0,1,1),r.precision,r.rounding)},hr.equals=hr.eq=function(t){return 0===this.cmp(t)},hr.floor=function(){return xr(new this.constructor(this),this.e+1,3)},hr.greaterThan=hr.gt=function(t){return 0<this.cmp(t)},hr.greaterThanOrEqualTo=hr.gte=function(t){t=this.cmp(t);return 1==t||0===t},hr.hyperbolicCosine=hr.cosh=function(){var t,r,n,e=(s=this).constructor,i=new e(1);if(!s.isFinite())return new e(s.s?1/0:NaN);if(s.isZero())return i;r=e.precision,n=e.rounding,e.precision=r+Math.max(s.e,s.sd())+4,e.rounding=1;for(var o,a=(a=s.d.length)<32?(1/Tr(4,t=Math.ceil(a/3))).toString():(t=16,"2.3283064365386962890625e-10"),s=Br(e,1,s.times(a),new e(1),!0),u=t,f=new e(8);u--;)o=s.times(s),s=i.minus(o.times(f.minus(o.times(f))));return xr(s,e.precision=r,e.rounding=n,!0)},hr.hyperbolicSine=hr.sinh=function(){var t,r,n,e=(a=this).constructor;if(!a.isFinite()||a.isZero())return new e(a);if(t=e.precision,r=e.rounding,e.precision=t+Math.max(a.e,a.sd())+4,e.rounding=1,(n=a.d.length)<3)a=Br(e,2,a,a,!0);else for(var i,o=1.4*Math.sqrt(n),a=Br(e,2,a=a.times(1/Tr(5,o=16<o?16:0|o)),a,!0),s=new e(5),u=new e(16),f=new e(20);o--;)i=a.times(a),a=a.times(s.plus(i.times(u.times(i).plus(f))));return xr(a,e.precision=t,e.rounding=r,!0)},hr.hyperbolicTangent=hr.tanh=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+7,e.rounding=1,vr(n.sinh(),n.cosh(),e.precision=t,e.rounding=r)):new e(n.s)},hr.inverseCosine=hr.acos=function(){var t=this,r=t.constructor,n=t.abs().cmp(1),e=r.precision,i=r.rounding;return-1!==n?0===n?t.isNeg()?Nr(r,e,i):new r(0):new r(NaN):t.isZero()?Nr(r,e+4,i).times(.5):(r.precision=e+6,r.rounding=1,t=t.asin(),n=Nr(r,e+4,i).times(.5),r.precision=e,r.rounding=i,n.minus(t))},hr.inverseHyperbolicCosine=hr.acosh=function(){var t,r,n=this,e=n.constructor;return n.lte(1)?new e(n.eq(1)?0:NaN):n.isFinite()?(t=e.precision,r=e.rounding,e.precision=t+Math.max(Math.abs(n.e),n.sd())+4,e.rounding=1,Wt=!1,n=n.times(n).minus(1).sqrt().plus(n),Wt=!0,e.precision=t,e.rounding=r,n.ln()):new e(n)},hr.inverseHyperbolicSine=hr.asinh=function(){var t,r,n=this,e=n.constructor;return!n.isFinite()||n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,e.rounding=1,Wt=!1,n=n.times(n).plus(1).sqrt().plus(n),Wt=!0,e.precision=t,e.rounding=r,n.ln())},hr.inverseHyperbolicTangent=hr.atanh=function(){var t,r,n,e=this,i=e.constructor;return e.isFinite()?0<=e.e?new i(e.abs().eq(1)?e.s/0:e.isZero()?e:NaN):(t=i.precision,r=i.rounding,n=e.sd(),Math.max(n,t)<2*-e.e-1?xr(new i(e),t,r,!0):(i.precision=n=n-e.e,e=vr(e.plus(1),new i(1).minus(e),n+t,1),i.precision=t+4,i.rounding=1,e=e.ln(),i.precision=t,i.rounding=r,e.times(.5))):new i(NaN)},hr.inverseSine=hr.asin=function(){var t,r,n,e=this,i=e.constructor;return e.isZero()?new i(e):(t=e.abs().cmp(1),r=i.precision,n=i.rounding,-1!==t?0===t?((t=Nr(i,r+4,n).times(.5)).s=e.s,t):new i(NaN):(i.precision=r+6,i.rounding=1,e=e.div(new i(1).minus(e.times(e)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,e.times(2)))},hr.inverseTangent=hr.atan=function(){var t,r,n,e,i,o,a,s,u,f=this,c=f.constructor,h=c.precision,p=c.rounding;if(f.isFinite()){if(f.isZero())return new c(f);if(f.abs().eq(1)&&h+4<=cr)return(a=Nr(c,h+4,p).times(.25)).s=f.s,a}else{if(!f.s)return new c(NaN);if(h+4<=cr)return(a=Nr(c,h+4,p).times(.5)).s=f.s,a}for(c.precision=s=h+10,c.rounding=1,t=n=Math.min(28,s/ur+2|0);t;--t)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(Wt=!1,r=Math.ceil(s/ur),e=1,u=f.times(f),a=new c(f),i=f;-1!==t;)if(i=i.times(u),o=a.minus(i.div(e+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(e+=2))).d[r])for(t=r;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),Wt=!0,xr(a,c.precision=h,c.rounding=p,!0)},hr.isFinite=function(){return!!this.d},hr.isInteger=hr.isInt=function(){return!!this.d&&rr(this.e/ur)>this.d.length-2},hr.isNaN=function(){return!this.s},hr.isNegative=hr.isNeg=function(){return this.s<0},hr.isPositive=hr.isPos=function(){return 0<this.s},hr.isZero=function(){return!!this.d&&0===this.d[0]},hr.lessThan=hr.lt=function(t){return this.cmp(t)<0},hr.lessThanOrEqualTo=hr.lte=function(t){return this.cmp(t)<1},hr.logarithm=hr.log=function(t){var r,n,e,i,o,a,s,u,f=this,c=f.constructor,h=c.precision,p=c.rounding;if(null==t)t=new c(10),r=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);r=t.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new c(n&&!n[0]?-1/0:1!=f.s?NaN:n?0:1/0);if(r)if(1<n.length)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(Wt=!1,a=Dr(f,s=h+5),e=r?Mr(c,s+10):Dr(t,s),dr((u=vr(a,e,s,1)).d,i=h,p))do{if(a=Dr(f,s+=10),e=r?Mr(c,s+10):Dr(t,s),u=vr(a,e,s,1),!o){+pr(u.d).slice(i+1,i+15)+1==1e14&&(u=xr(u,h+1,0));break}}while(dr(u.d,i+=10,p));return Wt=!0,xr(u,h,p)},hr.minus=hr.sub=function(t){var r,n,e,i,o,a,s,u,f,c,h,p=this,l=p.constructor;if(t=new l(t),!p.d||!t.d)return p.s&&t.s?p.d?t.s=-t.s:t=new l(t.d||p.s!==t.s?p:NaN):t=new l(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(f=p.d,h=t.d,s=l.precision,u=l.rounding,!f[0]||!h[0]){if(h[0])t.s=-t.s;else{if(!f[0])return new l(3===u?-0:0);t=new l(p)}return Wt?xr(t,s,u):t}if(n=rr(t.e/ur),p=rr(p.e/ur),f=f.slice(),o=p-n){for(a=(c=o<0)?(r=f,o=-o,h.length):(r=h,n=p,f.length),(e=Math.max(Math.ceil(s/ur),a)+2)<o&&(o=e,r.length=1),r.reverse(),e=o;e--;)r.push(0);r.reverse()}else{for((c=(e=f.length)<(a=h.length))&&(a=e),e=0;e<a;e++)if(f[e]!=h[e]){c=f[e]<h[e];break}o=0}for(c&&(r=f,f=h,h=r,t.s=-t.s),a=f.length,e=h.length-a;0<e;--e)f[a++]=0;for(e=h.length;o<e;){if(f[--e]<h[e]){for(i=e;i&&0===f[--i];)f[i]=sr-1;--f[i],f[e]+=sr}f[e]-=h[e]}for(;0===f[--a];)f.pop();for(;0===f[0];f.shift())--n;return f[0]?(t.d=f,t.e=br(f,n),Wt?xr(t,s,u):t):new l(3===u?-0:0)},hr.modulo=hr.mod=function(t){var r,n=this,e=n.constructor;return t=new e(t),!n.d||!t.s||t.d&&!t.d[0]?new e(NaN):!t.d||n.d&&!n.d[0]?xr(new e(n),e.precision,e.rounding):(Wt=!1,9==e.modulo?(r=vr(n,t.abs(),0,3,1)).s*=t.s:r=vr(n,t,0,e.modulo,1),r=r.times(t),Wt=!0,n.minus(r))},hr.naturalExponential=hr.exp=function(){return Cr(this)},hr.naturalLogarithm=hr.ln=function(){return Dr(this)},hr.negated=hr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,xr(t)},hr.plus=hr.add=function(t){var r,n,e,i,o,a,s,u,f=this,c=f.constructor;if(t=new c(t),!f.d||!t.d)return f.s&&t.s?f.d||(t=new c(t.d||f.s===t.s?f:NaN)):t=new c(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(s=f.d,u=t.d,o=c.precision,a=c.rounding,!s[0]||!u[0])return u[0]||(t=new c(f)),Wt?xr(t,o,a):t;if(c=rr(f.e/ur),f=rr(t.e/ur),s=s.slice(),e=c-f){for((i=(i=e<0?(n=s,e=-e,u.length):(n=u,f=c,s.length))<(c=Math.ceil(o/ur))?c+1:i+1)<e&&(e=i,n.length=1),n.reverse();e--;)n.push(0);n.reverse()}for((i=s.length)-(e=u.length)<0&&(e=i,n=u,u=s,s=n),r=0;e;)r=(s[--e]=s[e]+u[e]+r)/sr|0,s[e]%=sr;for(r&&(s.unshift(r),++f),i=s.length;0==s[--i];)s.pop();return t.d=s,t.e=br(s,f),Wt?xr(t,o,a):t},hr.precision=hr.sd=function(t){var r;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Gt+t);return this.d?(r=Er(this.d),t&&this.e+1>r&&(r=this.e+1)):r=NaN,r},hr.round=function(){var t=this.constructor;return xr(new t(this),this.e+1,t.rounding)},hr.sine=hr.sin=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+Math.max(n.e,n.sd())+ur,e.rounding=1,n=function(t,r){var n,e=r.d.length;if(e<3)return r.isZero()?r:Br(t,2,r,r);n=16<(n=1.4*Math.sqrt(e))?16:0|n,r=r.times(1/Tr(5,n)),r=Br(t,2,r,r);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=r.times(r),r=r.times(o.plus(i.times(a.times(i).minus(s))));return r}(e,jr(e,n)),e.precision=t,e.rounding=r,xr(2<Lt?n.neg():n,t,r,!0)):new e(NaN)},hr.squareRoot=hr.sqrt=function(){var t,r,n,e,i,o,a=this,s=a.d,u=a.e,f=a.s,c=a.constructor;if(1!==f||!s||!s[0])return new c(!f||f<0&&(!s||s[0])?NaN:s?a:1/0);for(Wt=!1,e=0==(f=Math.sqrt(+a))||f==1/0?(((r=pr(s)).length+u)%2==0&&(r+="0"),f=Math.sqrt(r),u=rr((u+1)/2)-(u<0||u%2),new c(r=f==1/0?"5e"+u:(r=f.toExponential()).slice(0,r.indexOf("e")+1)+u)):new c(f.toString()),n=(u=c.precision)+3;;)if(e=(o=e).plus(vr(a,o,n+2,1)).times(.5),pr(o.d).slice(0,n)===(r=pr(e.d)).slice(0,n)){if("9999"!=(r=r.slice(n-3,n+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(xr(e,u+1,1),t=!e.times(e).eq(a));break}if(!i&&(xr(o,u+1,0),o.times(o).eq(a))){e=o;break}n+=4,i=1}return Wt=!0,xr(e,u,c.rounding,t)},hr.tangent=hr.tan=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+10,e.rounding=1,(n=n.sin()).s=1,n=vr(n,new e(1).minus(n.times(n)).sqrt(),t+10,0),e.precision=t,e.rounding=r,xr(2==Lt||4==Lt?n.neg():n,t,r,!0)):new e(NaN)},hr.times=hr.mul=function(t){var r,n,e,i,o,a,s,u,f,c=this.constructor,h=this.d,p=(t=new c(t)).d;if(t.s*=this.s,!(h&&h[0]&&p&&p[0]))return new c(!t.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*t.s:t.s/0);for(n=rr(this.e/ur)+rr(t.e/ur),(u=h.length)<(f=p.length)&&(o=h,h=p,p=o,a=u,u=f,f=a),o=[],e=a=u+f;e--;)o.push(0);for(e=f;0<=--e;){for(r=0,i=u+e;e<i;)s=o[i]+p[e]*h[i-e-1]+r,o[i--]=s%sr|0,r=s/sr|0;o[i]=(o[i]+r)%sr|0}for(;!o[--a];)o.pop();return r?++n:o.shift(),t.d=o,t.e=br(o,n),Wt?xr(t,c.precision,c.rounding):t},hr.toBinary=function(t,r){return kr(this,2,t,r)},hr.toDecimalPlaces=hr.toDP=function(t,r){var n=this.constructor,e=new n(this);return void 0===t?e:(lr(t,0,Ht),void 0===r?r=n.rounding:lr(r,0,8),xr(e,t+e.e+1,r))},hr.toExponential=function(t,r){var n=this,e=n.constructor,t=void 0===t?_r(n,!0):(lr(t,0,Ht),void 0===r?r=e.rounding:lr(r,0,8),_r(n=xr(new e(n),t+1,r),!0,t+1));return n.isNeg()&&!n.isZero()?"-"+t:t},hr.toFixed=function(t,r){var n=this,e=n.constructor,i=void 0===t?_r(n):(lr(t,0,Ht),void 0===r?r=e.rounding:lr(r,0,8),_r(i=xr(new e(n),t+n.e+1,r),!1,t+i.e+1));return n.isNeg()&&!n.isZero()?"-"+i:i},hr.toFraction=function(t){var r,n,e,i,o,a,s,u,f,c,h=this,p=h.d,l=h.constructor;if(!p)return new l(h);if(u=n=new l(1),e=s=new l(0),o=(r=new l(e)).e=Er(p)-h.e-1,r.d[0]=nr(10,(f=o%ur)<0?ur+f:f),null==t)t=0<o?r:u;else{if(!(a=new l(t)).isInt()||a.lt(u))throw Error(Gt+a);t=a.gt(r)?0<o?r:u:a}for(Wt=!1,a=new l(pr(p)),f=l.precision,l.precision=o=p.length*ur*2;c=vr(a,r,0,1,1),1!=(i=n.plus(c.times(e))).cmp(t);)n=e,e=i,i=u,u=s.plus(c.times(i)),s=i,i=r,r=a.minus(c.times(i)),a=i;return i=vr(t.minus(n),e,0,1,1),s=s.plus(i.times(u)),n=n.plus(i.times(e)),s.s=u.s=h.s,h=vr(u,e,o,1).minus(h).abs().cmp(vr(s,n,o,1).minus(h).abs())<1?[u,e]:[s,n],l.precision=f,Wt=!0,h},hr.toHexadecimal=hr.toHex=function(t,r){return kr(this,16,t,r)},hr.toNearest=function(t,r){var n=(e=this).constructor,e=new n(e);if(null==t){if(!e.d)return e;t=new n(1),r=n.rounding}else{if(t=new n(t),void 0===r?r=n.rounding:lr(r,0,8),!e.d)return t.s?e:t;if(!t.d)return t.s&&(t.s=e.s),t}return t.d[0]?(Wt=!1,e=vr(e,t,0,r,1).times(t),Wt=!0,xr(e)):(t.s=e.s,e=t),e},hr.toNumber=function(){return+this},hr.toOctal=function(t,r){return kr(this,8,t,r)},hr.toPower=hr.pow=function(t){var r,n,e,i,o,a,s=this,u=s.constructor,f=+(t=new u(t));if(!(s.d&&t.d&&s.d[0]&&t.d[0]))return new u(nr(+s,f));if((s=new u(s)).eq(1))return s;if(e=u.precision,o=u.rounding,t.eq(1))return xr(s,e,o);if((r=rr(t.e/ur))>=t.d.length-1&&(n=f<0?-f:f)<=9007199254740991)return i=Ar(u,s,n,e),t.s<0?new u(1).div(i):xr(i,e,o);if((a=s.s)<0){if(r<t.d.length-1)return new u(NaN);if(0==(1&t.d[r])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(r=0!=(n=nr(+s,f))&&isFinite(n)?new u(n+"").e:rr(f*(Math.log("0."+pr(s.d))/Math.LN10+s.e+1)))>u.maxE+1||r<u.minE-1?new u(0<r?a/0:0):(Wt=!1,u.rounding=s.s=1,n=Math.min(12,(r+"").length),(i=(i=Cr(t.times(Dr(s,e+n)),e)).d&&dr((i=xr(i,e+5,1)).d,e,o)&&+pr((i=xr(Cr(t.times(Dr(s,(r=e+10)+n)),r),r+5,1)).d).slice(e+1,e+15)+1==1e14?xr(i,e+1,0):i).s=a,Wt=!0,xr(i,e,u.rounding=o))},hr.toPrecision=function(t,r){var n=this,e=n.constructor,t=void 0===t?_r(n,n.e<=e.toExpNeg||n.e>=e.toExpPos):(lr(t,1,Ht),void 0===r?r=e.rounding:lr(r,0,8),_r(n=xr(new e(n),t,r),t<=n.e||n.e<=e.toExpNeg,t));return n.isNeg()&&!n.isZero()?"-"+t:t},hr.toSignificantDigits=hr.toSD=function(t,r){var n=this.constructor;return void 0===t?(t=n.precision,r=n.rounding):(lr(t,1,Ht),void 0===r?r=n.rounding:lr(r,0,8)),xr(new n(this),t,r)},hr.toString=function(){var t=this,r=t.constructor,r=_r(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},hr.truncated=hr.trunc=function(){return xr(new this.constructor(this),this.e+1,1)},hr.valueOf=hr.toJSON=function(){var t=this,r=t.constructor,r=_r(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()?"-"+r:r};var vr=function(t,r,n,e,i,o){var a,s,u,f,c,h,p,l,d,m,v,g,y,w,x,_,b,M,N,E=t.constructor,S=t.s==r.s?1:-1,A=t.d,z=r.d;if(!(A&&A[0]&&z&&z[0]))return new E(t.s&&r.s&&(A?!z||A[0]!=z[0]:z)?A&&0==A[0]||!z?0*S:S/0:NaN);for(s=o?(c=1,t.e-r.e):(o=sr,rr(t.e/(c=ur))-rr(r.e/c)),M=z.length,_=A.length,d=(S=new E(S)).d=[],u=0;z[u]==(A[u]||0);u++);if(z[u]>(A[u]||0)&&s--,null==n?(y=n=E.precision,e=E.rounding):y=i?n+(t.e-r.e)+1:n,y<0)d.push(1),h=!0;else{if(y=y/c+2|0,u=0,1==M){for(z=z[f=0],y++;(u<_||f)&&y--;u++)w=f*o+(A[u]||0),d[u]=w/z|0,f=w%z|0;h=f||u<_}else{for(1<(f=o/(z[0]+1)|0)&&(z=gr(z,f,o),A=gr(A,f,o),M=z.length,_=A.length),x=M,v=(m=A.slice(0,M)).length;v<M;)m[v++]=0;for((N=z.slice()).unshift(0),b=z[0],z[1]>=o/2&&++b;f=0,(a=yr(z,m,M,v))<0?(g=m[0],1<(f=(g=M!=v?g*o+(m[1]||0):g)/b|0)?1==(a=yr(p=gr(z,f=o<=f?o-1:f,o),m,l=p.length,v=m.length))&&(f--,wr(p,M<l?N:z,l,o)):(0==f&&(a=f=1),p=z.slice()),(l=p.length)<v&&p.unshift(0),wr(m,p,v,o),-1==a&&(a=yr(z,m,M,v=m.length))<1&&(f++,wr(m,M<v?N:z,v,o)),v=m.length):0===a&&(f++,m=[0]),d[u++]=f,a&&m[0]?m[v++]=A[x]||0:(m=[A[x]],v=1),(x++<_||void 0!==m[0])&&y--;);h=void 0!==m[0]}d[0]||d.shift()}if(1==c)S.e=s,Ut=h;else{for(u=1,f=d[0];10<=f;f/=10)u++;S.e=u+s*c-1,xr(S,i?n+S.e+1:n,e,h)}return S};function gr(t,r,n){var e,i=0,o=t.length;for(t=t.slice();o--;)e=t[o]*r+i,t[o]=e%n|0,i=e/n|0;return i&&t.unshift(i),t}function yr(t,r,n,e){var i,o;if(n!=e)o=e<n?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=r[i]){o=t[i]>r[i]?1:-1;break}return o}function wr(t,r,n,e){for(var i=0;n--;)t[n]-=i,i=t[n]<r[n]?1:0,t[n]=i*e+t[n]-r[n];for(;!t[0]&&1<t.length;)t.shift()}function xr(t,r,n,e){var i,o,a,s,u,f,c,h,p=t.constructor;t:if(null!=r){if(!(c=t.d))return t;for(i=1,s=c[0];10<=s;s/=10)i++;if((o=r-i)<0)o+=ur,a=r,u=(f=c[h=0])/nr(10,i-a-1)%10|0;else if(h=Math.ceil((o+1)/ur),(s=c.length)<=h){if(!e)break t;for(;s++<=h;)c.push(0);f=u=0,a=(o%=ur)-ur+(i=1)}else{for(f=s=c[h],i=1;10<=s;s/=10)i++;u=(a=(o%=ur)-ur+i)<0?0:f/nr(10,i-a-1)%10|0}if(e=e||r<0||void 0!==c[h+1]||(a<0?f:f%nr(10,i-a-1)),u=n<4?(u||e)&&(0==n||n==(t.s<0?3:2)):5<u||5==u&&(4==n||e||6==n&&(0<o?0<a?f/nr(10,i-a):0:c[h-1])%10&1||n==(t.s<0?8:7)),r<1||!c[0])return c.length=0,u?(r-=t.e+1,c[0]=nr(10,(ur-r%ur)%ur),t.e=-r||0):c[0]=t.e=0,t;if(0==o?(c.length=h,s=1,h--):(c.length=h+1,s=nr(10,ur-o),c[h]=0<a?(f/nr(10,i-a)%nr(10,a)|0)*s:0),u)for(;;){if(0==h){for(o=1,a=c[0];10<=a;a/=10)o++;for(a=c[0]+=s,s=1;10<=a;a/=10)s++;o!=s&&(t.e++,c[0]==sr&&(c[0]=1));break}if(c[h]+=s,c[h]!=sr)break;c[h--]=0,s=1}for(o=c.length;0===c[--o];)c.pop()}return Wt&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function _r(t,r,n){if(!t.isFinite())return Fr(t);var e,i=t.e,o=pr(t.d),a=o.length;return r?(n&&0<(e=n-a)?o=o.charAt(0)+"."+o.slice(1)+Sr(e):1<a&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+Sr(-i-1)+o,n&&0<(e=n-a)&&(o+=Sr(e))):a<=i?(o+=Sr(i+1-a),n&&0<(e=n-i-1)&&(o=o+"."+Sr(e))):((e=i+1)<a&&(o=o.slice(0,e)+"."+o.slice(e)),n&&0<(e=n-a)&&(i+1===a&&(o+="."),o+=Sr(e))),o}function br(t,r){var n=t[0];for(r*=ur;10<=n;n/=10)r++;return r}function Mr(t,r,n){if(fr<r)throw Wt=!0,n&&(t.precision=n),Error(Kt);return xr(new t(Jt),r,1,!0)}function Nr(t,r,n){if(cr<r)throw Error(Kt);return xr(new t($t),r,n,!0)}function Er(t){var r=t.length-1,n=r*ur+1;if(r=t[r]){for(;r%10==0;r/=10)n--;for(r=t[0];10<=r;r/=10)n++}return n}function Sr(t){for(var r="";t--;)r+="0";return r}function Ar(t,r,n,e){var i,o=new t(1),a=Math.ceil(e/ur+4);for(Wt=!1;;){if(n%2&&Pr((o=o.times(r)).d,a)&&(i=!0),0===(n=rr(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}Pr((r=r.times(r)).d,a)}return Wt=!0,o}function zr(t){return 1&t.d[t.d.length-1]}function Or(t,r,n){for(var e,i=new t(r[0]),o=0;++o<r.length;){if(!(e=new t(r[o])).s){i=e;break}i[n](e)&&(i=e)}return i}function Cr(t,r){var n,e,i,o,a,s,u,f=0,c=0,h=0,p=t.constructor,l=p.rounding,d=p.precision;if(!t.d||!t.d[0]||17<t.e)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(u=null==r?(Wt=!1,d):r,s=new p(.03125);-2<t.e;)t=t.times(s),h+=5;for(u+=e=Math.log(nr(2,h))/Math.LN10*2+5|0,n=o=a=new p(1),p.precision=u;;){if(o=xr(o.times(t),u,1),n=n.times(++c),pr((s=a.plus(vr(o,n,u,1))).d).slice(0,u)===pr(a.d).slice(0,u)){for(i=h;i--;)a=xr(a.times(a),u,1);if(null!=r)return p.precision=d,a;if(!(f<3&&dr(a.d,u-e,l,f)))return xr(a,p.precision=d,l,Wt=!0);p.precision=u+=10,n=o=s=new p(1),c=0,f++}a=s}}function Dr(t,r){var n,e,i,o,a,s,u,f,c,h,p,l=1,d=t,m=d.d,v=d.constructor,g=v.rounding,y=v.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new v(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(c=null==r?(Wt=!1,y):r,v.precision=c+=10,e=(n=pr(m)).charAt(0),!(Math.abs(o=d.e)<15e14))return f=Mr(v,c+2,y).times(o+""),d=Dr(new v(e+"."+n.slice(1)),c-10).plus(f),v.precision=y,null==r?xr(d,y,g,Wt=!0):d;for(;e<7&&1!=e||1==e&&3<n.charAt(1);)e=(n=pr((d=d.times(t)).d)).charAt(0),l++;for(o=d.e,1<e?(d=new v("0."+n),o++):d=new v(e+"."+n.slice(1)),u=a=d=vr((h=d).minus(1),d.plus(1),c,1),p=xr(d.times(d),c,1),i=3;;){if(a=xr(a.times(p),c,1),pr((f=u.plus(vr(a,new v(i),c,1))).d).slice(0,c)===pr(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(Mr(v,c+2,y).times(o+""))),u=vr(u,new v(l),c,1),null!=r)return v.precision=y,u;if(!dr(u.d,c-10,g,s))return xr(u,v.precision=y,g,Wt=!0);v.precision=c+=10,f=a=d=vr(h.minus(1),h.plus(1),c,1),p=xr(d.times(d),c,1),i=s=1}u=f,i+=2}}function Fr(t){return String(t.s*t.s/0)}function Ir(t,r){var n,e,i;for(0<(e=(r=-1<(n=r.indexOf("."))?r.replace(".",""):r).search(/e/i))?(n<0&&(n=e),n+=+r.slice(e+1),r=r.substring(0,e)):n<0&&(n=r.length),e=0;48===r.charCodeAt(e);e++);for(i=r.length;48===r.charCodeAt(i-1);--i);if(r=r.slice(e,i)){if(i-=e,t.e=n=n-e-1,t.d=[],e=(n+1)%ur,n<0&&(e+=ur),e<i){for(e&&t.d.push(+r.slice(0,e)),i-=ur;e<i;)t.d.push(+r.slice(e,e+=ur));r=r.slice(e),e=ur-r.length}else e-=i;for(;e--;)r+="0";t.d.push(+r),Wt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Br(t,r,n,e,i){var o,a,s,u,f=t.precision,c=Math.ceil(f/ur);for(Wt=!1,u=n.times(n),s=new t(e);;){if(a=vr(s.times(u),new t(r++*r++),f,1),s=i?e.plus(a):e.minus(a),e=vr(a.times(u),new t(r++*r++),f,1),void 0!==(a=s.plus(e)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=e,e=a,a=o}return Wt=!0,a.d.length=c+1,a}function Tr(t,r){for(var n=t;--r;)n*=t;return n}function jr(t,r){var n=r.s<0,e=Nr(t,t.precision,1),i=e.times(.5);if((r=r.abs()).lte(i))return Lt=n?4:1,r;if((t=r.divToInt(e)).isZero())Lt=n?3:2;else{if((r=r.minus(t.times(e))).lte(i))return Lt=zr(t)?n?2:3:n?4:1,r;Lt=zr(t)?n?1:4:n?3:2}return r.minus(e).abs()}function kr(t,r,n,e){var i,o,a,s,u,f,c,h,p=t.constructor,l=void 0!==n;if(l?(lr(n,1,Ht),void 0===e?e=p.rounding:lr(e,0,8)):(n=p.precision,e=p.rounding),t.isFinite()){for(l?(i=2,16==r?n=4*n-3:8==r&&(n=3*n-2)):i=r,0<=(a=(f=_r(t)).indexOf("."))&&(f=f.replace(".",""),(h=new p(1)).e=f.length-a,h.d=mr(_r(h),10,i),h.e=h.d.length),o=s=(c=mr(f,10,i)).length;0==c[--s];)c.pop();if(c[0]){if(a<0?o--:((t=new p(t)).d=c,t.e=o,c=(t=vr(t,h,n,e,0,i)).d,o=t.e,u=Ut),a=c[n],h=i/2,u=u||void 0!==c[n+1],u=e<4?(void 0!==a||u)&&(0===e||e===(t.s<0?3:2)):h<a||a===h&&(4===e||u||6===e&&1&c[n-1]||e===(t.s<0?8:7)),c.length=n,u)for(;++c[--n]>i-1;)c[n]=0,n||(++o,c.unshift(1));for(s=c.length;!c[s-1];--s);for(a=0,f="";a<s;a++)f+=Vt.charAt(c[a]);if(l){if(1<s)if(16==r||8==r){for(a=16==r?4:3,--s;s%a;s++)f+="0";for(s=(c=mr(f,i,r)).length;!c[s-1];--s);for(a=1,f="1.";a<s;a++)f+=Vt.charAt(c[a])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>s)for(o-=s;o--;)f+="0";else o<s&&(f=f.slice(0,o)+"."+f.slice(o))}else f=l?"0p+0":"0";f=(16==r?"0x":2==r?"0b":8==r?"0o":"")+f}else f=Fr(t);return t.s<0?"-"+f:f}function Pr(t,r){return t.length>r&&(t.length=r,1)}function qr(t){return new this(t).abs()}function Rr(t){return new this(t).acos()}function Ur(t){return new this(t).acosh()}function Lr(t,r){return new this(t).plus(r)}function Zr(t){return new this(t).asin()}function Hr(t){return new this(t).asinh()}function Vr(t){return new this(t).atan()}function Jr(t){return new this(t).atanh()}function $r(t,r){t=new this(t),r=new this(r);var n,e=this.precision,i=this.rounding,o=e+4;return t.s&&r.s?t.d||r.d?!r.d||t.isZero()?(n=r.s<0?Nr(this,e,i):new this(0)).s=t.s:!t.d||r.isZero()?(n=Nr(this,o,1).times(.5)).s=t.s:n=r.s<0?(this.precision=o,this.rounding=1,n=this.atan(vr(t,r,o,1)),r=Nr(this,o,1),this.precision=e,this.rounding=i,t.s<0?n.minus(r):n.plus(r)):this.atan(vr(t,r,o,1)):(n=Nr(this,o,1).times(0<r.s?.25:.75)).s=t.s:n=new this(NaN),n}function Yr(t){return new this(t).cbrt()}function Wr(t){return xr(t=new this(t),t.e+1,2)}function Xr(t,r,n){return new this(t).clamp(r,n)}function Gr(t){if(!t||"object"!=typeof t)throw Error(Xt+"Object expected");for(var r,n,e=!0===t.defaults,i=["precision",1,Ht,"rounding",0,8,"toExpNeg",-Zt,0,"toExpPos",0,Zt,"maxE",0,Zt,"minE",-Zt,0,"modulo",0,9],o=0;o<i.length;o+=3)if(r=i[o],e&&(this[r]=Yt[r]),void 0!==(n=t[r])){if(!(rr(n)===n&&i[o+1]<=n&&n<=i[o+2]))throw Error(Gt+r+": "+n);this[r]=n}if(r="crypto",e&&(this[r]=Yt[r]),void 0!==(n=t[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(Gt+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Qt);this[r]=!0}else this[r]=!1}return this}function Kr(t){return new this(t).cos()}function Qr(t){return new this(t).cosh()}function tn(t,r){return new this(t).div(r)}function rn(t){return new this(t).exp()}function nn(t){return xr(t=new this(t),t.e+1,3)}function en(){var t,r,n=new this(0);for(Wt=!1,t=0;t<arguments.length;)if((r=new this(arguments[t++])).d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return Wt=!0,new this(1/0);n=r}return Wt=!0,n.sqrt()}function on(t){return t instanceof An||t&&t.toStringTag===tr||!1}function an(t){return new this(t).ln()}function sn(t,r){return new this(t).log(r)}function un(t){return new this(t).log(2)}function fn(t){return new this(t).log(10)}function cn(){return Or(this,arguments,"lt")}function hn(){return Or(this,arguments,"gt")}function pn(t,r){return new this(t).mod(r)}function ln(t,r){return new this(t).mul(r)}function dn(t,r){return new this(t).pow(r)}function mn(t){var r,n,e,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:lr(t,1,Ht),e=Math.ceil(t/ur),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(e));o<e;)429e7<=(i=r[o])?r[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Qt);for(r=crypto.randomBytes(e*=4);o<e;)214e7<=(i=r[o]+(r[o+1]<<8)+(r[o+2]<<16)+((127&r[o+3])<<24))?crypto.randomBytes(4).copy(r,o):(s.push(i%1e7),o+=4);o=e/4}else for(;o<e;)s[o++]=1e7*Math.random()|0;for(e=s[--o],t%=ur,e&&t&&(i=nr(10,ur-t),s[o]=(e/i|0)*i);0===s[o];o--)s.pop();if(o<0)s=[n=0];else{for(n=-1;0===s[0];n-=ur)s.shift();for(e=1,i=s[0];10<=i;i/=10)e++;e<ur&&(n-=ur-e)}return a.e=n,a.d=s,a}function vn(t){return xr(t=new this(t),t.e+1,this.rounding)}function gn(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function yn(t){return new this(t).sin()}function wn(t){return new this(t).sinh()}function xn(t){return new this(t).sqrt()}function _n(t,r){return new this(t).sub(r)}function bn(){var t=0,r=arguments,n=new this(r[t]);for(Wt=!1;n.s&&++t<r.length;)n=n.plus(r[t]);return Wt=!0,xr(n,this.precision,this.rounding)}function Mn(t){return new this(t).tan()}function Nn(t){return new this(t).tanh()}function En(t){return xr(t=new this(t),t.e+1,1)}hr[Symbol.for("nodejs.util.inspect.custom")]=hr.toString,hr[Symbol.toStringTag]="Decimal";var Sn,An=hr.constructor=function t(r){var n,e,i;function o(t){var r,n,e,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,on(t))return i.s=t.s,void(Wt?!t.d||t.e>o.maxE?(i.e=NaN,i.d=null):t.e<o.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d&&t.d.slice()));if("number"==(e=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(r=0,n=t;10<=n;n/=10)r++;return void(Wt?o.maxE<r?(i.e=NaN,i.d=null):r<o.minE?(i.e=0,i.d=[0]):(i.e=r,i.d=[t]):(i.e=r,i.d=[t]))}return 0*t!=0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):Ir(i,t.toString())}if("string"!=e)throw Error(Gt+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),(ar.test(t)?Ir:function(t,r){var n,e,i,o,a,s,u,f;if(-1<r.indexOf("_")){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),ar.test(r))return Ir(t,r)}else if("Infinity"===r||"NaN"===r)return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(ir.test(r))f=16,r=r.toLowerCase();else if(er.test(r))f=2;else{if(!or.test(r))throw Error(Gt+r);f=8}for(i=(r=0<(i=r.search(/p/i))?(s=+r.slice(i+1),r.substring(2,i)):r.slice(2)).indexOf("."),n=t.constructor,(o=0<=i)&&(i=(a=(r=r.replace(".","")).length)-i,e=Ar(n,new n(f),i,2*i)),i=f=(u=mr(r,f,sr)).length-1;0===u[i];--i)u.pop();return i<0?new n(0*t.s):(t.e=br(u,f),t.d=u,Wt=!1,o&&(t=vr(t,e,4*a)),s&&(t=t.times(Math.abs(s)<54?nr(2,s):An.pow(2,s))),Wt=!0,t)})(i,t)}if(o.prototype=hr,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=Gr,o.clone=t,o.isDecimal=on,o.abs=qr,o.acos=Rr,o.acosh=Ur,o.add=Lr,o.asin=Zr,o.asinh=Hr,o.atan=Vr,o.atanh=Jr,o.atan2=$r,o.cbrt=Yr,o.ceil=Wr,o.clamp=Xr,o.cos=Kr,o.cosh=Qr,o.div=tn,o.exp=rn,o.floor=nn,o.hypot=en,o.ln=an,o.log=sn,o.log10=fn,o.log2=un,o.max=cn,o.min=hn,o.mod=pn,o.mul=ln,o.pow=dn,o.random=mn,o.round=vn,o.sign=gn,o.sin=yn,o.sinh=wn,o.sqrt=xn,o.sub=_n,o.sum=bn,o.tan=Mn,o.tanh=Nn,o.trunc=En,(r=void 0===r?{}:r)&&!0!==r.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)r.hasOwnProperty(e=i[n++])||(r[e]=this[e]);return o.config(r),o}(Yt),Jt=new An(Jt),$t=new An($t),zn=At("BigNumber",["?on","config"],t=>{var{on:r,config:t}=t,n=An.clone({precision:t.precision,modulo:An.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},r&&r("config",function(t,r){t.precision!==r.precision&&n.config({precision:t.precision})}),n},{isClass:!0}),On={exports:{}};function Cn(t){return.5*(Math.exp(t)+Math.exp(-t))}function Dn(t){return.5*(Math.exp(t)-Math.exp(-t))}function Fn(t,r){var n=Math.abs(t),e=Math.abs(r);return 0===t?Math.log(e):0===r?Math.log(n):n<3e3&&e<3e3?.5*Math.log(t*t+r*r):Math.log(t/Math.cos(Math.atan2(r,t)))}function In(t,r){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==r)n.re=t,n.im=r;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return Bn.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return Bn.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):Sn();break;case"string":n.im=n.re=0;var e=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===e&&Sn();for(var a=0;a<e.length;a++){var s=e[a];" "===s||"\t"===s||"\n"===s||("+"===s?i++:"-"===s?o++:i=o=("i"===s||"I"===s?(i+o===0&&Sn()," "===e[a+1]||isNaN(e[a+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+e[a+1]),a++)):(i+o!==0&&!isNaN(s)||Sn(),"i"===e[a+1]||"I"===e[a+1]?(n.im+=parseFloat((o%2?"-":"")+s),a++):n.re+=parseFloat((o%2?"-":"")+s)),0))}0<i+o&&Sn();break;case"number":n.im=0,n.re=t;break;default:Sn()}return isNaN(n.re)||isNaN(n.im),n}function Bn(t,r){if(!(this instanceof Bn))return new Bn(t,r);r=In(t,r);this.re=r.re,this.im=r.im}$e=On,Sn=function(){throw SyntaxError("Invalid Param")},Bn.prototype={re:0,im:0,sign:function(){var t=this.abs();return new Bn(this.re/t,this.im/t)},add:function(t,r){r=new Bn(t,r);return this.isInfinite()&&r.isInfinite()?Bn.NAN:this.isInfinite()||r.isInfinite()?Bn.INFINITY:new Bn(this.re+r.re,this.im+r.im)},sub:function(t,r){r=new Bn(t,r);return this.isInfinite()&&r.isInfinite()?Bn.NAN:this.isInfinite()||r.isInfinite()?Bn.INFINITY:new Bn(this.re-r.re,this.im-r.im)},mul:function(t,r){r=new Bn(t,r);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?Bn.NAN:this.isInfinite()||r.isInfinite()?Bn.INFINITY:0===r.im&&0===this.im?new Bn(this.re*r.re,0):new Bn(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,r){var n=new Bn(t,r);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return Bn.NAN;if(this.isInfinite()||n.isZero())return Bn.INFINITY;if(this.isZero()||n.isInfinite())return Bn.ZERO;t=this.re,r=this.im;var e,i,o=n.re,n=n.im;return 0===n?new Bn(t/o,r/o):Math.abs(o)<Math.abs(n)?new Bn((t*(i=o/n)+r)/(e=o*i+n),(r*i-t)/e):new Bn((t+r*(i=n/o))/(e=n*i+o),(r-t*i)/e)},pow:function(t,r){var n=new Bn(t,r);if(t=this.re,r=this.im,n.isZero())return Bn.ONE;if(0===n.im){if(0===r&&0<t)return new Bn(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new Bn(Math.pow(r,n.re),0);case 1:return new Bn(0,Math.pow(r,n.re));case 2:return new Bn(-Math.pow(r,n.re),0);case 3:return new Bn(0,-Math.pow(r,n.re))}}if(0===t&&0===r&&0<n.re&&0<=n.im)return Bn.ZERO;var e=Math.atan2(r,t),i=Fn(t,r);return t=Math.exp(n.re*i-n.im*e),r=n.im*i+n.re*e,new Bn(t*Math.cos(r),t*Math.sin(r))},sqrt:function(){var t,r=this.re,n=this.im,e=this.abs();if(0<=r){if(0===n)return new Bn(Math.sqrt(r),0);t=.5*Math.sqrt(2*(e+r))}else t=Math.abs(n)/Math.sqrt(2*(e-r));return r=r<=0?.5*Math.sqrt(2*(e-r)):Math.abs(n)/Math.sqrt(2*(e+r)),new Bn(t,n<0?-r:r)},exp:function(){var t=Math.exp(this.re);return this.im,new Bn(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,r=this.im;return new Bn(Math.expm1(t)*Math.cos(r)+function(t){var r=Math.PI/4;if(t<-r||r<t)return Math.cos(t)-1;t*=t;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(r),Math.exp(t)*Math.sin(r))},log:function(){var t=this.re,r=this.im;return new Bn(Fn(t,r),Math.atan2(r,t))},abs:function(){return t=this.re,r=this.im,n=Math.abs(t),e=Math.abs(r),n<3e3&&e<3e3?Math.sqrt(n*n+e*e):(e=n<e?(n=e,t/r):r/t,n*Math.sqrt(1+e*e));var t,r,n,e},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,r=this.im;return new Bn(Math.sin(t)*Cn(r),Math.cos(t)*Dn(r))},cos:function(){var t=this.re,r=this.im;return new Bn(Math.cos(t)*Cn(r),-Math.sin(t)*Dn(r))},tan:function(){var t=2*this.re,r=2*this.im,n=Math.cos(t)+Cn(r);return new Bn(Math.sin(t)/n,Dn(r)/n)},cot:function(){var t=2*this.re,r=2*this.im,n=Math.cos(t)-Cn(r);return new Bn(-Math.sin(t)/n,Dn(r)/n)},sec:function(){var t=this.re,r=this.im,n=.5*Cn(2*r)+.5*Math.cos(2*t);return new Bn(Math.cos(t)*Cn(r)/n,Math.sin(t)*Dn(r)/n)},csc:function(){var t=this.re,r=this.im,n=.5*Cn(2*r)-.5*Math.cos(2*t);return new Bn(Math.sin(t)*Cn(r)/n,-Math.cos(t)*Dn(r)/n)},asin:function(){var t=this.re,r=this.im,n=new Bn(r*r-t*t+1,-2*t*r).sqrt(),t=new Bn(n.re-r,n.im+t).log();return new Bn(t.im,-t.re)},acos:function(){var t=this.re,r=this.im,n=new Bn(r*r-t*t+1,-2*t*r).sqrt(),t=new Bn(n.re-r,n.im+t).log();return new Bn(Math.PI/2-t.im,t.re)},atan:function(){var t=this.re,r=this.im;if(0===t){if(1===r)return new Bn(0,1/0);if(-1===r)return new Bn(0,-1/0)}var n=t*t+(1-r)*(1-r),n=new Bn((1-r*r-t*t)/n,-2*t/n).log();return new Bn(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,r=this.im;if(0===r)return new Bn(Math.atan2(1,t),0);var n=t*t+r*r;return(0!=n?new Bn(t/n,-r/n):new Bn(0!==t?t/0:0,0!==r?-r/0:0)).atan()},asec:function(){var t=this.re,r=this.im;if(0===t&&0===r)return new Bn(0,1/0);var n=t*t+r*r;return(0!=n?new Bn(t/n,-r/n):new Bn(0!==t?t/0:0,0!==r?-r/0:0)).acos()},acsc:function(){var t=this.re,r=this.im;if(0===t&&0===r)return new Bn(Math.PI/2,1/0);var n=t*t+r*r;return(0!=n?new Bn(t/n,-r/n):new Bn(0!==t?t/0:0,0!==r?-r/0:0)).asin()},sinh:function(){var t=this.re,r=this.im;return new Bn(Dn(t)*Math.cos(r),Cn(t)*Math.sin(r))},cosh:function(){var t=this.re,r=this.im;return new Bn(Cn(t)*Math.cos(r),Dn(t)*Math.sin(r))},tanh:function(){var t=2*this.re,r=2*this.im,n=Cn(t)+Math.cos(r);return new Bn(Dn(t)/n,Math.sin(r)/n)},coth:function(){var t=2*this.re,r=2*this.im,n=Cn(t)-Math.cos(r);return new Bn(Dn(t)/n,-Math.sin(r)/n)},csch:function(){var t=this.re,r=this.im,n=Math.cos(2*r)-Cn(2*t);return new Bn(-2*Dn(t)*Math.cos(r)/n,2*Cn(t)*Math.sin(r)/n)},sech:function(){var t=this.re,r=this.im,n=Math.cos(2*r)+Cn(2*t);return new Bn(2*Cn(t)*Math.cos(r)/n,-2*Dn(t)*Math.sin(r)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var r=this.asin();return this.re=-this.im,this.im=t,t=r.re,r.re=-r.im,r.im=t,r},acosh:function(){var t,r=this.acos();return r.im<=0?(t=r.re,r.re=-r.im,r.im=t):(t=r.im,r.im=-r.re,r.re=t),r},atanh:function(){var t=this.re,r=this.im,n=1<t&&0===r,e=1-t,i=1+t,o=e*e+r*r,t=0!=o?new Bn((i*e-r*r)/o,(r*e+i*r)/o):new Bn(-1!==t?t/0:0,0!==r?r/0:0),r=t.re;return t.re=Fn(t.re,t.im)/2,t.im=Math.atan2(t.im,r)/2,n&&(t.im=-t.im),t},acoth:function(){var t=this.re,r=this.im;if(0===t&&0===r)return new Bn(0,Math.PI/2);var n=t*t+r*r;return(0!=n?new Bn(t/n,-r/n):new Bn(0!==t?t/0:0,0!==r?-r/0:0)).atanh()},acsch:function(){var t=this.re,r=this.im;if(0===r)return new Bn(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+r*r;return(0!=n?new Bn(t/n,-r/n):new Bn(0!==t?t/0:0,0!==r?-r/0:0)).asinh()},asech:function(){var t=this.re,r=this.im;if(this.isZero())return Bn.INFINITY;var n=t*t+r*r;return(0!=n?new Bn(t/n,-r/n):new Bn(0!==t?t/0:0,0!==r?-r/0:0)).acosh()},inverse:function(){if(this.isZero())return Bn.INFINITY;if(this.isInfinite())return Bn.ZERO;var t=this.re,r=this.im,n=t*t+r*r;return new Bn(t/n,-r/n)},conjugate:function(){return new Bn(this.re,-this.im)},neg:function(){return new Bn(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new Bn(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new Bn(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new Bn(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,r){r=new Bn(t,r);return Math.abs(r.re-this.re)<=Bn.EPSILON&&Math.abs(r.im-this.im)<=Bn.EPSILON},clone:function(){return new Bn(this.re,this.im)},toString:function(){var t=this.re,r=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<Bn.EPSILON&&(t=0),0===(r=Math.abs(r)<Bn.EPSILON?0:r)?n+t:(0!==t?(n+=t,n+=" ",r<0?(r=-r,n+="-"):n+="+",n+=" "):r<0&&(r=-r,n+="-"),1!==r&&(n+=r),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},Bn.ZERO=new Bn(0,0),Bn.ONE=new Bn(1,0),Bn.I=new Bn(0,1),Bn.PI=new Bn(Math.PI,0),Bn.E=new Bn(Math.E,0),Bn.INFINITY=new Bn(1/0,1/0),Bn.NAN=new Bn(NaN,NaN),Bn.EPSILON=1e-15,Object.defineProperty(Bn,"__esModule",{value:!0}),$e.exports=(Bn.default=Bn).Complex=Bn;var Tn,jn,kn,Pn,qn=r(On.exports),Rn=At("Complex",[],()=>(qn.prototype.type="Complex",qn.prototype.isComplex=!0,qn.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},qn.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},qn.prototype.format=function(t){var r=this.im,n=this.re,e=ot(this.re,t),i=ot(this.im,t),t=w(t)?t:t?t.precision:null;return null!==t&&(t=Math.pow(10,-t),Math.abs(n/r)<t&&(n=0),Math.abs(r/n)<t&&(r=0)),0===r?e:0===n?1===r?"i":-1===r?"-i":i+"i":r<0?-1===r?e+" - i":e+" - "+i.substring(1)+"i":1===r?e+" + i":e+" + "+i+"i"},qn.fromPolar=function(t){switch(arguments.length){case 1:if("object"==typeof t)return qn(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=t,n=arguments[1];if(w(r)){if(w(n=c(n)&&n.hasBase("ANGLE")?n.toNumber("rad"):n))return new qn({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},qn.prototype.valueOf=qn.prototype.toString,qn.fromJSON=function(t){return new qn(t)},qn.compare=function(t,r){return t.re>r.re?1:t.re<r.re?-1:t.im>r.im?1:t.im<r.im?-1:0},qn),{isClass:!0}),Un={exports:{}};function Ln(r){function t(){var t=Error.apply(this,arguments);t.name=this.name=r,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}function Zn(t,r){return isNaN(t=parseInt(t,10))&&Hn(),t*r}function Hn(){throw new kn}function Vn(t){for(var r={},n=t,e=2,i=4;i<=n;){for(;n%e==0;)n/=e,r[e]=(r[e]||0)+1;i+=1+2*e++}return n!==t?1<n&&(r[n]=(r[n]||0)+1):r[t]=(r[t]||0)+1,r}function Jn(t,r,n){for(var e=1,i=function(t,r,n){for(var e=1;0<r;t=t*t%n,r>>=1)1&r&&(e=e*t%n);return e}(10,n,r),o=0;o<300;o++){if(e===i)return o;e=10*e%r,i=10*i%r}return 0}function $n(t,r){if(!t)return r;if(!r)return t;for(;;){if(!(t%=r))return r;if(!(r%=t))return t}}function Yn(t,r){if(!(this instanceof Yn))return new Yn(t,r);Pn(t,r),t=$n(Tn.d,Tn.n),this.s=Tn.s,this.n=Tn.n/t,this.d=Tn.d/t}Ye=Un,Tn={s:1,n:0,d:1},jn=Yn.DivisionByZero=Ln("DivisionByZero"),kn=Yn.InvalidParameter=Ln("InvalidParameter"),Pn=function(t,r){var n,e=0,i=1,o=1,a=0,s=0,u=0,f=1,c=1,h=0,p=1,l=1,d=1;if(null!=t)if(void 0!==r)o=(e=t)*(i=r);else switch(typeof t){case"object":"d"in t&&"n"in t?(e=t.n,i=t.d,"s"in t&&(e*=t.s)):0 in t?(e=t[0],1 in t&&(i=t[1])):Hn(),o=e*i;break;case"number":if((t=t<0?-(o=t):t)%1==0)e=t;else if(0<t){for(1<=t&&(t/=c=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));p<=1e7&&d<=1e7;){if(t===(n=(h+l)/(p+d))){i=p+d<=1e7?(e=h+l,p+d):p<d?(e=l,d):(e=h,p);break}n<t?(h+=l,p+=d):(l+=h,d+=p),i=1e7<p?(e=l,d):(e=h,p)}e*=c}else(isNaN(t)||isNaN(r))&&(i=e=NaN);break;case"string":if(null===(p=t.match(/\d+|./g))&&Hn(),"-"===p[h]?(o=-1,h++):"+"===p[h]&&h++,p.length===h+1?s=Zn(p[h++],o):"."===p[h+1]||"."===p[h]?("."!==p[h]&&(a=Zn(p[h++],o)),(++h+1===p.length||"("===p[h+1]&&")"===p[h+3]||"'"===p[h+1]&&"'"===p[h+3])&&(s=Zn(p[h],o),f=Math.pow(10,p[h].length),h++),("("===p[h]&&")"===p[h+2]||"'"===p[h]&&"'"===p[h+2])&&(u=Zn(p[h+1],o),c=Math.pow(10,p[h+1].length)-1,h+=3)):"/"===p[h+1]||":"===p[h+1]?(s=Zn(p[h],o),f=Zn(p[h+2],1),h+=3):"/"===p[h+3]&&" "===p[h+1]&&(a=Zn(p[h],o),s=Zn(p[h+2],o),f=Zn(p[h+4],1),h+=5),p.length<=h){o=e=u+(i=f*c)*a+c*s;break}default:Hn()}if(0===i)throw new jn;Tn.s=o<0?-1:1,Tn.n=Math.abs(e),Tn.d=Math.abs(i)},Yn.prototype={s:1,n:0,d:1,abs:function(){return new Yn(this.n,this.d)},neg:function(){return new Yn(-this.s*this.n,this.d)},add:function(t,r){return Pn(t,r),new Yn(this.s*this.n*Tn.d+Tn.s*this.d*Tn.n,this.d*Tn.d)},sub:function(t,r){return Pn(t,r),new Yn(this.s*this.n*Tn.d-Tn.s*this.d*Tn.n,this.d*Tn.d)},mul:function(t,r){return Pn(t,r),new Yn(this.s*Tn.s*this.n*Tn.n,this.d*Tn.d)},div:function(t,r){return Pn(t,r),new Yn(this.s*Tn.s*this.n*Tn.d,this.d*Tn.n)},clone:function(){return new Yn(this)},mod:function(t,r){return isNaN(this.n)||isNaN(this.d)?new Yn(NaN):void 0===t?new Yn(this.s*this.n%this.d,1):(Pn(t,r),0===Tn.n&&0===this.d&&Yn(0,0),new Yn(this.s*(Tn.d*this.n)%(Tn.n*this.d),Tn.d*this.d))},gcd:function(t,r){return Pn(t,r),new Yn($n(Tn.n,this.n)*$n(Tn.d,this.d),Tn.d*this.d)},lcm:function(t,r){return Pn(t,r),0===Tn.n&&0===this.n?new Yn:new Yn(Tn.n*this.n,$n(Tn.n,this.n)*$n(Tn.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Yn(NaN):new Yn(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Yn(NaN):new Yn(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new Yn(NaN):new Yn(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new Yn(this.s*this.d,this.n)},pow:function(t,r){if(Pn(t,r),1===Tn.d)return Tn.s<0?new Yn(Math.pow(this.s*this.d,Tn.n),Math.pow(this.n,Tn.n)):new Yn(Math.pow(this.s*this.n,Tn.n),Math.pow(this.d,Tn.n));if(this.s<0)return null;var n,e=Vn(this.n),i=Vn(this.d),o=1,a=1;for(n in e)if("1"!==n){if("0"===n){o=0;break}if(e[n]*=Tn.n,e[n]%Tn.d!=0)return null;e[n]/=Tn.d,o*=Math.pow(n,e[n])}for(n in i)if("1"!==n){if(i[n]*=Tn.n,i[n]%Tn.d!=0)return null;i[n]/=Tn.d,a*=Math.pow(n,i[n])}return Tn.s<0?new Yn(a,o):new Yn(o,a)},equals:function(t,r){return Pn(t,r),this.s*this.n*Tn.d==Tn.s*Tn.n*this.d},compare:function(t,r){Pn(t,r);r=this.s*this.n*Tn.d-Tn.s*Tn.n*this.d;return(0<r)-(r<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var r=this.abs().toContinued();t=t||.001;for(var n=0;n<r.length;n++){var e=function t(r){return 1===r.length?new Yn(r[0]):t(r.slice(1)).inverse().add(r[0])}(r.slice(0,n+1));if(e.sub(this.abs()).abs().valueOf()<t)return e.mul(this.s)}return this},divisible:function(t,r){return Pn(t,r),!(!(Tn.n*this.d)||this.n*Tn.d%(Tn.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var r,n="",e=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=e:(t&&0<(r=Math.floor(e/i))&&(n+=r,n+=" ",e%=i),n+=e,n+="/",n+=i),n},toLatex:function(t){var r,n="",e=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=e:(t&&0<(r=Math.floor(e/i))&&(n+=r,e%=i),n+="\\frac{",n+=e,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,r=this.n,n=this.d,e=[];if(isNaN(r)||isNaN(n))return e;for(;e.push(Math.floor(r/n)),t=r%n,r=n,n=t,1!==r;);return e},toString:function(t){var r=this.n,n=this.d;if(isNaN(r)||isNaN(n))return"NaN";t=t||15;var e=function(t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,n=1;1!==r;n++)if(r=10*r%t,2e3<n)return 0;return n}(n),i=Jn(0,n,e),o=-1===this.s?"-":"";if(o+=r/n|0,r%=n,(r*=10)&&(o+="."),e){for(var a=i;a--;)o+=r/n|0,r%=n,r*=10;o+="(";for(a=e;a--;)o+=r/n|0,r%=n,r*=10;o+=")"}else for(a=t;r&&a--;)o+=r/n|0,r%=n,r*=10;return o}},Object.defineProperty(Yn,"__esModule",{value:!0}),Ye.exports=(Yn.default=Yn).Fraction=Yn;var Wn=r(Un.exports),Xn=At("Fraction",[],()=>(Wn.prototype.type="Fraction",Wn.prototype.isFraction=!0,Wn.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Wn.fromJSON=function(t){return new Wn(t)},Wn),{isClass:!0}),Gn=At("Matrix",[],()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0}),Kn=At("DenseMatrix",["Matrix"],t=>{var t=t["Matrix"];function p(t,r){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!S(r))throw new Error("Invalid datatype: "+r);if(A(t))"DenseMatrix"===t.type?(this._data=$(t._data),this._size=$(t._size)):(this._data=t.toArray(),this._size=t.size()),this._datatype=r||t._datatype;else if(t&&_(t.data)&&_(t.size))this._data=t.data,this._size=t.size,wt(this._data,this._size),this._datatype=r||t.datatype;else if(_(t))this._data=function t(r){for(var n=0,e=r.length;n<e;n++){var i=r[n];_(i)?r[n]=t(i):i&&!0===i.isMatrix&&(r[n]=t(i.valueOf()))}return r}(t),this._size=yt(this._data),wt(this._data,this._size),this._datatype=r;else{if(t)throw new TypeError("Unsupported type of data ("+J(t)+")");this._data=[],this._size=[0],this._datatype=r}}function s(t,r,n){if(0!==r.length)return t._size=r.slice(0),t._data=_t(t._data,t._size,n),t;for(var e=t._data;_(e);)e=e[0];return e}function f(t,r,n){for(var e=t._size.slice(0),i=!1;e.length<r.length;)e.push(0),i=!0;for(var o=0,a=r.length;o<a;o++)r[o]>e[o]&&(e[o]=r[o],i=!0);i&&s(t,e,n)}return(p.prototype=new t).createDenseMatrix=function(t,r){return new p(t,r)},p.prototype.type="DenseMatrix",p.prototype.isDenseMatrix=!0,p.prototype.getDataType=function(){return St(this._data,J)},p.prototype.storage=function(){return"dense"},p.prototype.datatype=function(){return this._datatype},p.prototype.create=function(t,r){return new p(t,r)},p.prototype.subset=function(t,r,n){switch(arguments.length){case 1:return function(t,r){if(!b(r))throw new TypeError("Invalid index");{if(r.isScalar())return t.get(r.min());var n=r.size();if(n.length!==t._size.length)throw new vt(n.length,t._size.length);for(var e=r.min(),i=r.max(),o=0,a=t._size.length;o<a;o++)xt(e[o],t._size[o]),xt(i[o],t._size[o]);return new p(function r(n,e,i,o){var t=o===i-1;var a=e.dimension(o);return(t?a.map(function(t){return xt(t,n.length),n[t]}):a.map(function(t){xt(t,n.length);t=n[t];return r(t,e,i,o+1)})).valueOf()}(t._data,r,n.length,0),t._datatype)}}(this,t);case 2:case 3:return function(t,r,n,e){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var i,o=r.size(),a=r.isScalar();A(n)?(i=n.size(),n=n.valueOf()):i=yt(n);if(a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(r.min(),n,e)}else{if(o.length<t._size.length)throw new vt(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=Et(n,o.length,u,i)}if(!W(o,i))throw new vt(o,i,">");a=r.max().map(function(t){return t+1});f(t,a,e);e=o.length;!function n(e,i,o,a,s){var t=s===a-1;var r=i.dimension(s);t?r.forEach(function(t,r){xt(t),e[t]=o[r[0]]}):r.forEach(function(t,r){xt(t),n(e[t],i,o[r[0]],a,s+1)})}(t._data,r,n,e,0)}return t}(this,t,r,n);default:throw new SyntaxError("Wrong number of arguments")}},p.prototype.get=function(t){if(!_(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new vt(t.length,this._size.length);for(var r=0;r<t.length;r++)xt(t[r],this._size[r]);for(var n=this._data,e=0,i=t.length;e<i;e++){var o=t[e];xt(o,n.length),n=n[o]}return n},p.prototype.set=function(t,r,n){if(!_(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new vt(t.length,this._size.length,"<");var e;f(this,t.map(function(t){return t+1}),n);for(var i=this._data,o=0,a=t.length-1;o<a;o++)xt(e=t[o],i.length),i=i[e];return xt(e=t[t.length-1],i.length),i[e]=r,this},p.prototype.resize=function(t,r,n){if(!h(t))throw new TypeError("Array or Matrix expected");t=t.valueOf().map(t=>Array.isArray(t)&&1===t.length?t[0]:t);return s(n?this.clone():this,t,r)},p.prototype.reshape=function(t,r){var n=r?this.clone():this;n._data=bt(n._data,t);r=n._size.reduce((t,r)=>t*r);return n._size=Mt(t,r),n},p.prototype.clone=function(){return new p({data:$(this._data),size:$(this._size),datatype:this._datatype})},p.prototype.size=function(){return this._size.slice(0)},p.prototype.map=function(r){var i=this,t=function n(t,e){return _(t)?t.map(function(t,r){return n(t,e.concat(r))}):r(t,e,i)}(this._data,[]);return new p(t,void 0!==this._datatype?St(t,J):void 0)},p.prototype.forEach=function(r){var i=this;(function n(t,e){_(t)?t.forEach(function(t,r){n(t,e.concat(r))}):r(t,e,i)})(this._data,[])},p.prototype[Symbol.iterator]=function*(){yield*function*t(r,n){if(_(r))for(var e=0;e<r.length;e++)yield*t(r[e],n.concat(e));else yield{value:r,index:n}}(this._data,[])},p.prototype.rows=function(){var t,r=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(t of this._data)r.push(new p([t],this._datatype));return r},p.prototype.columns=function(){var n=this,e=[],t=this.size();if(2!==t.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,r=0;r<t[1];r++)!function(r){var t=i.map(t=>[t[r]]);e.push(new p(t,n._datatype))}(r);return e},p.prototype.toArray=function(){return $(this._data)},p.prototype.valueOf=function(){return this._data},p.prototype.format=function(t){return mt(this._data,t)},p.prototype.toString=function(){return mt(this._data)},p.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},p.prototype.diagonal=function(t){if(t){if(!w(t=x(t)?t.toNumber():t)||!tt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var r=0<t?t:0,n=t<0?-t:0,e=this._size[0],t=this._size[1],i=Math.min(e-n,t-r),o=[],a=0;a<i;a++)o[a]=this._data[a+n][a+r];return new p({data:o,size:[i],datatype:this._datatype})},p.diagonal=function(t,r,n,e){if(!_(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(!w(t=x(t)?t.toNumber():t)||!tt(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(!w(n=x(n)?n.toNumber():n)||!tt(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var i,o=0<n?n:0,a=n<0?-n:0,s=t[0],u=t[1],f=Math.min(s-a,u-o);if(_(r)){if(r.length!==f)throw new Error("Invalid value array length");i=function(t){return r[t]}}else if(A(r)){n=r.size();if(1!==n.length||n[0]!==f)throw new Error("Invalid matrix length");i=function(t){return r.get([t])}}else i=function(){return r};e=e||(x(i(0))?i(0).mul(0):0);var c=[];if(0<t.length)for(var c=_t(c,t,e),h=0;h<f;h++)c[h+a][h+o]=i(h);return new p({data:c,size:[s,u]})},p.fromJSON=function(t){return new p(t)},p.prototype.swapRows=function(t,r){if(!(w(t)&&tt(t)&&w(r)&&tt(r)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return xt(t,this._size[0]),xt(r,this._size[0]),p._swapRows(t,r,this._data),this},p._swapRows=function(t,r,n){var e=n[t];n[t]=n[r],n[r]=e},p},{isClass:!0});function Qn(t,r){return t&&"function"==typeof t.map?t.map(function(t){return Qn(t,r)}):r(t)}var te="number, number";function re(t){return Math.abs(t)}function ne(t,r){return t+r}function ee(t,r){return t*r}function ie(t){return-t}function oe(t,r,n){if(null==n)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var e=t.minus(r).abs();if(e.isZero())return!0;r=t.constructor.max(t.abs(),r.abs());return e.lte(r.times(n))}return!1}re.signature="number",ee.signature=ne.signature=te,ie.signature="number";var ae="equalScalar",se=At(ae,["typed","config"],t=>{var{typed:t,config:e}=t;return t(ae,{"boolean, boolean":function(t,r){return t===r},"number, number":function(t,r){return ht(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.eq(r)||oe(t,r,e.epsilon)},"Fraction, Fraction":function(t,r){return t.equals(r)},"Complex, Complex":function(t,r){return n=t,t=r,r=e.epsilon,ht(n.re,t.re,r)&&ht(n.im,t.im,r);var n},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return this(t.value,r.value)}})});At(ae,["typed","config"],t=>{var{typed:t,config:n}=t;return t(ae,{"number, number":function(t,r){return ht(t,r,n.epsilon)}})});var ue=At("SparseMatrix",["typed","equalScalar","Matrix"],t=>{var{typed:M,equalScalar:N,Matrix:t}=t;function E(t,r){if(!(this instanceof E))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!S(r))throw new Error("Invalid datatype: "+r);if(A(t))n=this,i=r,"SparseMatrix"===(e=t).type?(n._values=e._values?$(e._values):void 0,n._index=$(e._index),n._ptr=$(e._ptr),n._size=$(e._size),n._datatype=i||e._datatype):o(n,e.valueOf(),i||e._datatype);else if(t&&_(t.index)&&_(t.ptr)&&_(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=r||t.datatype;else if(_(t))o(this,t,r);else{if(t)throw new TypeError("Unsupported type of data ("+J(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}var n,e,i}function o(t,r,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var e=r.length,i=0,o=N,a=0;if(S(n)&&(o=M.find(N,[n,n])||N,a=M.convert(0,n)),0<e){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<e;u++){var f,c=r[u];_(c)?(0===s&&i<c.length&&(i=c.length),s<c.length&&(o(f=c[s],a)||(t._values.push(f),t._index.push(u)))):(0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u)))}}while(++s<i)}t._ptr.push(t._index.length),t._size=[e,i]}function g(t,r,n,e){if(n-r==0)return n;for(var i=r;i<n;i++)if(e[i]===t)return i;return r}function y(t,r,n,e,i,o,a){i.splice(t,0,e),o.splice(t,0,r);for(var s=n+1;s<a.length;s++)a[s]++}function u(t,r,n,e){var i=e||0,o=N,e=0;S(t._datatype)&&(o=M.find(N,[t._datatype,t._datatype])||N,e=M.convert(0,t._datatype),i=M.convert(i,t._datatype));var a=!o(i,e),s=t._size[0],u=t._size[1];if(u<n){for(c=u;c<n;c++)if(t._ptr[c]=t._values.length,a)for(l=0;l<s;l++)t._values.push(i),t._index.push(l);t._ptr[n]=t._values.length}else n<u&&(t._ptr.splice(n+1,u-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(u=n,s<r){if(a){for(var f=0,c=0;c<u;c++){t._ptr[c]=t._ptr[c]+f;for(var h=t._ptr[c+1]+f,p=0,l=s;l<r;l++,p++)t._values.splice(h+p,0,i),t._index.splice(h+p,0,l),f++}t._ptr[u]=t._values.length}}else if(r<s){var d=0;for(c=0;c<u;c++){t._ptr[c]=t._ptr[c]-d;var m=t._ptr[c],v=t._ptr[c+1]-d;for(h=m;h<v;h++)r-1<(l=t._index[h])&&(t._values.splice(h,1),t._index.splice(h,1),d++)}t._ptr[c]=t._values.length}return t._size[0]=r,t._size[1]=n,t}function r(t,r,n,e,i){for(var o,a=e[0],s=e[1],u=[],f=0;f<a;f++)for(u[f]=[],o=0;o<s;o++)u[f][o]=0;for(o=0;o<s;o++)for(var c=n[o],h=n[o+1],p=c;p<h;p++)u[f=r[p]][o]=t?i?$(t[p]):t[p]:1;return u}return(E.prototype=new t).createSparseMatrix=function(t,r){return new E(t,r)},E.prototype.type="SparseMatrix",E.prototype.isSparseMatrix=!0,E.prototype.getDataType=function(){return St(this._values,J)},E.prototype.storage=function(){return"sparse"},E.prototype.datatype=function(){return this._datatype},E.prototype.create=function(t,r){return new E(t,r)},E.prototype.density=function(){var t=this._size[0],r=this._size[1];return 0!==t&&0!==r?this._index.length/(t*r):0},E.prototype.subset=function(t,r,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(t,r){if(!b(r))throw new TypeError("Invalid index");if(r.isScalar())return t.get(r.min());var n,e,i,o,a=r.size();if(a.length!==t._size.length)throw new vt(a.length,t._size.length);var s=r.min(),u=r.max();for(n=0,e=t._size.length;n<e;n++)xt(s[n],t._size[n]),xt(u[n],t._size[n]);var f=t._values,c=t._index,h=t._ptr,p=r.dimension(0),r=r.dimension(1),l=[],d=[];p.forEach(function(t,r){d[t]=r[0],l[t]=!0});var m=f?[]:void 0,v=[],g=[];return r.forEach(function(t){for(g.push(v.length),i=h[t],o=h[t+1];i<o;i++)n=c[i],!0===l[n]&&(v.push(d[n]),m&&m.push(f[i]))}),g.push(v.length),new E({values:m,index:v,ptr:g,size:a,datatype:t._datatype})}(this,t);case 2:case 3:return function(t,r,n,e){if(!r||!0!==r.isIndex)throw new TypeError("Invalid index");var i,o=r.size(),a=r.isScalar();A(n)?(i=n.size(),n=n.toArray()):i=yt(n);if(a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(r.min(),n,e)}else{if(1!==o.length&&2!==o.length)throw new vt(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=Et(n,o.length,u,i)}if(!W(o,i))throw new vt(o,i,">");for(var f=r.min()[0],c=r.min()[1],h=i[0],p=i[1],l=0;l<h;l++)for(var d=0;d<p;d++){var m=n[l][d];t.set([l+f,d+c],m,e)}}return t}(this,t,r,n);default:throw new SyntaxError("Wrong number of arguments")}},E.prototype.get=function(t){if(!_(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new vt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var r=t[0],n=t[1];xt(r,this._size[0]),xt(n,this._size[1]);t=g(r,this._ptr[n],this._ptr[n+1],this._index);return t<this._ptr[n+1]&&this._index[t]===r?this._values[t]:0},E.prototype.set=function(t,r,n){if(!_(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new vt(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var e=t[0],i=t[1],o=this._size[0],a=this._size[1],s=N,t=0;S(this._datatype)&&(s=M.find(N,[this._datatype,this._datatype])||N,t=M.convert(0,this._datatype)),(o-1<e||a-1<i)&&(u(this,Math.max(e+1,o),Math.max(i+1,a),n),o=this._size[0],a=this._size[1]),xt(e,o),xt(i,a);a=g(e,this._ptr[i],this._ptr[i+1],this._index);return a<this._ptr[i+1]&&this._index[a]===e?s(r,t)?function(t,r,n,e,i){n.splice(t,1),e.splice(t,1);for(var o=r+1;o<i.length;o++)i[o]--}(a,i,this._values,this._index,this._ptr):this._values[a]=r:y(a,e,i,r,this._values,this._index,this._ptr),this},E.prototype.resize=function(t,r,n){if(!h(t))throw new TypeError("Array or Matrix expected");var e=t.valueOf().map(t=>Array.isArray(t)&&1===t.length?t[0]:t);if(2!==e.length)throw new Error("Only two dimensions matrix are supported");return e.forEach(function(t){if(!w(t)||!tt(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+mt(e)+")")}),u(n?this.clone():this,e[0],e[1],r)},E.prototype.reshape=function(r,t){if(!_(r))throw new TypeError("Array expected");if(2!==r.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");r.forEach(function(t){if(!w(t)||!tt(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+mt(r)+")")});var n=this._size[0]*this._size[1];if(n!=(r=Mt(r,n))[0]*r[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var e=t?this.clone():this;if(this._size[0]===r[0]&&this._size[1]===r[1])return e;for(var i=[],o=0;o<e._ptr.length;o++)for(var a=0;a<e._ptr[o+1]-e._ptr[o];a++)i.push(o);for(var s=e._values.slice(),u=e._index.slice(),f=0;f<e._index.length;f++){var c=u[f],h=i[f],h=c*e._size[1]+h;i[f]=h%r[1],u[f]=Math.floor(h/r[1])}e._values.length=0,e._index.length=0,e._ptr.length=r[1]+1,e._size=r.slice();for(var p=0;p<e._ptr.length;p++)e._ptr[p]=0;for(var l=0;l<s.length;l++){var d=u[l],m=i[l],v=s[l];y(g(d,e._ptr[m],e._ptr[m+1],e._index),d,m,v,e._values,e._index,e._ptr)}return e},E.prototype.clone=function(){return new E({values:this._values?$(this._values):void 0,index:$(this._index),ptr:$(this._ptr),size:$(this._size),datatype:this._datatype})},E.prototype.size=function(){return this._size.slice(0)},E.prototype.map=function(e,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this;return function(t,r,n,e,i,o,a){var s=[],u=[],f=[],c=N,h=0;S(t._datatype)&&(c=M.find(N,[t._datatype,t._datatype])||N,h=M.convert(0,t._datatype));for(var p=function(t,r,n){t=o(t,r,n),c(t,h)||(s.push(t),u.push(r))},l=e;l<=i;l++){f.push(s.length);var d=t._ptr[l],m=t._ptr[l+1];if(a)for(var v=d;v<m;v++){var g=t._index[v];r<=g&&g<=n&&p(t._values[v],g-r,l-e)}else{for(var y={},w=d;w<m;w++){var x=t._index[w];y[x]=t._values[w]}for(var _=r;_<=n;_++){var b=_ in y?y[_]:0;p(b,_-r,l-e)}}}return f.push(s.length),new E({values:s,index:u,ptr:f,size:[n-r+1,i-e+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(t,r,n){return e(t,[r,n],i)},t)},E.prototype.forEach=function(t,r){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],e=this._size[1],i=0;i<e;i++){var o=this._ptr[i],a=this._ptr[i+1];if(r)for(var s=o;s<a;s++){var u=this._index[s];t(this._values[s],[u,i],this)}else{for(var f={},c=o;c<a;c++)f[this._index[c]]=this._values[c];for(var h=0;h<n;h++)t(h in f?f[h]:0,[h,i],this)}}},E.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var t=this._size[1],r=0;r<t;r++)for(var n=this._ptr[r],e=this._ptr[r+1],i=n;i<e;i++){var o=this._index[i];yield{value:this._values[i],index:[o,r]}}},E.prototype.toArray=function(){return r(this._values,this._index,this._ptr,this._size,!0)},E.prototype.valueOf=function(){return r(this._values,this._index,this._ptr,this._size,!1)},E.prototype.format=function(t){for(var r=this._size[0],n=this._size[1],e=this.density(),i="Sparse Matrix ["+mt(r,t)+" x "+mt(n,t)+"] density: "+mt(e,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],u=a;u<s;u++)i+="\n    ("+mt(this._index[u],t)+", "+mt(o,t)+") ==> "+(this._values?mt(this._values[u],t):"X");return i},E.prototype.toString=function(){return mt(this.toArray())},E.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},E.prototype.diagonal=function(t){if(t){if(!w(t=x(t)?t.toNumber():t)||!tt(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var r=0<t?t:0,n=t<0?-t:0,t=this._size[0],e=this._size[1],i=Math.min(t-n,e-r),o=[],a=[],t=[];t[0]=0;for(var s=r;s<e&&o.length<i;s++)for(var u=this._ptr[s],f=this._ptr[s+1],c=u;c<f;c++){var h=this._index[c];if(h===s-r+n){o.push(this._values[c]),a[o.length-1]=h-n;break}}return t.push(o.length),new E({values:o,index:a,ptr:t,size:[i,1]})},E.fromJSON=function(t){return new E(t)},E.diagonal=function(t,r,n,e,i){if(!_(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(!w(t=x(t)?t.toNumber():t)||!tt(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(!w(n=x(n)?n.toNumber():n)||!tt(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=N,a=0;S(i)&&(o=M.find(N,[i,i])||N,a=M.convert(0,i));var s,u=0<n?n:0,f=n<0?-n:0,n=t[0],c=t[1],h=Math.min(n-f,c-u);if(_(r)){if(r.length!==h)throw new Error("Invalid value array length");s=function(t){return r[t]}}else if(A(r)){t=r.size();if(1!==t.length||t[0]!==h)throw new Error("Invalid matrix length");s=function(t){return r.get([t])}}else s=function(){return r};for(var p=[],l=[],d=[],m=0;m<c;m++){d.push(p.length);var v,g=m-u;0<=g&&g<h&&(o(v=s(g),a)||(l.push(g+f),p.push(v)))}return d.push(p.length),new E({values:p,index:l,ptr:d,size:[n,c]})},E.prototype.swapRows=function(t,r){if(!(w(t)&&tt(t)&&w(r)&&tt(r)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return xt(t,this._size[0]),xt(r,this._size[0]),E._swapRows(t,r,this._size[1],this._values,this._index,this._ptr),this},E._forEachRow=function(t,r,n,e,i){for(var o=e[t],a=e[t+1],s=o;s<a;s++)i(n[s],r[s])},E._swapRows=function(t,r,n,e,i,o){for(var a=0;a<n;a++){var s,u=o[a],f=o[a+1],c=g(t,u,f,i),u=g(r,u,f,i);c<f&&u<f&&i[c]===t&&i[u]===r?e&&(s=e[c],e[c]=e[u],e[u]=s):c<f&&i[c]===t&&(f<=u||i[u]!==r)?(s=e?e[c]:void 0,i.splice(u,0,r),e&&e.splice(u,0,s),i.splice(u<=c?c+1:c,1),e&&e.splice(u<=c?c+1:c,1)):u<f&&i[u]===r&&(f<=c||i[c]!==t)&&(f=e?e[u]:void 0,i.splice(c,0,t),e&&e.splice(c,0,f),i.splice(c<=u?u+1:u,1),e&&e.splice(c<=u?u+1:u,1))}},E},{isClass:!0});var fe=At("number",["typed"],t=>{var t=t["typed"],t=t("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var r=(e=(n=t).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:n,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null;if(r)return function(t){for(var r=parseInt(t.integerPart,t.radix),n=0,e=0;e<t.fractionalPart.length;e++)n+=parseInt(t.fractionalPart[e],t.radix)/Math.pow(t.radix,e+1);if(r+=n,isNaN(r))throw new SyntaxError('String "'+t.input+'" is no valid number');return r}(r);var n=0,e=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);e&&(n=Number(e[2]),t=e[1]);r=Number(t);if(isNaN(r))throw new SyntaxError('String "'+t+'" is no valid number');if(e){if(2**n-1<r)throw new SyntaxError('String "'.concat(t,'" is out of range'));2**(n-1)<=r&&(r-=2**n)}return r},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,r){return t.toNumber(r)},"Array | Matrix":function(t){return Qn(t,this)}});return t.fromJSON=function(t){return parseFloat(t.value)},t}),ce=At("bignumber",["typed","BigNumber"],t=>{var{typed:t,BigNumber:i}=t;return t("bignumber",{"":function(){return new i(0)},number:function(t){return new i(t+"")},string:function(t){var r=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(r){var n=r[2],e=i(r[1]),r=new i(2).pow(Number(n));if(e.gt(r.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));n=new i(2).pow(Number(n)-1);return e.gte(n)?e.sub(r):e}return new i(t)},BigNumber:function(t){return t},Fraction:function(t){return new i(t.n).div(t.d).times(t.s)},null:function(t){return new i(0)},"Array | Matrix":function(t){return Qn(t,this)}})}),he=At("fraction",["typed","Fraction"],t=>{var{typed:t,Fraction:n}=t;return t("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,r){return new n(t,r)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return Qn(t,this)}})}),pe=At("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],t=>{var{typed:t,DenseMatrix:e,SparseMatrix:i}=t;return t("matrix",{"":function(){return n([])},string:function(t){return n([],t)},"string, string":function(t,r){return n([],t,r)},Array:function(t){return n(t)},Matrix:function(t){return n(t,t.storage())},"Array | Matrix, string":n,"Array | Matrix, string, string":n});function n(t,r,n){if("dense"===r||"default"===r||void 0===r)return new e(t,n);if("sparse"===r)return new i(t,n);throw new TypeError("Unknown matrix type "+JSON.stringify(r)+".")}}),le="unaryMinus",de=At(le,["typed"],t=>{var t=t["typed"];return t(le,{number:ie,Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var r=t.clone();return r.value=this(t.value),r},"Array | Matrix":function(t){return Qn(t,this)}})}),me=At("abs",["typed"],t=>{var t=t["typed"];return t("abs",{number:re,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return Qn(t,this)},Unit:function(t){return t.abs()}})}),ve="addScalar",ge=At(ve,["typed"],t=>{var t=t["typed"];return t(ve,{"number, number":ne,"Complex, Complex":function(t,r){return t.add(r)},"BigNumber, BigNumber":function(t,r){return t.plus(r)},"Fraction, Fraction":function(t,r){return t.add(r)},"Unit, Unit":function(t,r){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");t=t.clone();return t.value=this(t.value,r.value),t.fixPrefix=!1,t}})}),ye=At("algorithm11",["typed","equalScalar"],t=>{var{typed:N,equalScalar:E}=t;return function(t,r,n,e){var i=t._values,o=t._index,a=t._ptr,s=t._size,u=t._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,c=s[0],h=s[1],p=E,l=0,d=n;"string"==typeof u&&(p=N.find(E,[f=u,f]),l=N.convert(0,f),r=N.convert(r,f),d=N.find(n,[f,f]));for(var m=[],v=[],g=[],y=0;y<h;y++){g[y]=v.length;for(var w=a[y],x=a[y+1],_=w;_<x;_++){var b=o[_],M=e?d(r,i[_]):d(i[_],r);p(M,l)||(v.push(b),m.push(M))}}return g[h]=v.length,t.createSparseMatrix({values:m,index:v,ptr:g,size:[c,h],datatype:f})}}),we=At("algorithm14",["typed"],t=>{var f=t["typed"];return function(t,r,n,e){var i,o=t._data,a=t._size,s=t._datatype,u=n;"string"==typeof s&&(r=f.convert(r,i=s),u=f.find(n,[i,i]));e=0<a.length?function t(r,n,e,i,o,a,s){var u=[];if(n===e.length-1)for(var f=0;f<i;f++)u[f]=s?r(a,o[f]):r(o[f],a);else for(var c=0;c<i;c++)u[c]=t(r,n+1,e,e[n+1],o[c],a,s);return u}(u,0,a,a[0],o,r,e):[];return t.createDenseMatrix({data:e,size:$(a),datatype:i})}}),xe=At("algorithm01",["typed"],t=>{var M=t["typed"];return function(t,r,n,e){var i=t._data,o=t._size,a=t._datatype,s=r._values,u=r._index,f=r._ptr,c=r._size,r=r._datatype;if(o.length!==c.length)throw new vt(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");for(var h=o[0],p=o[1],a="string"==typeof a&&a===r?a:void 0,l=a?M.find(n,[a,a]):n,d=[],m=0;m<h;m++)d[m]=[];for(var v=[],g=[],y=0;y<p;y++){for(var w=y+1,x=f[y],_=f[y+1],b=x;b<_;b++)v[m=u[b]]=e?l(s[b],i[m][y]):l(i[m][y],s[b]),g[m]=w;for(m=0;m<h;m++)g[m]===w?d[m][y]=v[m]:d[m][y]=i[m][y]}return t.createDenseMatrix({data:d,size:[h,p],datatype:a})}}),_e=At("algorithm04",["typed","equalScalar"],t=>{var{typed:D,equalScalar:F}=t;return function(t,r,n){var e=t._values,i=t._index,o=t._ptr,a=t._size,s=t._datatype,u=r._values,f=r._index,c=r._ptr,h=r._size,r=r._datatype;if(a.length!==h.length)throw new vt(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");var p,h=a[0],l=a[1],d=F,m=0,v=n;"string"==typeof s&&s===r&&(d=D.find(F,[p=s,p]),m=D.convert(0,p),v=D.find(n,[p,p]));for(var g=e&&u?[]:void 0,y=[],w=[],x=e&&u?[]:void 0,_=e&&u?[]:void 0,b=[],M=[],N=0;N<l;N++){w[N]=y.length;for(var E,S,A=N+1,z=o[N],O=o[N+1],C=z;C<O;C++)S=i[C],y.push(S),b[S]=A,x&&(x[S]=e[C]);for(z=c[N],O=c[N+1],C=z;C<O;C++)b[S=f[C]]===A?x&&(d(E=v(x[S],u[C]),m)?b[S]=null:x[S]=E):(y.push(S),M[S]=A,_&&(_[S]=u[C]));if(x&&_)for(C=w[N];C<y.length;)b[S=y[C]]===A?(g[C]=x[S],C++):M[S]===A?(g[C]=_[S],C++):y.splice(C,1)}return w[l]=y.length,t.createSparseMatrix({values:g,index:y,ptr:w,size:[h,l],datatype:p})}}),be=At("algorithm10",["typed","DenseMatrix"],t=>{var{typed:b,DenseMatrix:M}=t;return function(t,r,n,e){var i=t._values,o=t._index,a=t._ptr,s=t._size,t=t._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,f=s[0],c=s[1],h=n;"string"==typeof t&&(r=b.convert(r,u=t),h=b.find(n,[u,u]));for(var p=[],l=[],d=[],m=0;m<c;m++){for(var v=m+1,g=a[m],y=a[m+1],w=g;w<y;w++){var x=o[w];l[x]=i[w],d[x]=v}for(var _=0;_<f;_++)0===m&&(p[_]=[]),d[_]===v?p[_][m]=e?h(r,l[_]):h(l[_],r):p[_][m]=r}return new M({data:p,size:[f,c],datatype:u})}}),Me=At("algorithm13",["typed"],t=>{var p=t["typed"];return function(t,r,n){var e=t._data,i=t._size,o=t._datatype,a=r._data,s=r._size,u=r._datatype,f=[];if(i.length!==s.length)throw new vt(i.length,s.length);for(var c,h=0;h<i.length;h++){if(i[h]!==s[h])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+s+")");f[h]=i[h]}r=n;"string"==typeof o&&o===u&&(r=p.find(n,[c=o,c]));a=0<f.length?function t(r,n,e,i,o,a){var s=[];if(n===e.length-1)for(var u=0;u<i;u++)s[u]=r(o[u],a[u]);else for(var f=0;f<i;f++)s[f]=t(r,n+1,e,e[n+1],o[f],a[f]);return s}(r,0,f,f[0],e,a):[];return t.createDenseMatrix({data:a,size:f,datatype:c})}}),Ne=At("algorithm03",["typed"],t=>{var A=t["typed"];return function(t,r,n,e){var i=t._data,o=t._size,a=t._datatype,s=r._values,u=r._index,f=r._ptr,c=r._size,r=r._datatype;if(o.length!==c.length)throw new vt(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,p=o[0],l=o[1],d=0,m=n;"string"==typeof a&&a===r&&(d=A.convert(0,h=a),m=A.find(n,[h,h]));for(var v=[],g=0;g<p;g++)v[g]=[];for(var y=[],w=[],x=0;x<l;x++){for(var _=x+1,b=f[x],M=f[x+1],N=b;N<M;N++){var E=u[N];y[E]=e?m(s[N],i[E][x]):m(i[E][x],s[N]),w[E]=_}for(var S=0;S<p;S++)w[S]===_?v[S][x]=y[S]:v[S][x]=e?m(d,i[S][x]):m(i[S][x],d)}return t.createDenseMatrix({data:v,size:[p,l],datatype:h})}}),Ee=At("algorithm05",["typed","equalScalar"],t=>{var{typed:D,equalScalar:F}=t;return function(t,r,n){var e=t._values,i=t._index,o=t._ptr,a=t._size,s=t._datatype,u=r._values,f=r._index,c=r._ptr,h=r._size,r=r._datatype;if(a.length!==h.length)throw new vt(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");var p,h=a[0],l=a[1],d=F,m=0,v=n;"string"==typeof s&&s===r&&(d=D.find(F,[p=s,p]),m=D.convert(0,p),v=D.find(n,[p,p]));for(var g=e&&u?[]:void 0,y=[],w=[],x=g?[]:void 0,_=g?[]:void 0,b=[],M=[],N=0;N<l;N++){w[N]=y.length;for(var E=N+1,S=o[N],A=o[N+1];S<A;S++)z=i[S],y.push(z),b[z]=E,x&&(x[z]=e[S]);for(S=c[N],A=c[N+1];S<A;S++)b[z=f[S]]!==E&&y.push(z),M[z]=E,_&&(_[z]=u[S]);if(g)for(S=w[N];S<y.length;){var z,O=b[z=y[S]],C=M[z];O!==E&&C!==E||(d(C=v(O===E?x[z]:m,C===E?_[z]:m),m)?y.splice(S,1):(g.push(C),S++))}}return w[l]=y.length,t.createSparseMatrix({values:g,index:y,ptr:w,size:[h,l],datatype:p})}}),Se=At("algorithm12",["typed","DenseMatrix"],t=>{var{typed:b,DenseMatrix:M}=t;return function(t,r,n,e){var i=t._values,o=t._index,a=t._ptr,s=t._size,t=t._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,f=s[0],c=s[1],h=n;"string"==typeof t&&(r=b.convert(r,u=t),h=b.find(n,[u,u]));for(var p=[],l=[],d=[],m=0;m<c;m++){for(var v=m+1,g=a[m],y=a[m+1],w=g;w<y;w++){var x=o[w];l[x]=i[w],d[x]=v}for(var _=0;_<f;_++)0===m&&(p[_]=[]),d[_]===v?p[_][m]=e?h(r,l[_]):h(l[_],r):p[_][m]=e?h(r,0):h(0,r)}return new M({data:p,size:[f,c],datatype:u})}}),Ae=At("multiplyScalar",["typed"],t=>{var t=t["typed"];return t("multiplyScalar",{"number, number":ee,"Complex, Complex":function(t,r){return t.mul(r)},"BigNumber, BigNumber":function(t,r){return t.times(r)},"Fraction, Fraction":function(t,r){return t.mul(r)},"number | Fraction | BigNumber | Complex, Unit":function(t,r){r=r.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,r){t=t.clone();return t.value=null===t.value?t._normalize(r):this(t.value,r),t},"Unit, Unit":function(t,r){return t.multiply(r)}})}),ze="multiply",Oe=At(ze,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],t=>{var{typed:B,matrix:n,addScalar:T,multiplyScalar:j,equalScalar:I,dot:i}=t,e=ye({typed:B,equalScalar:I}),o=we({typed:B});function a(t,r){switch(t.length){case 1:switch(r.length){case 1:if(t[0]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+r[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;case 2:switch(r.length){case 1:if(t[1]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+r[0]+")");break;case 2:if(t[1]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+r[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function s(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var n,e=t._data,i=t._size,o=t._datatype,a=r._data,s=r._size,r=r._datatype,u=i[0],f=s[1],c=T,h=j;o&&r&&o===r&&"string"==typeof o&&(n=o,c=B.find(T,[n,n]),h=B.find(j,[n,n]));for(var p=[],l=0;l<f;l++){for(var d=h(e[0],a[0][l]),m=1;m<u;m++)d=c(d,h(e[m],a[m][l]));p[l]=d}return t.createDenseMatrix({data:p,size:[f],datatype:n})}(t,r)}var u=B("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var n,e=t._data,i=t._size,o=t._datatype,a=r._data,r=r._datatype,s=i[0],u=i[1],f=T,c=j;o&&r&&o===r&&"string"==typeof o&&(n=o,f=B.find(T,[n,n]),c=B.find(j,[n,n]));for(var h=[],p=0;p<s;p++){for(var l=e[p],d=c(l[0],a[0]),m=1;m<u;m++)d=f(d,c(l[m],a[m]));h[p]=d}return t.createDenseMatrix({data:h,size:[s],datatype:n})},"SparseMatrix, any":function(t,r){var n=t._values,e=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var a,s=r._data,u=r._datatype,f=t._size[0],c=r._size[0],h=[],p=[],r=[],l=T,d=j,m=I,v=0;o&&u&&o===u&&"string"==typeof o&&(a=o,l=B.find(T,[a,a]),d=B.find(j,[a,a]),m=B.find(I,[a,a]),v=B.convert(0,a));for(var g=[],y=[],w=r[0]=0;w<c;w++){var x=s[w];if(!m(x,v))for(var _=i[w],b=i[w+1],M=_;M<b;M++){var N=e[M];y[N]?g[N]=l(g[N],d(x,n[M])):(y[N]=!0,p.push(N),g[N]=d(x,n[M]))}}for(var E=p.length,S=0;S<E;S++){var A=p[S];h[S]=g[A]}return r[1]=p.length,t.createSparseMatrix({values:h,index:p,ptr:r,size:[f,1],datatype:a})}}),f=B("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var n,e=t._data,i=t._size,o=t._datatype,a=r._data,s=r._size,r=r._datatype,u=i[0],f=i[1],c=s[1],h=T,p=j;o&&r&&o===r&&"string"==typeof o&&(n=o,h=B.find(T,[n,n]),p=B.find(j,[n,n]));for(var l=[],d=0;d<u;d++){var m=e[d];l[d]=[];for(var v=0;v<c;v++){for(var g=p(m[0],a[0][v]),y=1;y<f;y++)g=h(g,p(m[y],a[y][v]));l[d][v]=g}}return t.createDenseMatrix({data:l,size:[u,c],datatype:n})},"DenseMatrix, SparseMatrix":function(t,r){var n=t._data,e=t._size,i=t._datatype,o=r._values,a=r._index,s=r._ptr,u=r._size,t=r._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var f=e[0],c=u[1],h=T,p=j,l=I,d=0;i&&t&&i===t&&"string"==typeof i&&(y=i,h=B.find(T,[y,y]),p=B.find(j,[y,y]),l=B.find(I,[y,y]),d=B.convert(0,y));for(var m=[],v=[],g=[],y=r.createSparseMatrix({values:m,index:v,ptr:g,size:[f,c],datatype:y}),w=0;w<c;w++){g[w]=v.length;var x=s[w],_=s[w+1];if(x<_)for(var b=0,M=0;M<f;M++){for(var N=M+1,E=void 0,S=x;S<_;S++){var A=a[S];b!==N?(E=p(n[M][A],o[S]),b=N):E=h(E,p(n[M][A],o[S]))}b!==N||l(E,d)||(v.push(M),m.push(E))}}return g[c]=v.length,y},"SparseMatrix, DenseMatrix":function(t,r){var n=t._values,e=t._index,i=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var a=r._data,s=r._datatype,u=t._size[0],f=r._size[0],c=r._size[1],h=T,p=j,l=I,d=0;o&&s&&o===s&&"string"==typeof o&&(y=o,h=B.find(T,[y,y]),p=B.find(j,[y,y]),l=B.find(I,[y,y]),d=B.convert(0,y));for(var m=[],v=[],g=[],y=t.createSparseMatrix({values:m,index:v,ptr:g,size:[u,c],datatype:y}),w=[],x=[],_=0;_<c;_++){g[_]=v.length;for(var b=_+1,M=0;M<f;M++){var N=a[M][_];if(!l(N,d))for(var E=i[M],S=i[M+1],A=E;A<S;A++){var z=e[A];x[z]!==b?(x[z]=b,v.push(z),w[z]=p(N,n[A])):w[z]=h(w[z],p(N,n[A]))}}for(var O=g[_],C=v.length,D=O;D<C;D++){var F=v[D];m[D]=w[F]}}return g[c]=v.length,y},"SparseMatrix, SparseMatrix":function(t,r){var n=t._values,e=t._index,i=t._ptr,o=t._datatype,a=r._values,s=r._index,u=r._ptr,f=r._datatype,c=t._size[0],h=r._size[1],p=n&&a,l=T,d=j;o&&f&&o===f&&"string"==typeof o&&(E=o,l=B.find(T,[E,E]),d=B.find(j,[E,E]));for(var m,v,g,y,w,x,_,b=p?[]:void 0,M=[],N=[],E=t.createSparseMatrix({values:b,index:M,ptr:N,size:[c,h],datatype:E}),S=p?[]:void 0,A=[],z=0;z<h;z++){N[z]=M.length;var O=z+1;for(C=u[z],w=u[z+1],y=C;y<w;y++)if(_=s[y],p)for(v=i[_],g=i[_+1],m=v;m<g;m++)x=e[m],A[x]!==O?(A[x]=O,M.push(x),S[x]=d(a[y],n[m])):S[x]=l(S[x],d(a[y],n[m]));else for(v=i[_],g=i[_+1],m=v;m<g;m++)x=e[m],A[x]!==O&&(A[x]=O,M.push(x));if(p)for(var C=N[z],D=M.length,F=C;F<D;F++){var I=M[F];b[F]=S[I]}}return N[h]=M.length,E}});return B(ze,Y({"Array, Array":function(t,r){a(yt(t),yt(r));r=this(n(t),n(r));return A(r)?r.valueOf():r},"Matrix, Matrix":function(t,r){var n=t.size(),e=r.size();return a(n,e),1===n.length?1===e.length?function(t,r,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return i(t,r)}(t,r,n[0]):s(t,r):(1===e.length?u:f)(t,r)},"Matrix, Array":function(t,r){return this(t,n(r))},"Array, Matrix":function(t,r){return this(n(t,r.storage()),r)},"SparseMatrix, any":function(t,r){return e(t,r,j,!1)},"DenseMatrix, any":function(t,r){return o(t,r,j,!1)},"any, SparseMatrix":function(t,r){return e(r,t,j,!0)},"any, DenseMatrix":function(t,r){return o(r,t,j,!0)},"Array, any":function(t,r){return o(n(t),r,j,!1).valueOf()},"any, Array":function(t,r){return o(n(r),t,j,!0).valueOf()},"any, any":j,"any, any, ...any":function(t,r,n){for(var e=this(t,r),i=0;i<n.length;i++)e=this(e,n[i]);return e}},j.signatures))}),Ce="subtract",De=At(Ce,["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],t=>{var{typed:r,matrix:n,equalScalar:e,addScalar:i,unaryMinus:o,DenseMatrix:t}=t,a=xe({typed:r}),s=Ne({typed:r}),u=Ee({typed:r,equalScalar:e}),f=be({typed:r,DenseMatrix:t}),c=Me({typed:r}),h=we({typed:r});return r(Ce,{"number, number":function(t,r){return t-r},"Complex, Complex":function(t,r){return t.sub(r)},"BigNumber, BigNumber":function(t,r){return t.minus(r)},"Fraction, Fraction":function(t,r){return t.sub(r)},"Unit, Unit":function(t,r){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");t=t.clone();return t.value=this(t.value,r.value),t.fixPrefix=!1,t},"SparseMatrix, SparseMatrix":function(t,r){return Fe(t,r),u(t,r,this)},"SparseMatrix, DenseMatrix":function(t,r){return Fe(t,r),s(r,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,r){return Fe(t,r),a(t,r,this,!1)},"DenseMatrix, DenseMatrix":function(t,r){return Fe(t,r),c(t,r,this)},"Array, Array":function(t,r){return this(n(t),n(r)).valueOf()},"Array, Matrix":function(t,r){return this(n(t),r)},"Matrix, Array":function(t,r){return this(t,n(r))},"SparseMatrix, any":function(t,r){return f(t,o(r),i)},"DenseMatrix, any":function(t,r){return h(t,r,this)},"any, SparseMatrix":function(t,r){return f(r,t,this,!0)},"any, DenseMatrix":function(t,r){return h(r,t,this,!0)},"Array, any":function(t,r){return h(n(t),r,this,!1).valueOf()},"any, Array":function(t,r){return h(n(r),t,this,!0).valueOf()}})});function Fe(t,r){t=t.size(),r=r.size();if(t.length!==r.length)throw new vt(t.length,r.length)}var Ie=At("algorithm07",["typed","DenseMatrix"],t=>{var{typed:x,DenseMatrix:_}=t;return function(t,r,n){var e=t._size,i=t._datatype,o=r._size,a=r._datatype;if(e.length!==o.length)throw new vt(e.length,o.length);if(e[0]!==o[0]||e[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+e+") must match Matrix B ("+o+")");var s,u=e[0],f=e[1],c=0,h=n;"string"==typeof i&&i===a&&(c=x.convert(0,s=i),h=x.find(n,[s,s]));for(var p=[],l=0;l<u;l++)p[l]=[];for(var d=[],m=[],v=[],g=[],y=0;y<f;y++){var w=y+1;for(b(t,y,v,d,w),b(r,y,g,m,w),l=0;l<u;l++)p[l][y]=h(v[l]===w?d[l]:c,g[l]===w?m[l]:c)}return new _({data:p,size:[u,f],datatype:s})};function b(t,r,n,e,i){for(var o=t._values,a=t._index,t=t._ptr,s=t[r],u=t[r+1];s<u;s++){var f=a[s];n[f]=i,e[f]=o[s]}}}),Be=At("conj",["typed"],t=>{var t=t["typed"];return t("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return Qn(t,this)}})}),Te="identity",je=At(Te,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],t=>{var{typed:t,config:n,matrix:e,BigNumber:f,DenseMatrix:c,SparseMatrix:h}=t;return t(Te,{"":function(){return"Matrix"===n.matrix?e([]):[]},string:function(t){return e(t)},"number | BigNumber":function(t){return o(t,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(t,r){return o(t,t,r)},"number | BigNumber, number | BigNumber":function(t,r){return o(t,r,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":o,Array:function(t){return i(t)},"Array, string":i,Matrix:function(t){return i(t.valueOf(),t.storage())},"Matrix, string":function(t,r){return i(t.valueOf(),r)}});function i(t,r){switch(t.length){case 0:return r?e(r):[];case 1:return o(t[0],t[0],r);case 2:return o(t[0],t[1],r);default:throw new Error("Vector containing two values expected")}}function o(t,r,n){var e=x(t)||x(r)?f:null;if(x(t)&&(t=t.toNumber()),x(r)&&(r=r.toNumber()),!tt(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!tt(r)||r<1)throw new Error("Parameters in function identity must be positive integers");var i=e?new f(1):1,o=e?new e(0):0,e=[t,r];if(n){if("sparse"===n)return h.diagonal(e,i,0,o);if("dense"===n)return c.diagonal(e,i,0,o);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var a=_t([],e,o),s=t<r?t:r,u=0;u<s;u++)a[u][u]=i;return a}});function ke(){throw new Error('No "bignumber" implementation available')}function Pe(){throw new Error('No "fraction" implementation available')}var qe=At("size",["typed","config","?matrix"],t=>{var{typed:t,config:r,matrix:n}=t;return t("size",{Matrix:function(t){return t.create(t.size())},Array:yt,string:function(t){return"Array"===r.matrix?[t.length]:n([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===r.matrix?[]:n?n([]):function(){throw new Error('No "matrix" implementation available')}()}})}),Re=At("format",["typed"],t=>{var t=t["typed"];return t("format",{any:mt,"any, Object | function | number":mt})}),Ue=At("numeric",["number","?bignumber","?fraction"],t=>{var{number:r,bignumber:n,fraction:e}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:t=>r(t),BigNumber:n?t=>n(t):ke,Fraction:e?t=>e(t):Pe};return function(t,r){var n=J(t);if(!(n in i))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(r in o))throw new TypeError("Cannot convert "+t+' to type "'+r+'"; valid output types are '+Object.keys(o).join(", "));return r===n?t:o[r](t)}}),Le="divideScalar",Ze=At(Le,["typed","numeric"],t=>{var{typed:t,numeric:i}=t;return t(Le,{"number, number":function(t,r){return t/r},"Complex, Complex":function(t,r){return t.div(r)},"BigNumber, BigNumber":function(t,r){return t.div(r)},"Fraction, Fraction":function(t,r){return t.div(r)},"Unit, number | Fraction | BigNumber":function(t,r){var n=t.clone(),t=i(1,J(r));return n.value=this(null===n.value?n._normalize(t):n.value,r),n},"number | Fraction | BigNumber, Unit":function(t,r){var n=(n=r.clone()).pow(-1),e=i(1,J(t));return n.value=this(t,null===r.value?r._normalize(e):r.value),n},"Unit, Unit":function(t,r){return t.divide(r)}})}),He="smaller",Ve=At(He,["typed","config","matrix","DenseMatrix"],t=>{var{typed:r,config:n,matrix:e,DenseMatrix:t}=t,i=Ne({typed:r}),o=Ie({typed:r,DenseMatrix:t}),a=Se({typed:r,DenseMatrix:t}),s=Me({typed:r}),u=we({typed:r});return r(He,{"boolean, boolean":function(t,r){return t<r},"number, number":function(t,r){return t<r&&!ht(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.lt(r)&&!oe(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return-1===t.compare(r)},"Complex, Complex":function(t,r){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return this(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return o(t,r,this)},"SparseMatrix, DenseMatrix":function(t,r){return i(r,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,r){return i(t,r,this,!1)},"DenseMatrix, DenseMatrix":function(t,r){return s(t,r,this)},"Array, Array":function(t,r){return this(e(t),e(r)).valueOf()},"Array, Matrix":function(t,r){return this(e(t),r)},"Matrix, Array":function(t,r){return this(t,e(r))},"SparseMatrix, any":function(t,r){return a(t,r,this,!1)},"DenseMatrix, any":function(t,r){return u(t,r,this,!1)},"any, SparseMatrix":function(t,r){return a(r,t,this,!0)},"any, DenseMatrix":function(t,r){return u(r,t,this,!0)},"Array, any":function(t,r){return u(e(t),r,this,!1).valueOf()},"any, Array":function(t,r){return u(e(r),t,this,!0).valueOf()}})}),Je=At("larger",["typed","config","matrix","DenseMatrix"],t=>{var{typed:r,config:n,matrix:e,DenseMatrix:t}=t,i=Ne({typed:r}),o=Ie({typed:r,DenseMatrix:t}),a=Se({typed:r,DenseMatrix:t}),s=Me({typed:r}),u=we({typed:r});return r("larger",{"boolean, boolean":function(t,r){return r<t},"number, number":function(t,r){return r<t&&!ht(t,r,n.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gt(r)&&!oe(t,r,n.epsilon)},"Fraction, Fraction":function(t,r){return 1===t.compare(r)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return this(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return o(t,r,this)},"SparseMatrix, DenseMatrix":function(t,r){return i(r,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,r){return i(t,r,this,!1)},"DenseMatrix, DenseMatrix":function(t,r){return s(t,r,this)},"Array, Array":function(t,r){return this(e(t),e(r)).valueOf()},"Array, Matrix":function(t,r){return this(e(t),r)},"Matrix, Array":function(t,r){return this(t,e(r))},"SparseMatrix, any":function(t,r){return a(t,r,this,!1)},"DenseMatrix, any":function(t,r){return u(t,r,this,!1)},"any, SparseMatrix":function(t,r){return a(r,t,this,!0)},"any, DenseMatrix":function(t,r){return u(r,t,this,!0)},"Array, any":function(t,r){return u(e(t),r,this,!1).valueOf()},"any, Array":function(t,r){return u(e(r),t,this,!0).valueOf()}})}),n=At("FibonacciHeap",["smaller","larger"],t=>{var{smaller:h,larger:p}=t,l=1/Math.log((1+Math.sqrt(5))/2);function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function i(t,r,n){r.left.right=r.right,r.right.left=r.left,n.degree--,n.child===r&&(n.child=r.right),0===n.degree&&(n.child=null),r.left=t,r.right=t.right,((t.right=r).right.left=r).parent=null,r.mark=!1}r.prototype.type="FibonacciHeap",r.prototype.isFibonacciHeap=!0,r.prototype.insert=function(t,r){var n={key:t,value:r,degree:0};return this._minimum?(r=this._minimum,n.left=r,n.right=r.right,(r.right=n).right.left=n,h(t,r.key)&&(this._minimum=n)):((n.left=n).right=n,this._minimum=n),this._size++,n},r.prototype.size=function(){return this._size},r.prototype.clear=function(){this._minimum=null,this._size=0},r.prototype.isEmpty=function(){return 0===this._size},r.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var r=this._minimum,n=t.degree,e=t.child;0<n;){var i=e.right;e.left.right=e.right,e.right.left=e.left,e.left=r,e.right=r.right,((r.right=e).right.left=e).parent=null,e=i,n--}return t.left.right=t.right,t.right.left=t.left,r=t===t.right?null:function(t,r){var n,e=Math.floor(Math.log(r)*l)+1,i=new Array(e),o=0,a=t;if(a)for(o++,a=a.right;a!==t;)o++,a=a.right;for(;0<o;){for(var s,u=a.degree,f=a.right;;){if(!(n=i[u]))break;p(a.key,n.key)&&(s=n,n=a,a=s),d(n,a),i[u]=null,u++}i[u]=a,a=f,o--}t=null;for(var c=0;c<e;c++)(n=i[c])&&(t?(n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,(t.right=n).right.left=n,h(n.key,t.key)&&(t=n)):t=n);return t}(r=t.right,this._size),this._size--,this._minimum=r,t},r.prototype.remove=function(t){this._minimum=function(t,r,n){r.key=n;n=r.parent;n&&h(r.key,n.key)&&(i(t,r,n),function t(r,n){var e=n.parent;if(!e)return;n.mark?(i(r,n,e),t(e)):n.mark=!0}(t,n));h(r.key,t.key)&&(t=r);return t}(this._minimum,t,-1),this.extractMinimum()};var d=function(t,r){t.left.right=t.right,t.right.left=t.left,(t.parent=r).child?(t.left=r.child,t.right=r.child.right,(r.child.right=t).right.left=t):((r.child=t).right=t).left=t,r.degree++,t.mark=!1};return r},{isClass:!0}),K=At("Spa",["addScalar","equalScalar","FibonacciHeap"],t=>{var{addScalar:e,equalScalar:f,FibonacciHeap:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(t,r){this._values[t]?this._values[t].value=r:(r=this._heap.insert(t,r),this._values[t]=r)},n.prototype.get=function(t){t=this._values[t];return t?t.value:0},n.prototype.accumulate=function(t,r){var n=this._values[t];n?n.value=e(n.value,r):(n=this._heap.insert(t,r),this._values[t]=n)},n.prototype.forEach=function(t,r,n){var e=this._heap,i=this._values,o=[];for((s=e.extractMinimum())&&o.push(s);s&&s.key<=r;)s.key>=t&&(f(s.value,0)||n(s.key,s.value,this)),(s=e.extractMinimum())&&o.push(s);for(var a=0;a<o.length;a++){var s,u=o[a];i[(s=e.insert(u.key,u.value)).key]=s}},n.prototype.swap=function(t,r){var n=this._values[t],e=this._values[r];!n&&e?(n=this._heap.insert(t,e.value),this._heap.remove(e),this._values[t]=n,this._values[r]=void 0):n&&!e?(e=this._heap.insert(r,n.value),this._heap.remove(n),this._values[r]=e,this._values[t]=void 0):n&&e&&(t=n.value,n.value=e.value,e.value=t)},n},{isClass:!0}),$e=At("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],t=>{var{typed:r,matrix:n,addScalar:e,equalScalar:i,DenseMatrix:t}=t,o=xe({typed:r}),a=_e({typed:r,equalScalar:i}),s=be({typed:r,DenseMatrix:t}),u=Me({typed:r}),f=we({typed:r});return r("add",Y({"DenseMatrix, DenseMatrix":function(t,r){return u(t,r,e)},"DenseMatrix, SparseMatrix":function(t,r){return o(t,r,e,!1)},"SparseMatrix, DenseMatrix":function(t,r){return o(r,t,e,!0)},"SparseMatrix, SparseMatrix":function(t,r){return a(t,r,e)},"Array, Array":function(t,r){return this(n(t),n(r)).valueOf()},"Array, Matrix":function(t,r){return this(n(t),r)},"Matrix, Array":function(t,r){return this(t,n(r))},"DenseMatrix, any":function(t,r){return f(t,r,e,!1)},"SparseMatrix, any":function(t,r){return s(t,r,e,!1)},"any, DenseMatrix":function(t,r){return f(r,t,e,!0)},"any, SparseMatrix":function(t,r){return s(r,t,e,!0)},"Array, any":function(t,r){return f(n(t),r,e,!1).valueOf()},"any, Array":function(t,r){return f(n(r),t,e,!0).valueOf()},"any, any":e,"any, any, ...any":function(t,r,n){for(var e=this(t,r),i=0;i<n.length;i++)e=this(e,n[i]);return e}},e.signatures))}),On=At("dot",["typed","addScalar","multiplyScalar","conj","size"],t=>{var{typed:g,addScalar:y,multiplyScalar:w,conj:x,size:r}=t;return g("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,r){var n=_(t,r),e=A(t)?t._data:t,i=A(t)?t._datatype:void 0,o=A(r)?r._data:r,a=A(r)?r._datatype:void 0,t=2===b(t).length,r=2===b(r).length,s=y,u=w;i&&a&&i===a&&"string"==typeof i&&(i=i,s=g.find(y,[i,i]),u=g.find(w,[i,i]));if(!t&&!r){for(var f=u(x(e[0]),o[0]),c=1;c<n;c++)f=s(f,u(x(e[c]),o[c]));return f}if(!t&&r){for(var h=u(x(e[0]),o[0][0]),p=1;p<n;p++)h=s(h,u(x(e[p]),o[p][0]));return h}if(t&&!r){for(var l=u(x(e[0][0]),o[0]),d=1;d<n;d++)l=s(l,u(x(e[d][0]),o[d]));return l}if(t&&r){for(var m=u(x(e[0][0]),o[0][0]),v=1;v<n;v++)m=s(m,u(x(e[v][0]),o[v][0]));return m}},"SparseMatrix, SparseMatrix":function(t,r){_(t,r);var n=t._index,e=t._values,i=r._index,o=r._values,a=0,s=y,u=w,f=0,c=0;for(;f<n.length&&c<i.length;){var h=n[f],p=i[c];h<p?f++:p<h?c++:h===p&&(a=s(a,u(e[f],o[c])),f++,c++)}return a}});function _(t,r){var n,e,t=b(t),r=b(r);if(1===t.length)n=t[0];else{if(2!==t.length||1!==t[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+t.join(", ")+")");n=t[0]}if(1===r.length)e=r[0];else{if(2!==r.length||1!==r[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+r.join(", ")+")");e=r[0]}if(n!==e)throw new RangeError("Vectors must have equal length ("+n+" != "+e+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function b(t){return A(t)?t.size():r(t)}}),Ye=At("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],t=>{var{typed:t,matrix:r,abs:S,addScalar:_,divideScalar:A,multiplyScalar:z,subtract:b,larger:O,equalScalar:C,unaryMinus:D,DenseMatrix:M,SparseMatrix:F,Spa:I}=t;return t("lup",{DenseMatrix:n,SparseMatrix:function(t){var f,c,h,p=t._size[0],r=t._size[1],n=Math.min(p,r),l=t._values,d=t._index,m=t._ptr,v=[],g=[],y=[],w=[p,n],x=[],_=[],b=[],M=[n,r],N=[],E=[];for(f=0;f<p;f++)N[f]=f,E[f]=f;function e(){var i=new I;c<p&&(y.push(v.length),v.push(1),g.push(c)),b.push(x.length);var t=m[c],r=m[c+1];for(h=t;h<r;h++)f=d[h],i.set(N[f],l[h]);0<c&&i.forEach(0,c-1,function(n,e){F._forEachRow(n,v,g,y,function(t,r){n<t&&i.accumulate(t,D(z(r,e)))})});var n,e,o,a=c,s=i.get(c),u=S(s);i.forEach(c+1,p-1,function(t,r){var n=S(r);O(n,u)&&(a=t,u=n,s=r)}),c!==a&&(F._swapRows(c,a,w[1],v,g,y),F._swapRows(c,a,M[1],x,_,b),i.swap(c,a),e=a,o=E[n=c],t=E[e],N[o]=e,N[t]=n,E[n]=t,E[e]=o),i.forEach(0,p-1,function(t,r){t<=c?(x.push(r),_.push(t)):(r=A(r,s),C(r,0)||(v.push(r),g.push(t)))})}for(c=0;c<r;c++)e();return b.push(x.length),y.push(v.length),{L:new F({values:v,index:g,ptr:y,size:w}),U:new F({values:x,index:_,ptr:b,size:M}),p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},Array:function(t){t=n(r(t));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function n(t){var r,n=t._size[0],e=t._size[1],i=Math.min(n,e),o=$(t._data),a=[],s=[n,i],u=[],t=[i,e],f=[];for(v=0;v<n;v++)f[v]=v;for(r=0;r<e;r++){if(0<r)for(v=0;v<n;v++){for(var c=Math.min(v,r),h=0,p=0;p<c;p++)h=_(h,z(o[v][p],o[p][r]));o[v][r]=b(o[v][r],h)}for(var l=r,d=0,m=0,v=r;v<n;v++){var g=o[v][r],y=S(g);O(y,d)&&(l=v,d=y,m=g)}if(r!==l&&(f[r]=[f[l],f[l]=f[r]][0],M._swapRows(r,l,o)),r<n)for(v=r+1;v<n;v++){var w=o[v][r];C(w,0)||(o[v][r]=A(o[v][r],m))}}for(r=0;r<e;r++)for(v=0;v<n;v++)0===r&&(v<e&&(u[v]=[]),a[v]=[]),v<r?(v<e&&(u[v][r]=o[v][r]),r<n&&(a[v][r]=0)):v!==r?(v<e&&(u[v][r]=0),r<n&&(a[v][r]=o[v][r])):(v<e&&(u[v][r]=o[v][r]),r<n&&(a[v][r]=1));var s=new M({data:a,size:s}),t=new M({data:u,size:t}),x=[];for(v=0,i=f.length;v<i;v++)x[f[v]]=v;return{L:s,U:t,p:x,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),Un=At("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],t=>{var{typed:t,matrix:e,subtract:c,multiply:h,unaryMinus:p,lup:l}=t;return t("det",{any:$,"Array | Matrix":function(t){var r=A(t)?t.size():Array.isArray(t)?(t=e(t)).size():[];switch(r.length){case 0:return $(t);case 1:if(1===r[0])return $(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+mt(r)+")");case 2:var n=r[0];if(n===r[1])return function(t,r){{if(1===r)return $(t[0][0]);if(2===r)return c(h(t[0][0],t[1][1]),h(t[1][0],t[0][1]));for(var n=l(t),e=n.U[0][0],i=1;i<r;i++)e=h(e,n.U[i][i]);for(var o=0,a=0,s=[];;){for(;s[a];)a++;if(r<=a)break;for(var u=a,f=0;!s[n.p[u]];)s[n.p[u]]=!0,u=n.p[u],f++;f%2==0&&o++}return o%2==0?e:p(e)}}(t.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+mt(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+mt(r)+")")}}})}),te=At("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],t=>{var{typed:t,matrix:i,divideScalar:g,addScalar:y,multiply:w,unaryMinus:x,det:_,identity:b,abs:M}=t;return t("inv",{"Array | Matrix":function(t){var r=A(t)?t.size():yt(t);switch(r.length){case 1:if(1===r[0])return A(t)?i([g(1,t.valueOf()[0])]):[g(1,t[0])];throw new RangeError("Matrix must be square (size: "+mt(r)+")");case 2:var n=r[0],e=r[1];if(n===e)return A(t)?i(o(t.valueOf(),n,e),t.storage()):o(t,n,e);throw new RangeError("Matrix must be square (size: "+mt(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+mt(r)+")")}},any:function(t){return g(1,t)}});function o(t,r,n){var e,i,o;if(1===r){if(0===(a=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[g(1,a)]]}if(2===r){var a=_(t);if(0===a)throw Error("Cannot calculate inverse, determinant is zero");return[[g(t[1][1],a),g(x(t[0][1]),a)],[g(x(t[1][0]),a),g(t[0][0],a)]]}var s=t.concat();for(p=0;p<r;p++)s[p]=s[p].concat();for(var u=b(r).valueOf(),f=0;f<n;f++){for(var c=M(s[f][f]),h=f,p=f+1;p<r;)M(s[p][f])>c&&(c=M(s[p][f]),h=p),p++;if(0===c)throw Error("Cannot calculate inverse, determinant is zero");(p=h)!==f&&(o=s[f],s[f]=s[p],s[p]=o,o=u[f],u[f]=u[p],u[p]=o);var l=s[f],d=u[f];for(p=0;p<r;p++){var m=s[p],v=u[p];if(p!==f){if(0!==m[f]){for(i=g(x(m[f]),l[f]),e=f;e<n;e++)m[e]=y(m[e],w(i,l[e]));for(e=0;e<n;e++)v[e]=y(v[e],w(i,d[e]))}}else{for(i=l[f],e=f;e<n;e++)m[e]=g(m[e],i);for(e=0;e<n;e++)v[e]=g(v[e],i)}}}return u}}),zn=zn({config:G}),Xn=Xn({}),Gn=Gn({}),Kn=Kn({Matrix:Gn}),Rn=kt({BigNumber:zn,Complex:Rn({}),DenseMatrix:Kn,Fraction:Xn}),me=me({typed:Rn}),ge=ge({typed:Rn}),We=ce({BigNumber:zn,typed:Rn}),se=se({config:G,typed:Rn}),Xe=Re({typed:Rn}),Ae=Ae({typed:Rn}),ue=ue({Matrix:Gn,equalScalar:se,typed:Rn}),de=de({typed:Rn}),Gn=pe({DenseMatrix:Kn,Matrix:Gn,SparseMatrix:ue,typed:Rn}),Ge=De({DenseMatrix:Kn,addScalar:ge,equalScalar:se,matrix:Gn,typed:Rn,unaryMinus:de}),fe=Ze({numeric:Ue({bignumber:We,fraction:he({Fraction:Xn,typed:Rn}),number:fe({typed:Rn})}),typed:Rn}),Ke=$e({DenseMatrix:Kn,SparseMatrix:ue,addScalar:ge,equalScalar:se,matrix:Gn,typed:Rn}),Je=Je({DenseMatrix:Kn,config:G,matrix:Gn,typed:Rn}),Qe=Oe({addScalar:ge,dot:On({addScalar:ge,conj:Be({typed:Rn}),multiplyScalar:Ae,size:qe({matrix:Gn,config:G,typed:Rn}),typed:Rn}),equalScalar:se,matrix:Gn,multiplyScalar:Ae,typed:Rn}),ti=At("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],t=>{var{typed:r,matrix:n,multiply:e,equalScalar:t,divideScalar:i,inv:o}=t,a=ye({typed:r,equalScalar:t}),s=we({typed:r});return r("divide",Y({"Array | Matrix, Array | Matrix":function(t,r){return e(t,o(r))},"DenseMatrix, any":function(t,r){return s(t,r,i,!1)},"SparseMatrix, any":function(t,r){return a(t,r,i,!1)},"Array, any":function(t,r){return s(n(t),r,i,!1).valueOf()},"any, Array | Matrix":function(t,r){return e(t,o(r))}},i.signatures))})({divideScalar:fe,equalScalar:se,inv:te({abs:me,addScalar:ge,det:Un({lup:Ye({DenseMatrix:Kn,Spa:K({FibonacciHeap:n({larger:Je,smaller:Ve({DenseMatrix:Kn,config:G,matrix:Gn,typed:Rn})}),addScalar:ge,equalScalar:se}),SparseMatrix:ue,abs:me,addScalar:ge,divideScalar:fe,equalScalar:se,larger:Je,matrix:Gn,multiplyScalar:Ae,subtract:Ge,typed:Rn,unaryMinus:de}),matrix:Gn,multiply:Qe,subtract:Ge,typed:Rn,unaryMinus:de}),divideScalar:fe,identity:je({BigNumber:zn,DenseMatrix:Kn,SparseMatrix:ue,config:G,matrix:Gn,typed:Rn}),matrix:Gn,multiply:Qe,typed:Rn,unaryMinus:de}),matrix:Gn,multiply:Qe,typed:Rn});Rn={animation:function(t){var n=t.from,e=t.to,r=t.duration,i=void 0===r?1e3:r,o=t.onUpdate,a=n,s=Date.now(),u=(e-n)/i;!function t(){var r=Date.now()-s;i<=r?a=e:(a=n+u*r,o&&o(a),requestAnimationFrame(t))}()},currying:o,debounce:function(t){for(var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length,e=new Array(2<n?n-2:0),i=2;i<n;i++)e[i-2]=arguments[i];var o=null;return function(){o&&clearTimeout(o),o=setTimeout(function(){t.apply(void 0,e)},r)}},generateDeviceId:generateDeviceId,lunhCheck:lunhCheck,loadScript:loadScript,mathSubtract:mathSubtract,mathAdd:mathAdd,mathMultiply:mathMultiply,mathDivide:mathDivide,mathToFixed:mathToFixed,maskStr:maskStr,isLoadedScript:isLoadedScript,fileHash:function(a){return new Promise(function(r,n){var e=new s.ArrayBuffer,t=new FileReader,i=0;function o(){t.readAsArrayBuffer(a[i])}t.onload=function(t){e.append(t.target.result),++i<a.length?o():r(e.end())},t.onerror=function(t){n(t.target.error)},o()})},createChunks:function(t,r){for(var n=[],e=0;e<t.length;e+=r)n.push(t.slice(e,e+r));return n}};t.default=Rn,t.generateDeviceId=function(){var t=window.navigator,r=window.screen,n=t.mimeTypes.length;return Object.values(navigator.mimeTypes).forEach(function(t){return n+=t.type}),n+=t.userAgent.replace(/\D+/g,""),n+=t.plugins.length,Object.values(navigator.plugins).forEach(function(t){return n+=t.filename}),n+=r.height||"",n+=r.width||"",function(t){var r,n=0,e=t.length;if(0===e)return n;for(r=0;r<e;r++)n=(n<<5)-n+t.charCodeAt(r),n&=n;return Math.abs(n)}(n+=r.pixelDepth||"")},t.isLoadedScript=a,t.loadScript=function(t){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n="function"==typeof(n=2<arguments.length?arguments[2]:void 0)?n:function(){};if(a(t))return n(),!0;var e=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=t,i.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||n()},i.onload=n,i.async=r,e.appendChild(i)},t.lunhCheck=function(t){function n(t){return t<10?t:n(Math.trunc(t/10)+t%10)}return t.split("").reverse().map(Number).map(function(t,r){return r%2!=0?n(2*t):t}).reduce(function(t,r){return t+r})%10==0},t.maskStr=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:4,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"*";if(t&&t.length>r+n){var i=t.substring(0,r),o=t.substring(t.length-n);return i+e.repeat(t.length-r-n)+o}return t},t.mathAdd=function(t,r){return+Xe(Ke(We(t),We(r)))},t.mathDivide=function(t,r){return+Xe(ti(We(t),We(r)))},t.mathMultiply=function(t,r){return+Xe(Qe(We(t),We(r)))},t.mathSubtract=function(t,r){return+Xe(Ge(We(t),We(r)))},t.mathToFixed=function(t,r){return Xe(t,{notation:"fixed",precision:r})},Object.defineProperty(t,"__esModule",{value:!0})});
