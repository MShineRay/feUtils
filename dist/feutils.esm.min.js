function animation(e){var r=e.from,n=e.to,t=e.duration,i=void 0===t?1e3:t,a=e.onUpdate,o=r,s=Date.now(),u=(n-r)/i;!function e(){var t=Date.now()-s;i<=t?o=n:(o=r+u*t,a&&a(o)(e))}()}function currying(n){for(var e=arguments.length,i=new Array(1<e?e-1:0),t=1;t<e;t++)i[t-1]=arguments[t];return i.length>=n.length?n.apply(void 0,i):function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return currying.apply(void 0,[n].concat(i,t))}}function copyText(e){var t;navigator.clipboard?navigator.clipboard.writeText(e).then(function(){console.log("Async: Copying to clipboard was successful!")},function(e){console.error("Async: Could not copy text: ",e)}):((t=document.createElement("textarea")).value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t))}function debounce(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length,n=new Array(2<r?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=null;return function(){a&&clearTimeout(a),a=setTimeout(function(){e.apply(void 0,n)},t)}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sparkMd5={exports:{}};sparkMd5.exports=function(f){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function c(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r+=(n&i|~n&a)+t[0]-680876936|0;r=(r<<7|r>>>25)+n|0;a+=(r&n|~r&i)+t[1]-389564586|0;a=(a<<12|a>>>20)+r|0;i+=(a&r|~a&n)+t[2]+606105819|0;i=(i<<17|i>>>15)+a|0;n+=(i&a|~i&r)+t[3]-1044525330|0;n=(n<<22|n>>>10)+i|0;r+=(n&i|~n&a)+t[4]-176418897|0;r=(r<<7|r>>>25)+n|0;a+=(r&n|~r&i)+t[5]+1200080426|0;a=(a<<12|a>>>20)+r|0;i+=(a&r|~a&n)+t[6]-1473231341|0;i=(i<<17|i>>>15)+a|0;n+=(i&a|~i&r)+t[7]-45705983|0;n=(n<<22|n>>>10)+i|0;r+=(n&i|~n&a)+t[8]+1770035416|0;r=(r<<7|r>>>25)+n|0;a+=(r&n|~r&i)+t[9]-1958414417|0;a=(a<<12|a>>>20)+r|0;i+=(a&r|~a&n)+t[10]-42063|0;i=(i<<17|i>>>15)+a|0;n+=(i&a|~i&r)+t[11]-1990404162|0;n=(n<<22|n>>>10)+i|0;r+=(n&i|~n&a)+t[12]+1804603682|0;r=(r<<7|r>>>25)+n|0;a+=(r&n|~r&i)+t[13]-40341101|0;a=(a<<12|a>>>20)+r|0;i+=(a&r|~a&n)+t[14]-1502002290|0;i=(i<<17|i>>>15)+a|0;n+=(i&a|~i&r)+t[15]+1236535329|0;n=(n<<22|n>>>10)+i|0;r+=(n&a|i&~a)+t[1]-165796510|0;r=(r<<5|r>>>27)+n|0;a+=(r&i|n&~i)+t[6]-1069501632|0;a=(a<<9|a>>>23)+r|0;i+=(a&n|r&~n)+t[11]+643717713|0;i=(i<<14|i>>>18)+a|0;n+=(i&r|a&~r)+t[0]-373897302|0;n=(n<<20|n>>>12)+i|0;r+=(n&a|i&~a)+t[5]-701558691|0;r=(r<<5|r>>>27)+n|0;a+=(r&i|n&~i)+t[10]+38016083|0;a=(a<<9|a>>>23)+r|0;i+=(a&n|r&~n)+t[15]-660478335|0;i=(i<<14|i>>>18)+a|0;n+=(i&r|a&~r)+t[4]-405537848|0;n=(n<<20|n>>>12)+i|0;r+=(n&a|i&~a)+t[9]+568446438|0;r=(r<<5|r>>>27)+n|0;a+=(r&i|n&~i)+t[14]-1019803690|0;a=(a<<9|a>>>23)+r|0;i+=(a&n|r&~n)+t[3]-187363961|0;i=(i<<14|i>>>18)+a|0;n+=(i&r|a&~r)+t[8]+1163531501|0;n=(n<<20|n>>>12)+i|0;r+=(n&a|i&~a)+t[13]-1444681467|0;r=(r<<5|r>>>27)+n|0;a+=(r&i|n&~i)+t[2]-51403784|0;a=(a<<9|a>>>23)+r|0;i+=(a&n|r&~n)+t[7]+1735328473|0;i=(i<<14|i>>>18)+a|0;n+=(i&r|a&~r)+t[12]-1926607734|0;n=(n<<20|n>>>12)+i|0;r+=(n^i^a)+t[5]-378558|0;r=(r<<4|r>>>28)+n|0;a+=(r^n^i)+t[8]-2022574463|0;a=(a<<11|a>>>21)+r|0;i+=(a^r^n)+t[11]+1839030562|0;i=(i<<16|i>>>16)+a|0;n+=(i^a^r)+t[14]-35309556|0;n=(n<<23|n>>>9)+i|0;r+=(n^i^a)+t[1]-1530992060|0;r=(r<<4|r>>>28)+n|0;a+=(r^n^i)+t[4]+1272893353|0;a=(a<<11|a>>>21)+r|0;i+=(a^r^n)+t[7]-155497632|0;i=(i<<16|i>>>16)+a|0;n+=(i^a^r)+t[10]-1094730640|0;n=(n<<23|n>>>9)+i|0;r+=(n^i^a)+t[13]+681279174|0;r=(r<<4|r>>>28)+n|0;a+=(r^n^i)+t[0]-358537222|0;a=(a<<11|a>>>21)+r|0;i+=(a^r^n)+t[3]-722521979|0;i=(i<<16|i>>>16)+a|0;n+=(i^a^r)+t[6]+76029189|0;n=(n<<23|n>>>9)+i|0;r+=(n^i^a)+t[9]-640364487|0;r=(r<<4|r>>>28)+n|0;a+=(r^n^i)+t[12]-421815835|0;a=(a<<11|a>>>21)+r|0;i+=(a^r^n)+t[15]+530742520|0;i=(i<<16|i>>>16)+a|0;n+=(i^a^r)+t[2]-995338651|0;n=(n<<23|n>>>9)+i|0;r+=(i^(n|~a))+t[0]-198630844|0;r=(r<<6|r>>>26)+n|0;a+=(n^(r|~i))+t[7]+1126891415|0;a=(a<<10|a>>>22)+r|0;i+=(r^(a|~n))+t[14]-1416354905|0;i=(i<<15|i>>>17)+a|0;n+=(a^(i|~r))+t[5]-57434055|0;n=(n<<21|n>>>11)+i|0;r+=(i^(n|~a))+t[12]+1700485571|0;r=(r<<6|r>>>26)+n|0;a+=(n^(r|~i))+t[3]-1894986606|0;a=(a<<10|a>>>22)+r|0;i+=(r^(a|~n))+t[10]-1051523|0;i=(i<<15|i>>>17)+a|0;n+=(a^(i|~r))+t[1]-2054922799|0;n=(n<<21|n>>>11)+i|0;r+=(i^(n|~a))+t[8]+1873313359|0;r=(r<<6|r>>>26)+n|0;a+=(n^(r|~i))+t[15]-30611744|0;a=(a<<10|a>>>22)+r|0;i+=(r^(a|~n))+t[6]-1560198380|0;i=(i<<15|i>>>17)+a|0;n+=(a^(i|~r))+t[13]+1309151649|0;n=(n<<21|n>>>11)+i|0;r+=(i^(n|~a))+t[4]-145523070|0;r=(r<<6|r>>>26)+n|0;a+=(n^(r|~i))+t[11]-1120210379|0;a=(a<<10|a>>>22)+r|0;i+=(r^(a|~n))+t[2]+718787259|0;i=(i<<15|i>>>17)+a|0;n+=(a^(i|~r))+t[9]-343485551|0;n=(n<<21|n>>>11)+i|0;e[0]=r+e[0]|0;e[1]=n+e[1]|0;e[2]=i+e[2]|0;e[3]=a+e[3]|0}function l(e){var t=[],r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}function h(e){var t=[],r;for(r=0;r<64;r+=4)t[r>>2]=e[r]+(e[r+1]<<8)+(e[r+2]<<16)+(e[r+3]<<24);return t}function i(e){var t=e.length,r=[1732584193,-271733879,-1732584194,271733878],n,i,a,o,s,u;for(n=64;n<=t;n+=64)c(r,l(e.substring(n-64,n)));e=e.substring(n-64);i=e.length;a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<i;n+=1)a[n>>2]|=e.charCodeAt(n)<<(n%4<<3);a[n>>2]|=128<<(n%4<<3);if(n>55){c(r,a);for(n=0;n<16;n+=1)a[n]=0}o=t*8;o=o.toString(16).match(/(.*?)(.{0,8})$/);s=parseInt(o[2],16);u=parseInt(o[1],16)||0;a[14]=s;a[15]=u;c(r,a);return r}function a(e){var t=e.length,r=[1732584193,-271733879,-1732584194,271733878],n,i,a,o,s,u;for(n=64;n<=t;n+=64)c(r,h(e.subarray(n-64,n)));e=n-64<t?e.subarray(n-64):new Uint8Array(0);i=e.length;a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<i;n+=1)a[n>>2]|=e[n]<<(n%4<<3);a[n>>2]|=128<<(n%4<<3);if(n>55){c(r,a);for(n=0;n<16;n+=1)a[n]=0}o=t*8;o=o.toString(16).match(/(.*?)(.{0,8})$/);s=parseInt(o[2],16);u=parseInt(o[1],16)||0;a[14]=s;a[15]=u;c(r,a);return r}function r(e){var t="",r;for(r=0;r<4;r+=1)t+=n[e>>r*8+4&15]+n[e>>r*8&15];return t}function o(e){var t;for(t=0;t<e.length;t+=1)e[t]=r(e[t]);return e.join("")}if(o(i("hello"))!=="5d41402abc4b2a76b9719d911017c592");if(typeof ArrayBuffer!=="undefined"&&!ArrayBuffer.prototype.slice)(function(){function c(e,t){e=e|0||0;if(e<0)return Math.max(e+t,0);return Math.min(e,t)}ArrayBuffer.prototype.slice=function(e,t){var r=this.byteLength,n=c(e,r),i=r,a,o,s,u;if(t!==f)i=c(t,r);if(n>i)return new ArrayBuffer(0);a=i-n;o=new ArrayBuffer(a);s=new Uint8Array(o);u=new Uint8Array(this,n,a);s.set(u);return o}})();function s(e){if(/[\u0080-\uFFFF]/.test(e))e=unescape(encodeURIComponent(e));return e}function t(e,t){var r=e.length,n=new ArrayBuffer(r),i=new Uint8Array(n),a;for(a=0;a<r;a+=1)i[a]=e.charCodeAt(a);return t?i:n}function u(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function p(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);n.set(new Uint8Array(e));n.set(new Uint8Array(t),e.byteLength);return r?n:n.buffer}function d(e){var t=[],r=e.length,n;for(n=0;n<r-1;n+=2)t.push(parseInt(e.substr(n,2),16));return String.fromCharCode.apply(String,t)}function m(){this.reset()}return m.prototype.append=function(e){this.appendBinary(s(e));return this},m.prototype.appendBinary=function(e){this._buff+=e;this._length+=e.length;var t=this._buff.length,r;for(r=64;r<=t;r+=64)c(this._hash,l(this._buff.substring(r-64,r)));this._buff=this._buff.substring(r-64);return this},m.prototype.end=function(e){var t=this._buff,r=t.length,n,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a;for(n=0;n<r;n+=1)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);this._finish(i,r);a=o(this._hash);if(e)a=d(a);this.reset();return a},m.prototype.reset=function(){this._buff="";this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(e){this._buff=e.buff;this._length=e.length;this._hash=e.hash;return this},m.prototype.destroy=function(){delete this._hash;delete this._buff;delete this._length},m.prototype._finish=function(e,t){var r=t,n,i,a;e[r>>2]|=128<<(r%4<<3);if(r>55){c(this._hash,e);for(r=0;r<16;r+=1)e[r]=0}n=this._length*8;n=n.toString(16).match(/(.*?)(.{0,8})$/);i=parseInt(n[2],16);a=parseInt(n[1],16)||0;e[14]=i;e[15]=a;c(this._hash,e)},m.hash=function(e,t){return m.hashBinary(s(e),t)},m.hashBinary=function(e,t){var r=i(e),n=o(r);return t?d(n):n},(m.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t=p(this._buff.buffer,e,true),r=t.length,n;this._length+=e.byteLength;for(n=64;n<=r;n+=64)c(this._hash,h(t.subarray(n-64,n)));this._buff=n-64<r?new Uint8Array(t.buffer.slice(n-64)):new Uint8Array(0);return this},m.ArrayBuffer.prototype.end=function(e){var t=this._buff,r=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i,a;for(i=0;i<r;i+=1)n[i>>2]|=t[i]<<(i%4<<3);this._finish(n,r);a=o(this._hash);if(e)a=d(a);this.reset();return a},m.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._hash=[1732584193,-271733879,-1732584194,271733878];return this},m.ArrayBuffer.prototype.getState=function(){var e=m.prototype.getState.call(this);e.buff=u(e.buff);return e},m.ArrayBuffer.prototype.setState=function(e){e.buff=t(e.buff,true);return m.prototype.setState.call(this,e)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(e,t){var r=a(new Uint8Array(e)),n=o(r);return t?d(n):n},m}();var SparkMD5=sparkMd5.exports;function createChunks(e,t){for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function fileHash(o){return new Promise(function(t,r){var n=new SparkMD5.ArrayBuffer,e=new FileReader,i=0;function a(){e.readAsArrayBuffer(o[i])}e.onload=function(e){n.append(e.target.result),++i<o.length?a():t(n.end())},e.onerror=function(e){r(e.target.error)},a()})}function filterInt(e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):NaN}function parallelTask(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return new Promise(function(r,n){if(0!==o.length)for(var i=0,a=0,e=0;e<t&&e<o.length;e++)!function e(){var t=o[i];i++,t().then(function(){++a===o.length?r():i<o.length&&e()}).catch(function(e){n(e)})}();else r()})}function performChunk(n,i,e){0!==(n="number"==typeof n?new Array(n):n).length&&(!e&&globalThis.requestIdleCallback&&(chunksplitter=function(t){requestIdleCallback(function(e){t(function(){return 0<e.timeRemaining()})})}),function r(){0!==n.length&&e(function(e){for(var t=Date.now();e(Date.now()-t)&&0<n.length;)i();r()})}())}function checksum(e){var t,r=0,n=e.length;if(0===n)return r;for(t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r&=r;return Math.abs(r)}function generateDeviceId$1(){var e=window.navigator,t=window.screen,r=e.mimeTypes.length;return Object.values(navigator.mimeTypes).forEach(function(e){return r+=e.type}),r+=e.userAgent.replace(/\D+/g,""),r+=e.plugins.length,Object.values(navigator.plugins).forEach(function(e){return r+=e.filename}),r+=t.height||"",r+=t.width||"",checksum(r+=t.pixelDepth||"")}function lunhCheck$1(e){function r(e){return e<10?e:r(Math.trunc(e/10)+e%10)}return e.split("").reverse().map(Number).map(function(e,t){return t%2!=0?r(2*e):e}).reduce(function(e,t){return e+t})%10==0}function loadScript$1(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r="function"==typeof(r=2<arguments.length?arguments[2]:void 0)?r:function(){};if(isLoadedScript$1(e))return r(),!0;var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||r()},i.onload=r,i.async=t,n.appendChild(i)}function isLoadedScript$1(e){for(var t=document.getElementsByTagName("script"),r=0,n=t.length;r<n;r++)if(-1!==t[r].src.indexOf(e))return!0;return!1}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function isNumber(e){return"number"==typeof e}function isBigNumber(e){return!(!e||"object"!=typeof e||"function"!=typeof e.constructor)&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function isComplex(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function isFraction(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function isUnit(e){return e&&!0===e.constructor.prototype.isUnit||!1}function isString(e){return"string"==typeof e}var isArray=Array.isArray;function isMatrix(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function isCollection(e){return Array.isArray(e)||isMatrix(e)}function isDenseMatrix(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isSparseMatrix(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isRange(e){return e&&!0===e.constructor.prototype.isRange||!1}function isIndex(e){return e&&!0===e.constructor.prototype.isIndex||!1}function isBoolean(e){return"boolean"==typeof e}function isResultSet(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function isHelp(e){return e&&!0===e.constructor.prototype.isHelp||!1}function isFunction(e){return"function"==typeof e}function isDate(e){return e instanceof Date}function isRegExp(e){return e instanceof RegExp}function isObject(e){return!(!e||"object"!=typeof e||e.constructor!==Object||isComplex(e)||isFraction(e))}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isAccessorNode(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function isArrayNode(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function isAssignmentNode(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isBlockNode(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function isConditionalNode(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function isConstantNode(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionAssignmentNode(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionNode(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function isIndexNode(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function isNode(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function isObjectNode(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function isOperatorNode(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function isParenthesisNode(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function isRangeNode(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function isSymbolNode(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function isChain(e){return e&&!0===e.constructor.prototype.isChain||!1}function typeOf(e){var t=typeof e;return"object"==t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":isBigNumber(e)?"BigNumber":isComplex(e)?"Complex":isFraction(e)?"Fraction":isMatrix(e)?"Matrix":isUnit(e)?"Unit":isIndex(e)?"Index":isRange(e)?"Range":isResultSet(e)?"ResultSet":isNode(e)?e.type:isChain(e)?"Chain":isHelp(e)?"Help":"Object":"function"==t?"Function":t}function clone$1(e){var t=typeof e;if("number"==t||"string"==t||"boolean"==t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return clone$1(e)});if(e instanceof Date)return new Date(e.valueOf());if(isBigNumber(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return mapObject(e,clone$1)}function mapObject(e,t){var r,n={};for(r in e)hasOwnProperty(e,r)&&(n[r]=t(e[r]));return n}function extend(e,t){for(var r in t)hasOwnProperty(t,r)&&(e[r]=t[r]);return e}function deepStrictEqual(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!deepStrictEqual(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t&&deepStrictEqual(e[r],t[r])))return!1;for(r in t)if(!(r in e))return!1;return!0}return e===t}function hasOwnProperty(e,t){return e&&Object.hasOwnProperty.call(e,t)}function pickShallow(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];void 0!==a&&(r[i]=a)}return r}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"],config$1=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(DEFAULT_CONFIG)};_extends(config$1,DEFAULT_CONFIG,{MATRIX_OPTIONS:MATRIX_OPTIONS,NUMBER_OPTIONS:NUMBER_OPTIONS});var typedFunction$1={exports:{}};!function(){function C(){return!0}function te(){return!1}function re(){}typedFunction$1.exports=function e(){var t=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}];var r={name:"any",test:C};var n=[];var i=[];var q={types:t,conversions:i,ignore:n};function s(t){var e=Q(q.types,function(e){return e.name===t});if(e)return e;if("any"===t)return r;e=Q(q.types,function(e){return e.name.toLowerCase()===t.toLowerCase()});throw new TypeError('Unknown type "'+t+'"'+(e?'. Did you mean "'+e.name+'"?':""))}function a(e){return e===r?999:q.types.indexOf(e)}function f(t){var e=Q(q.types,function(e){return e.test(t)});if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function o(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var t=r.join(","),t=e.signatures[t];if(t)return t;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")}function u(e,t){var r=f(e);if(t===r)return e;for(var n=0;n<q.conversions.length;n++){var i=q.conversions[n];if(i.from===r&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)}function j(e){return e.map(function(e){var t=e.types.map(d);return(e.restParam?"...":"")+t.join("|")}).join(",")}function c(e,r){var t=0===e.indexOf("..."),n=(t?3<e.length?e.slice(3):"any":e).split("|").map(N).filter(S).filter(M),e=x(r,n),n=n.map(function(e){var t=s(e);return{name:e,typeIndex:a(t),test:t.test,conversion:null,conversionIndex:-1}}),e=e.map(function(e){var t=s(e.from);return{name:e.from,typeIndex:a(t),test:t.test,conversion:e,conversionIndex:r.indexOf(e)}});return{types:n.concat(e),restParam:t}}function R(e,t,i){var r=[];return(r=""!==e.trim()?e.split(",").map(N).map(function(e,t,r){var n=c(e,i);if(n.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return n}):r).some(E)?null:{params:r,fn:t}}function U(e){e=$(e);return!!e&&e.restParam}function l(e){return e.types.some(function(e){return null!=e.conversion})}function G(e){if(e&&0!==e.types.length){if(1===e.types.length)return s(e.types[0].name).test;if(2===e.types.length){var t=s(e.types[0].name).test,r=s(e.types[1].name).test;return function(e){return t(e)||r(e)}}var n=e.types.map(function(e){return s(e.name).test});return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}return C}function Z(e){var r,t,n;if(U(e)){var i=(r=A(e).map(G)).length,a=G($(e)),o=function(e){for(var t=i;t<e.length;t++)if(!a(e[t]))return!1;return!0};return function(e){for(var t=0;t<r.length;t++)if(!r[t](e[t]))return!1;return o(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(t=G(e[0]),function(e){return t(e[0])&&1===e.length}):2===e.length?(t=G(e[0]),n=G(e[1]),function(e){return t(e[0])&&n(e[1])&&2===e.length}):(r=e.map(G),function(e){for(var t=0;t<r.length;t++)if(!r[t](e[t]))return!1;return e.length===r.length})}function h(e,t){return t<e.params.length?e.params[t]:U(e.params)?$(e.params):null}function p(e,t,r){t=h(e,t);return(t?r?t.types.filter(m):t.types:[]).map(d)}function d(e){return e.name}function m(e){return null===e.conversion||void 0===e.conversion}function g(e,t){e=P(ee(e,function(e){return p(e,t,!1)}));return-1!==e.indexOf("any")?["any"]:e}function H(e,r,t){var n,i,a,o=e||"unnamed",s=t;for(a=0;a<r.length;a++){var u=s.filter(function(e){var t=G(h(e,a));return(a<e.params.length||U(e.params))&&t(r[a])});if(0===u.length){if(0<(i=g(s,a)).length){var c=f(r[a]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+c+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:c,expected:i},n}}else s=u}var t=s.map(function(e){return U(e.params)?1/0:e.params.length});if(r.length<Math.min.apply(null,t))return i=g(s,a),(n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+r.length+")")).data={category:"tooFewArgs",fn:o,index:r.length,expected:i},n;t=Math.max.apply(null,t);return r.length>t?(n=new TypeError("Too many arguments in function "+o+" (expected: "+t+", actual: "+r.length+")")).data={category:"tooManyArgs",fn:o,index:r.length,expectedLength:t}:(n=new TypeError('Arguments of type "'+r.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:r.map(f)},n}function y(e){for(var t=999,r=0;r<e.types.length;r++)m(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function v(e){for(var t=999,r=0;r<e.types.length;r++)m(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function w(e,t){var r;return 0!==(r=e.restParam-t.restParam)||0!==(r=l(e)-l(t))||0!==(r=y(e)-y(t))?r:v(e)-v(t)}function X(e,t){var r,n,i=Math.min(e.params.length,t.params.length);if(0!==(n=e.params.some(l)-t.params.some(l)))return n;for(r=0;r<i;r++)if(0!==(n=l(e.params[r])-l(t.params[r])))return n;for(r=0;r<i;r++)if(0!==(n=w(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function x(e,t){var r={};return e.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e)}),Object.keys(r).map(function(e){return r[e]})}function V(e,n){var i,a,t=n;e.some(l)&&(i=U(e),a=e.map(b),t=function(){for(var e=[],t=i?arguments.length-1:arguments.length,r=0;r<t;r++)e[r]=a[r](arguments[r]);return i&&(e[t]=arguments[t].map(a[t])),n.apply(this,e)});var r,o=t;return U(e)&&(r=e.length-1,o=function(){return t.apply(this,O(arguments,0,r).concat([O(arguments,r)]))}),o}function b(e){var t,r,n,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(s(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],n=o[0],function(e){return t(e)?n(e):e};case 2:return t=a[0],r=a[1],n=o[0],i=o[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(var t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function J(e){var r={};return e.forEach(function(t){t.params.some(l)||W(t.params,!0).forEach(function(e){r[j(e)]=t.fn})}),r}function W(e,a){function o(r,t,n){if(t<r.length){var e=r[t],i=a?e.types.filter(m):e.types;return i=e.restParam?(e=i.filter(m)).length<i.length?[e,i]:[i]:i.map(function(e){return[e]}),ee(i,function(e){return o(r,t+1,n.concat([e]))})}i=n.map(function(e,t){return{types:e,restParam:t===r.length-1&&U(r)}});return[i]}return o(e,0,[])}function Y(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++){var i=p(e,n,!0),a=p(t,n,!0);if(!I(i,a))return!1}var o=e.params.length,s=t.params.length,u=U(e.params),c=U(t.params);return u?c?o===s:o<=s:c?s<=o:o===s}function _(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var n=[];Object.keys(r).map(function(e){return R(e,r[e],q.conversions)}).filter(K).forEach(function(t){var e=Q(n,function(e){return Y(e,t)});if(e)throw new TypeError('Conflicting signatures "'+j(e.params)+'" and "'+j(t.params)+'".');n.push(t)});var i=ee(n,function(t){return(t?W(t.params,!1):[]).map(function(e){return{params:e,fn:t.fn}})}).filter(K);i.sort(X);var e=i[0]&&i[0].params.length<=2&&!U(i[0].params),a=i[1]&&i[1].params.length<=2&&!U(i[1].params),o=i[2]&&i[2].params.length<=2&&!U(i[2].params),s=i[3]&&i[3].params.length<=2&&!U(i[3].params),u=i[4]&&i[4].params.length<=2&&!U(i[4].params),c=i[5]&&i[5].params.length<=2&&!U(i[5].params),f=e&&a&&o&&s&&u&&c,l=i.map(function(e){return Z(e.params)}),h=e?G(i[0].params[0]):te,p=a?G(i[1].params[0]):te,d=o?G(i[2].params[0]):te,m=s?G(i[3].params[0]):te,g=u?G(i[4].params[0]):te,y=c?G(i[5].params[0]):te,v=e?G(i[0].params[1]):te,w=a?G(i[1].params[1]):te,x=o?G(i[2].params[1]):te,b=s?G(i[3].params[1]):te,_=u?G(i[4].params[1]):te,M=c?G(i[5].params[1]):te,N=i.map(function(e){return V(e.params,e.fn)}),S=e?N[0]:re,E=a?N[1]:re,A=o?N[2]:re,$=s?N[3]:re,O=u?N[4]:re,D=c?N[5]:re,I=e?i[0].params.length:-1,P=a?i[1].params.length:-1,z=o?i[2].params.length:-1,B=s?i[3].params.length:-1,C=u?i[4].params.length:-1,F=c?i[5].params.length:-1,T=f?6:0,k=i.length,L=function(){for(var e=T;e<k;e++)if(l[e](arguments))return N[e].apply(this,arguments);throw H(t,arguments,i)},f=function e(t,r){return(arguments.length===I&&h(t)&&v(r)?S:arguments.length===P&&p(t)&&w(r)?E:arguments.length===z&&d(t)&&x(r)?A:arguments.length===B&&m(t)&&b(r)?$:arguments.length===C&&g(t)&&_(r)?O:arguments.length===F&&y(t)&&M(r)?D:L).apply(e,arguments)};try{Object.defineProperty(f,"name",{value:t})}catch(e){}return f.signatures=J(i),f}function M(e){return-1===q.ignore.indexOf(e)}function N(e){return e.trim()}function S(e){return!!e}function K(e){return null!==e}function E(e){return 0===e.types.length}function A(e){return e.slice(0,e.length-1)}function $(e){return e[e.length-1]}function O(e,t,r){return Array.prototype.slice.call(e,t,r)}function D(e,t){return-1!==e.indexOf(t)}function I(e,t){for(var r=0;r<e.length;r++)if(D(t,e[r]))return!0;return!1}function Q(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function P(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}function ee(e,t){return Array.prototype.concat.apply([],e.map(t))}function z(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}function B(e){var r,n={};function t(e,t){if(n.hasOwnProperty(e)&&t!==n[e])throw(r=new Error('Signature "'+e+'" is defined twice')).data={signature:e},r}for(var i=0;i<e.length;i++){var a=e[i];if("object"==typeof a.signatures)for(var o in a.signatures)a.signatures.hasOwnProperty(o)&&(t(o,a.signatures[o]),n[o]=a.signatures[o]);else{if("string"!=typeof a.signature)throw(r=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},r;t(a.signature,a),n[a.signature]=a}}return n}q=_("typed",{"string, Object":_,Object:function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push(e[t]);var n=z(r);return _(n,e)},"...Function":function(e){return _(z(e),B(e))},"string, ...Function":function(e,t){return _(e,B(t))}});q.create=e;q.types=t;q.conversions=i;q.ignore=n;q.convert=u;q.find=o;q.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<q.types.length;r++)if("Object"===q.types[r].name)return void q.types.splice(r,0,e);q.types.push(e)};q.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");q.conversions.push(e)};return q}()}();var typedFunction=typedFunction$1.exports;function isInteger(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}function formatNumberToBase(e,t,r){var n={2:"0b",8:"0o",16:"0x"}[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!isInteger(r))throw new Error("size must be an integer");if(2**(r-1)-1<e||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!isInteger(e))throw new Error("Value must be an integer");e<0&&(e+=2**r),i="i".concat(r)}r="";return e<0&&(e=-e,r="-"),"".concat(r).concat(n).concat(e.toString(t)).concat(i)}function format$3(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r,n,i="auto";if(t&&(t.notation&&(i=t.notation),isNumber(t)?r=t:isNumber(t.precision)&&(r=t.precision),t.wordSize&&"number"!=typeof(n=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return toFixed$1(e,r);case"exponential":return toExponential$1(e,r);case"engineering":return toEngineering$1(e,r);case"bin":return formatNumberToBase(e,2,n);case"oct":return formatNumberToBase(e,8,n);case"hex":return formatNumberToBase(e,16,n);case"auto":return toPrecision(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function splitNumber(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],e=t[2],n=parseFloat(t[4]||"0"),t=e.indexOf(".");n+=-1!==t?t-1:e.length-1;e=e.replace(".","").replace(/^0*/,function(e){return n-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===e.length&&(e.push(0),n++),{sign:r,coefficients:e,exponent:n}}function toEngineering$1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=roundDigits(splitNumber(e),t),n=r.exponent,i=r.coefficients,a=n%3==0?n:n<0?n-3-n%3:n-n%3;if(isNumber(t))for(;t>i.length||n-a+1>i.length;)i.push(0);else for(var o=Math.abs(n-a)-(i.length-1),s=0;s<o;s++)i.push(0);for(var u=Math.abs(n-a),c=1;0<u;)c++,u--;e=i.slice(c).join(""),e=isNumber(t)&&e.length||e.match(/[1-9]/)?"."+e:"",e=i.slice(0,c).join("")+e+"e"+(0<=n?"+":"")+a.toString();return r.sign+e}function toFixed$1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=splitNumber(e),n="number"==typeof t?roundDigits(r,r.exponent+1+t):r,e=n.coefficients,r=n.exponent+1,t=r+(t||0);return e.length<t&&(e=e.concat(zeros(t-e.length))),r<0&&(e=zeros(1-r).concat(e),r=1),r<e.length&&e.splice(r,0,0===r?"0.":"."),n.sign+e.join("")}function toExponential$1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=splitNumber(e),n=t?roundDigits(r,t):r,e=n.coefficients,r=n.exponent,t=(e=e.length<t?e.concat(zeros(t-e.length)):e).shift();return n.sign+t+(0<e.length?"."+e.join(""):"")+"e"+(0<=r?"+":"")+r}function toPrecision(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,i=r&&void 0!==r.upperExp?r.upperExp:5,r=splitNumber(e),r=t?roundDigits(r,t):r;if(r.exponent<n||r.exponent>=i)return toExponential$1(e,t);i=r.coefficients,e=r.exponent;i=(i=i.length<t?i.concat(zeros(t-i.length)):i).concat(zeros(e-i.length+1+(i.length<t?t-i.length:0)));t=0<e?e:0;return t<(i=zeros(-e).concat(i)).length-1&&i.splice(t+1,0,"."),r.sign+i.join("")}function roundDigits(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&5<=n.splice(t,n.length-t)[0]){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r}function zeros(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function digits(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual$1(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<DBL_EPSILON||n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function formatBigNumberToBase(e,t,r){var n=new e.constructor(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!isInteger(r))throw new Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function format$2(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r,n,i="auto";if(void 0!==t&&(t.notation&&(i=t.notation),"number"==typeof t?r=t:t.precision&&(r=t.precision),t.wordSize&&"number"!=typeof(n=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return toFixed(e,r);case"exponential":return toExponential(e,r);case"engineering":return toEngineering(e,r);case"bin":return formatBigNumberToBase(e,2,n);case"oct":return formatBigNumberToBase(e,8,n);case"hex":return formatBigNumberToBase(e,16,n);case"auto":var a=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.toSignificantDigits(r),u=s.e;return(a<=u&&u<o?s.toFixed():toExponential(e,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,e=e.mul(Math.pow(10,-n)),t=e.toPrecision(t);return(t=-1!==t.indexOf("e")?e.toString():t)+"e"+(0<=r?"+":"")+n.toString()}function toExponential(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function toFixed(e,t){return e.toFixed(t)}function format$1(t,r){return"number"==typeof t?format$3(t,r):isBigNumber(t)?format$2(t,r):looksLikeFraction(t)?r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d:Array.isArray(t)?formatArray(t,r):isString(t)?'"'+t+'"':"function"==typeof t?t.syntax?String(t.syntax):"function":t&&"object"==typeof t?"function"==typeof t.format?t.format(r):t&&t.toString(r)!=={}.toString()?t.toString(r):"{"+Object.keys(t).map(e=>'"'+e+'": '+format$1(t[e],r)).join(", ")+"}":String(t)}function formatArray(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=formatArray(e[i],t);return r+="]"}return format$1(e,t)}function looksLikeFraction(e){return e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}function DimensionError(e,t,r){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function IndexError(e,t,r){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function arraySize(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function _validate(e,t,r){var n=e.length;if(n!==t[r])throw new DimensionError(n,t[r]);if(r<t.length-1)for(var i=r+1,a=0;a<n;a++){var o=e[a];if(!Array.isArray(o))throw new DimensionError(t.length-1,t.length,"<");_validate(e[a],t,i)}else for(a=0;a<n;a++)if(Array.isArray(e[a]))throw new DimensionError(t.length+1,t.length,">")}function validate(e,t){if(0===t.length){if(Array.isArray(e))throw new DimensionError(e.length,0)}else _validate(e,t,0)}function validateIndex(e,t){if(!isNumber(e)||!isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&t<=e)throw new IndexError(e,t)}function resize(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!isNumber(e)||!isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(t)+")")}),_resize(e,t,0,void 0!==r?r:0),e}function _resize(e,t,r,n){var i,a=e.length,o=t[r],s=Math.min(a,o);if(e.length=o,r<t.length-1){for(var u=r+1,c=0;c<s;c++)i=e[c],Array.isArray(i)||(e[c]=i=[i]),_resize(i,t,u,n);for(c=s;c<o;c++)_resize(e[c]=i=[],t,u,n)}else{for(c=0;c<s;c++)for(;Array.isArray(e[c]);)e[c]=e[c][0];for(c=s;c<o;c++)e[c]=n}}function reshape(t,e){var r=flatten(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new DimensionError(0,n,"!=");t=product(e=processSizesWildcard(e,n));if(n!==t)throw new DimensionError(t,n,"!=");try{return _reshape(r,e)}catch(e){if(e instanceof DimensionError)throw new DimensionError(t,n,"!=");throw e}}function processSizesWildcard(e,t){var r=product(e),n=e.slice(),i=e.indexOf(-1);if(0<=e.indexOf(-1,i+1))throw new Error("More than one wildcard in sizes");if(0<=i){if(!(t%r==0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);n[i]=-t/r}return n}function product(e){return e.reduce((e,t)=>e*t,1)}function _reshape(e,t){for(var r=e,n=t.length-1;0<n;n--){for(var i=t[n],a=[],o=r.length/i,s=0;s<o;s++)a.push(r.slice(s*i,(s+1)*i));r=a}return r}function unsqueeze(e,t,r,n){var i=n||arraySize(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=_unsqueeze(e,t,0);i.length<t;)i.push(1);return e}function _unsqueeze(e,t,r){if(Array.isArray(e))for(var n=r+1,i=0,a=e.length;i<a;i++)e[i]=_unsqueeze(e[i],t,n);else for(var o=r;o<t;o++)e=[e];return e}function flatten(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function e(t){Array.isArray(t)?t.forEach(e):r.push(t)}),r}function getArrayDataType(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(n=a.length),o&&a.length!==n)return;a=o?getArrayDataType(a,t):t(a);if(void 0===r)r=a;else if(r!==a)return"mixed"}return r}function factory(r,n,i,e){function t(e){var t=pickShallow(e,n.map(stripOptionalNotation));return assertDependencies(r,n,e),i(t)}return t.isFactory=!0,t.fn=r,t.dependencies=n.slice().sort(),e&&(t.meta=e),t}function assertDependencies(e,t,r){if(!t.filter(e=>!isOptionalDependency(e)).every(e=>void 0!==r[e])){t=t.filter(e=>void 0===r[e]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(t.map(e=>'"'.concat(e,'"')).join(", "),"."))}}function isOptionalDependency(e){return e&&"?"===e[0]}function stripOptionalNotation(e){return e&&"?"===e[0]?e.slice(1):e}function getSafeProperty(e,t){if(isPlainObject(e)&&isSafeProperty(e,t))return e[t];if("function"==typeof e[t]&&isSafeMethod(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function setSafeProperty(e,t,r){if(isPlainObject(e)&&isSafeProperty(e,t))return e[t]=r;throw new Error('No access to property "'+t+'"')}function hasSafeProperty(e,t){return t in e}function isSafeProperty(e,t){return!(!e||"object"!=typeof e)&&(!!hasOwnProperty(safeNativeProperties,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function isSafeMethod(e,t){return null!=e&&"function"==typeof e[t]&&(!(hasOwnProperty(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!hasOwnProperty(safeNativeMethods,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function isPlainObject(e){return"object"==typeof e&&e&&e.constructor===Object}DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError";var safeNativeProperties={length:IndexError.prototype.isIndexError=!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0};class ObjectWrappingMap{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return getSafeProperty(this.wrappedObject,e)}set(e,t){return setSafeProperty(this.wrappedObject,e,t),this}has(e){return hasSafeProperty(this.wrappedObject,e)}}function isMap(e){return!!e&&(e instanceof Map||e instanceof ObjectWrappingMap||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}var _createTyped2=function(){return _createTyped2=typedFunction.create,typedFunction},dependencies$H=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies$H,function(e){var{BigNumber:r,Complex:n,DenseMatrix:t,Fraction:i}=e,e=_createTyped2();return e.types=[{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(r||throwNoBignumber(e),15<digits(e))throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new r(e)}},{from:"number",to:"Complex",convert:function(e){return n||throwNoComplex(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||throwNoComplex(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||throwNoComplex(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||throwNoFraction(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){r||throwNoBignumber(t);try{return new r(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||throwNoFraction(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||throwNoComplex(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return r||throwNoBignumber(e),new r(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||throwNoFraction(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return t||throwNoMatrix(),new t(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],e});function throwNoBignumber(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var inexact,quadrant,EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};function digitsToString(e){var t,r,n,i=e.length-1,a="",o=e[0];if(0<i){for(a+=o,t=1;t<i;t++)n=e[t]+"",(r=LOG_BASE-n.length)&&(a+=getZeroString(r)),a+=n;o=e[t],(r=LOG_BASE-(n=o+"").length)&&(a+=getZeroString(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function checkInt32(e,t,r){if(e!==~~e||e<t||r<e)throw Error(invalidArgument+e)}function checkRoundingDigits(e,t,r,n){for(var i,a,o=e[0];10<=o;o/=10)--t;return--t<0?(t+=LOG_BASE,i=0):(i=Math.ceil((t+1)/LOG_BASE),t%=LOG_BASE),o=mathpow(10,LOG_BASE-t),a=e[i]%o|0,null==n?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),r<4&&99999==a||3<r&&49999==a||5e4==a||0==a):(r<4&&a+1==o||3<r&&a+1==o/2)&&(e[i+1]/o/100|0)==mathpow(10,t-2)-1||(a==o/2||0==a)&&0==(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),(n||r<4)&&9999==a||!n&&3<r&&4999==a):((n||r<4)&&a+1==o||!n&&3<r&&a+1==o/2)&&(e[i+1]/o/1e3|0)==mathpow(10,t-3)-1}function convertBase(e,t,r){for(var n,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=NUMERALS.indexOf(e.charAt(o++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}function cosine(e,t){var r,n;if(t.isZero())return t;n=(n=t.d.length)<32?(1/tinyPow(4,r=Math.ceil(n/3))).toString():(r=16,"2.3283064365386962890625e-10"),e.precision+=r,t=taylorSeries(e,1,t.times(n),new e(1));for(var i=r;i--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=r,t}P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),finalise(e)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.clampedTo=P.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(invalidArgument+t);return this.cmp(e)<0?e:0<this.cmp(t)?t:new r(this)},P.comparedTo=P.cmp=function(e){var t,r,n=this,i=n.d,a=(e=new n.constructor(e)).d,o=n.s,s=e.s;if(!i||!a)return o&&s?o!==s?o:i===a?0:!i^o<0?1:-1:NaN;if(!i[0]||!a[0])return i[0]?o:a[0]?-s:0;if(o!==s)return o;if(n.e!==e.e)return n.e>e.e^o<0?1:-1;for(t=0,r=(n=i.length)<(e=a.length)?n:e;t<r;++t)if(i[t]!==a[t])return i[t]>a[t]^o<0?1:-1;return n===e?0:e<n^o<0?1:-1},P.cosine=P.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+LOG_BASE,n.rounding=1,r=cosine(n,toLessThanHalfPi(n,r)),n.precision=e,n.rounding=t,finalise(2==quadrant||3==quadrant?r.neg():r,e,t,!0)):new n(1):new n(NaN)},P.cubeRoot=P.cbrt=function(){var e,t,r,n,i,a,o,s,u,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(external=!1,(a=f.s*mathpow(f.s*f,1/3))&&Math.abs(a)!=1/0?n=new l(a.toString()):(r=digitsToString(f.d),(a=((e=f.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=mathpow(r,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),(n=new l(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=f.s),o=(e=l.precision)+3;;)if(c=(u=(s=n).times(s).times(s)).plus(f),n=divide$1(c.plus(f).times(s),c.plus(u),o+2,1),digitsToString(s.d).slice(0,o)===(r=digitsToString(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(finalise(n,e+1,1),t=!n.times(n).times(n).eq(f));break}if(!i&&(finalise(s,e+1,0),s.times(s).times(s).eq(f))){n=s;break}o+=4,i=1}return external=!0,finalise(n,e,l.rounding,t)},P.decimalPlaces=P.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-mathfloor(this.e/LOG_BASE))*LOG_BASE,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},P.dividedBy=P.div=function(e){return divide$1(this,new this.constructor(e))},P.dividedToIntegerBy=P.divToInt=function(e){var t=this.constructor;return finalise(divide$1(this,new t(e),0,1,1),t.precision,t.rounding)},P.equals=P.eq=function(e){return 0===this.cmp(e)},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(e){return 0<this.cmp(e)},P.greaterThanOrEqualTo=P.gte=function(e){e=this.cmp(e);return 1==e||0===e},P.hyperbolicCosine=P.cosh=function(){var e,t,r,n=(s=this).constructor,i=new n(1);if(!s.isFinite())return new n(s.s?1/0:NaN);if(s.isZero())return i;t=n.precision,r=n.rounding,n.precision=t+Math.max(s.e,s.sd())+4,n.rounding=1;for(var a,o=(o=s.d.length)<32?(1/tinyPow(4,e=Math.ceil(o/3))).toString():(e=16,"2.3283064365386962890625e-10"),s=taylorSeries(n,1,s.times(o),new n(1),!0),u=e,c=new n(8);u--;)a=s.times(s),s=i.minus(a.times(c.minus(a.times(c))));return finalise(s,n.precision=t,n.rounding=r,!0)},P.hyperbolicSine=P.sinh=function(){var e,t,r,n=(o=this).constructor;if(!o.isFinite()||o.isZero())return new n(o);if(e=n.precision,t=n.rounding,n.precision=e+Math.max(o.e,o.sd())+4,n.rounding=1,(r=o.d.length)<3)o=taylorSeries(n,2,o,o,!0);else for(var i,a=1.4*Math.sqrt(r),o=taylorSeries(n,2,o=o.times(1/tinyPow(5,a=16<a?16:0|a)),o,!0),s=new n(5),u=new n(16),c=new n(20);a--;)i=o.times(o),o=o.times(s.plus(i.times(u.times(i).plus(c))));return finalise(o,n.precision=e,n.rounding=t,!0)},P.hyperbolicTangent=P.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,divide$1(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},P.inverseCosine=P.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return-1!==r?0===r?e.isNeg()?getPi(t,n,i):new t(0):new t(NaN):e.isZero()?getPi(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),r=getPi(t,n+4,i).times(.5),t.precision=n,t.rounding=i,r.minus(e))},P.inverseHyperbolicCosine=P.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,external=!1,r=r.times(r).minus(1).sqrt().plus(r),external=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},P.inverseHyperbolicSine=P.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,external=!1,r=r.times(r).plus(1).sqrt().plus(r),external=!0,n.precision=e,n.rounding=t,r.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var e,t,r,n=this,i=n.constructor;return n.isFinite()?0<=n.e?new i(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=i.precision,t=i.rounding,r=n.sd(),Math.max(r,e)<2*-n.e-1?finalise(new i(n),e,t,!0):(i.precision=r=r-n.e,n=divide$1(n.plus(1),new i(1).minus(n),r+e,1),i.precision=e+4,i.rounding=1,n=n.ln(),i.precision=e,i.rounding=t,n.times(.5))):new i(NaN)},P.inverseSine=P.asin=function(){var e,t,r,n=this,i=n.constructor;return n.isZero()?new i(n):(e=n.abs().cmp(1),t=i.precision,r=i.rounding,-1!==e?0===e?((e=getPi(i,t+4,r).times(.5)).s=n.s,e):new i(NaN):(i.precision=t+6,i.rounding=1,n=n.div(new i(1).minus(n.times(n)).sqrt().plus(1)).atan(),i.precision=t,i.rounding=r,n.times(2)))},P.inverseTangent=P.atan=function(){var e,t,r,n,i,a,o,s,u,c=this,f=c.constructor,l=f.precision,h=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=PI_PRECISION)return(o=getPi(f,l+4,h).times(.25)).s=c.s,o}else{if(!c.s)return new f(NaN);if(l+4<=PI_PRECISION)return(o=getPi(f,l+4,h).times(.5)).s=c.s,o}for(f.precision=s=l+10,f.rounding=1,e=r=Math.min(28,s/LOG_BASE+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(external=!1,t=Math.ceil(s/LOG_BASE),n=1,u=c.times(c),o=new f(c),i=c;-1!==e;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),external=!0,finalise(o,f.precision=l,f.rounding=h,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return 0<this.s},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(e){return this.cmp(e)<0},P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1},P.logarithm=P.log=function(e){var t,r,n,i,a,o,s,u,c=this,f=c.constructor,l=f.precision,h=f.rounding;if(null==e)e=new f(10),t=!0;else{if(r=(e=new f(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new f(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t)if(1<r.length)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}if(external=!1,o=naturalLogarithm(c,s=l+5),n=t?getLn10(f,s+10):naturalLogarithm(e,s),checkRoundingDigits((u=divide$1(o,n,s,1)).d,i=l,h))do{if(o=naturalLogarithm(c,s+=10),n=t?getLn10(f,s+10):naturalLogarithm(e,s),u=divide$1(o,n,s,1),!a){+digitsToString(u.d).slice(i+1,i+15)+1==1e14&&(u=finalise(u,l+1,0));break}}while(checkRoundingDigits(u.d,i+=10,h));return external=!0,finalise(u,l,h)},P.minus=P.sub=function(e){var t,r,n,i,a,o,s,u,c,f,l,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new p(e.d||h.s!==e.s?h:NaN):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(c=h.d,l=e.d,s=p.precision,u=p.rounding,!c[0]||!l[0]){if(l[0])e.s=-e.s;else{if(!c[0])return new p(3===u?-0:0);e=new p(h)}return external?finalise(e,s,u):e}if(r=mathfloor(e.e/LOG_BASE),h=mathfloor(h.e/LOG_BASE),c=c.slice(),a=h-r){for(o=(f=a<0)?(t=c,a=-a,l.length):(t=l,r=h,c.length),(n=Math.max(Math.ceil(s/LOG_BASE),o)+2)<a&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((f=(n=c.length)<(o=l.length))&&(o=n),n=0;n<o;n++)if(c[n]!=l[n]){f=c[n]<l[n];break}a=0}for(f&&(t=c,c=l,l=t,e.s=-e.s),o=c.length,n=l.length-o;0<n;--n)c[o++]=0;for(n=l.length;a<n;){if(c[--n]<l[n]){for(i=n;i&&0===c[--i];)c[i]=BASE-1;--c[i],c[n]+=BASE}c[n]-=l[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=getBase10Exponent(c,r),external?finalise(e,s,u):e):new p(3===u?-0:0)},P.modulo=P.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?finalise(new n(r),n.precision,n.rounding):(external=!1,9==n.modulo?(t=divide$1(r,e.abs(),0,3,1)).s*=e.s:t=divide$1(r,e,0,n.modulo,1),t=t.times(e),external=!0,r.minus(t))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,finalise(e)},P.plus=P.add=function(e){var t,r,n,i,a,o,s,u,c=this,f=c.constructor;if(e=new f(e),!c.d||!e.d)return c.s&&e.s?c.d||(e=new f(e.d||c.s===e.s?c:NaN)):e=new f(NaN),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(s=c.d,u=e.d,a=f.precision,o=f.rounding,!s[0]||!u[0])return u[0]||(e=new f(c)),external?finalise(e,a,o):e;if(f=mathfloor(c.e/LOG_BASE),c=mathfloor(e.e/LOG_BASE),s=s.slice(),n=f-c){for((i=(i=n<0?(r=s,n=-n,u.length):(r=u,c=f,s.length))<(f=Math.ceil(a/LOG_BASE))?f+1:i+1)<n&&(n=i,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((i=s.length)-(n=u.length)<0&&(n=i,r=u,u=s,s=r),t=0;n;)t=(s[--n]=s[n]+u[n]+t)/BASE|0,s[n]%=BASE;for(t&&(s.unshift(t),++c),i=s.length;0==s[--i];)s.pop();return e.d=s,e.e=getBase10Exponent(s,c),external?finalise(e,a,o):e},P.precision=P.sd=function(e){var t;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(invalidArgument+e);return this.d?(t=getPrecision(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},P.round=function(){var e=this.constructor;return finalise(new e(this),this.e+1,e.rounding)},P.sine=P.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+LOG_BASE,n.rounding=1,r=sine(n,toLessThanHalfPi(n,r)),n.precision=e,n.rounding=t,finalise(2<quadrant?r.neg():r,e,t,!0)):new n(NaN)},P.squareRoot=P.sqrt=function(){var e,t,r,n,i,a,o=this,s=o.d,u=o.e,c=o.s,f=o.constructor;if(1!==c||!s||!s[0])return new f(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(external=!1,n=0==(c=Math.sqrt(+o))||c==1/0?(((t=digitsToString(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=mathfloor((u+1)/2)-(u<0||u%2),new f(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):new f(c.toString()),r=(u=f.precision)+3;;)if(n=(a=n).plus(divide$1(o,a,r+2,1)).times(.5),digitsToString(a.d).slice(0,r)===(t=digitsToString(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(finalise(n,u+1,1),e=!n.times(n).eq(o));break}if(!i&&(finalise(a,u+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}return external=!0,finalise(n,u,f.rounding,e)},P.tangent=P.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=divide$1(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,finalise(2==quadrant||4==quadrant?r.neg():r,e,t,!0)):new n(NaN)},P.times=P.mul=function(e){var t,r,n,i,a,o,s,u,c,f=this.constructor,l=this.d,h=(e=new f(e)).d;if(e.s*=this.s,!(l&&l[0]&&h&&h[0]))return new f(!e.s||l&&!l[0]&&!h||h&&!h[0]&&!l?NaN:l&&h?0*e.s:e.s/0);for(r=mathfloor(this.e/LOG_BASE)+mathfloor(e.e/LOG_BASE),(u=l.length)<(c=h.length)&&(a=l,l=h,h=a,o=u,u=c,c=o),a=[],n=o=u+c;n--;)a.push(0);for(n=c;0<=--n;){for(t=0,i=u+n;n<i;)s=a[i]+h[n]*l[i-n-1]+t,a[i--]=s%BASE|0,t=s/BASE|0;a[i]=(a[i]+t)%BASE|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=getBase10Exponent(a,r),external?finalise(e,f.precision,f.rounding):e},P.toBinary=function(e,t){return toStringBinary(this,2,e,t)},P.toDecimalPlaces=P.toDP=function(e,t){var r=this.constructor,n=new r(this);return void 0===e?n:(checkInt32(e,0,MAX_DIGITS),void 0===t?t=r.rounding:checkInt32(t,0,8),finalise(n,e+n.e+1,t))},P.toExponential=function(e,t){var r=this,n=r.constructor,e=void 0===e?finiteToString(r,!0):(checkInt32(e,0,MAX_DIGITS),void 0===t?t=n.rounding:checkInt32(t,0,8),finiteToString(r=finalise(new n(r),e+1,t),!0,e+1));return r.isNeg()&&!r.isZero()?"-"+e:e},P.toFixed=function(e,t){var r=this,n=r.constructor,i=void 0===e?finiteToString(r):(checkInt32(e,0,MAX_DIGITS),void 0===t?t=n.rounding:checkInt32(t,0,8),finiteToString(i=finalise(new n(r),e+r.e+1,t),!1,e+i.e+1));return r.isNeg()&&!r.isZero()?"-"+i:i},P.toFraction=function(e){var t,r,n,i,a,o,s,u,c,f,l=this,h=l.d,p=l.constructor;if(!h)return new p(l);if(u=r=new p(1),n=s=new p(0),a=(t=new p(n)).e=getPrecision(h)-l.e-1,t.d[0]=mathpow(10,(c=a%LOG_BASE)<0?LOG_BASE+c:c),null==e)e=0<a?t:u;else{if(!(o=new p(e)).isInt()||o.lt(u))throw Error(invalidArgument+o);e=o.gt(t)?0<a?t:u:o}for(external=!1,o=new p(digitsToString(h)),c=p.precision,p.precision=a=h.length*LOG_BASE*2;f=divide$1(o,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,i=u,u=s.plus(f.times(i)),s=i,i=t,t=o.minus(f.times(i)),o=i;return i=divide$1(e.minus(r),n,0,1,1),s=s.plus(i.times(u)),r=r.plus(i.times(n)),s.s=u.s=l.s,l=divide$1(u,n,a,1).minus(l).abs().cmp(divide$1(s,r,a,1).minus(l).abs())<1?[u,n]:[s,r],p.precision=c,external=!0,l},P.toHexadecimal=P.toHex=function(e,t){return toStringBinary(this,16,e,t)},P.toNearest=function(e,t){var r=(n=this).constructor,n=new r(n);if(null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:checkInt32(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(external=!1,n=divide$1(n,e,0,t,1).times(e),external=!0,finalise(n)):(e.s=n.s,n=e),n},P.toNumber=function(){return+this},P.toOctal=function(e,t){return toStringBinary(this,8,e,t)},P.toPower=P.pow=function(e){var t,r,n,i,a,o,s=this,u=s.constructor,c=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(mathpow(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,a=u.rounding,e.eq(1))return finalise(s,n,a);if((t=mathfloor(e.e/LOG_BASE))>=e.d.length-1&&(r=c<0?-c:c)<=MAX_SAFE_INTEGER)return i=intPow(u,s,r,n),e.s<0?new u(1).div(i):finalise(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=mathpow(+s,c))&&isFinite(r)?new u(r+"").e:mathfloor(c*(Math.log("0."+digitsToString(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(0<t?o/0:0):(external=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=(i=naturalExponential(e.times(naturalLogarithm(s,n+r)),n)).d&&checkRoundingDigits((i=finalise(i,n+5,1)).d,n,a)&&+digitsToString((i=finalise(naturalExponential(e.times(naturalLogarithm(s,(t=n+10)+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14?finalise(i,n+1,0):i).s=o,external=!0,finalise(i,n,u.rounding=a))},P.toPrecision=function(e,t){var r=this,n=r.constructor,e=void 0===e?finiteToString(r,r.e<=n.toExpNeg||r.e>=n.toExpPos):(checkInt32(e,1,MAX_DIGITS),void 0===t?t=n.rounding:checkInt32(t,0,8),finiteToString(r=finalise(new n(r),e,t),e<=r.e||r.e<=n.toExpNeg,e));return r.isNeg()&&!r.isZero()?"-"+e:e},P.toSignificantDigits=P.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(checkInt32(e,1,MAX_DIGITS),void 0===t?t=r.rounding:checkInt32(t,0,8)),finalise(new r(this),e,t)},P.toString=function(){var e=this,t=e.constructor,t=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,t=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+t:t};var divide$1=function(){function O(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function D(e,t,r,n){var i,a;if(r!=n)a=n<r?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function I(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&1<e.length;)e.shift()}return function(e,t,r,n,i,a){var o,s,u,c,f,l,h,p,d,m,g,y,v,w,x,b,_,M,N,S=e.constructor,E=e.s==t.s?1:-1,A=e.d,$=t.d;if(!(A&&A[0]&&$&&$[0]))return new S(e.s&&t.s&&(A?!$||A[0]!=$[0]:$)?A&&0==A[0]||!$?0*E:E/0:NaN);for(s=a?(f=1,e.e-t.e):(a=BASE,mathfloor(e.e/(f=LOG_BASE))-mathfloor(t.e/f)),M=$.length,b=A.length,d=(E=new S(E)).d=[],u=0;$[u]==(A[u]||0);u++);if($[u]>(A[u]||0)&&s--,null==r?(v=r=S.precision,n=S.rounding):v=i?r+(e.e-t.e)+1:r,v<0)d.push(1),l=!0;else{if(v=v/f+2|0,u=0,1==M){for($=$[c=0],v++;(u<b||c)&&v--;u++)w=c*a+(A[u]||0),d[u]=w/$|0,c=w%$|0;l=c||u<b}else{for(1<(c=a/($[0]+1)|0)&&($=O($,c,a),A=O(A,c,a),M=$.length,b=A.length),x=M,g=(m=A.slice(0,M)).length;g<M;)m[g++]=0;for((N=$.slice()).unshift(0),_=$[0],$[1]>=a/2&&++_;c=0,(o=D($,m,M,g))<0?(y=m[0],1<(c=(y=M!=g?y*a+(m[1]||0):y)/_|0)?1==(o=D(h=O($,c=a<=c?a-1:c,a),m,p=h.length,g=m.length))&&(c--,I(h,M<p?N:$,p,a)):(0==c&&(o=c=1),h=$.slice()),(p=h.length)<g&&h.unshift(0),I(m,h,g,a),-1==o&&(o=D($,m,M,g=m.length))<1&&(c++,I(m,M<g?N:$,g,a)),g=m.length):0===o&&(c++,m=[0]),d[u++]=c,o&&m[0]?m[g++]=A[x]||0:(m=[A[x]],g=1),(x++<b||void 0!==m[0])&&v--;);l=void 0!==m[0]}d[0]||d.shift()}if(1==f)E.e=s,inexact=l;else{for(u=1,c=d[0];10<=c;c/=10)u++;E.e=u+s*f-1,finalise(E,i?r+E.e+1:r,n,l)}return E}}();function finalise(e,t,r,n){var i,a,o,s,u,c,f,l,h=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];10<=s;s/=10)i++;if((a=t-i)<0)a+=LOG_BASE,o=t,u=(c=f[l=0])/mathpow(10,i-o-1)%10|0;else if(l=Math.ceil((a+1)/LOG_BASE),(s=f.length)<=l){if(!n)break e;for(;s++<=l;)f.push(0);c=u=0,o=(a%=LOG_BASE)-LOG_BASE+(i=1)}else{for(c=s=f[l],i=1;10<=s;s/=10)i++;u=(o=(a%=LOG_BASE)-LOG_BASE+i)<0?0:c/mathpow(10,i-o-1)%10|0}if(n=n||t<0||void 0!==f[l+1]||(o<0?c:c%mathpow(10,i-o-1)),u=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):5<u||5==u&&(4==r||n||6==r&&(0<a?0<o?c/mathpow(10,i-o):0:f[l-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,u?(t-=e.e+1,f[0]=mathpow(10,(LOG_BASE-t%LOG_BASE)%LOG_BASE),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=l,s=1,l--):(f.length=l+1,s=mathpow(10,LOG_BASE-a),f[l]=0<o?(c/mathpow(10,i-o)%mathpow(10,o)|0)*s:0),u)for(;;){if(0==l){for(a=1,o=f[0];10<=o;o/=10)a++;for(o=f[0]+=s,s=1;10<=o;o/=10)s++;a!=s&&(e.e++,f[0]==BASE&&(f[0]=1));break}if(f[l]+=s,f[l]!=BASE)break;f[l--]=0,s=1}for(a=f.length;0===f[--a];)f.pop()}return external&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function finiteToString(e,t,r){if(!e.isFinite())return nonFiniteToString(e);var n,i=e.e,a=digitsToString(e.d),o=a.length;return t?(r&&0<(n=r-o)?a=a.charAt(0)+"."+a.slice(1)+getZeroString(n):1<o&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+getZeroString(-i-1)+a,r&&0<(n=r-o)&&(a+=getZeroString(n))):o<=i?(a+=getZeroString(i+1-o),r&&0<(n=r-i-1)&&(a=a+"."+getZeroString(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&0<(n=r-o)&&(i+1===o&&(a+="."),a+=getZeroString(n))),a}function getBase10Exponent(e,t){var r=e[0];for(t*=LOG_BASE;10<=r;r/=10)t++;return t}function getLn10(e,t,r){if(LN10_PRECISION<t)throw external=!0,r&&(e.precision=r),Error(precisionLimitExceeded);return finalise(new e(LN10),t,1,!0)}function getPi(e,t,r){if(PI_PRECISION<t)throw Error(precisionLimitExceeded);return finalise(new e(PI),t,r,!0)}function getPrecision(e){var t=e.length-1,r=t*LOG_BASE+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];10<=t;t/=10)r++}return r}function getZeroString(e){for(var t="";e--;)t+="0";return t}function intPow(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/LOG_BASE+4);for(external=!1;;){if(r%2&&truncate((a=a.times(t)).d,o)&&(i=!0),0===(r=mathfloor(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}truncate((t=t.times(t)).d,o)}return external=!0,a}function isOdd(e){return 1&e.d[e.d.length-1]}function maxOrMin(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;){if(!(n=new e(t[a])).s){i=n;break}i[r](n)&&(i=n)}return i}function naturalExponential(e,t){var r,n,i,a,o,s,u,c=0,f=0,l=0,h=e.constructor,p=h.rounding,d=h.precision;if(!e.d||!e.d[0]||17<e.e)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(u=null==t?(external=!1,d):t,s=new h(.03125);-2<e.e;)e=e.times(s),l+=5;for(u+=n=Math.log(mathpow(2,l))/Math.LN10*2+5|0,r=a=o=new h(1),h.precision=u;;){if(a=finalise(a.times(e),u,1),r=r.times(++f),digitsToString((s=o.plus(divide$1(a,r,u,1))).d).slice(0,u)===digitsToString(o.d).slice(0,u)){for(i=l;i--;)o=finalise(o.times(o),u,1);if(null!=t)return h.precision=d,o;if(!(c<3&&checkRoundingDigits(o.d,u-n,p,c)))return finalise(o,h.precision=d,p,external=!0);h.precision=u+=10,r=a=s=new h(1),f=0,c++}o=s}}function naturalLogarithm(e,t){var r,n,i,a,o,s,u,c,f,l,h,p=1,d=e,m=d.d,g=d.constructor,y=g.rounding,v=g.precision;if(d.s<0||!m||!m[0]||!d.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=d.s?NaN:m?0:d);if(f=null==t?(external=!1,v):t,g.precision=f+=10,n=(r=digitsToString(m)).charAt(0),!(Math.abs(a=d.e)<15e14))return c=getLn10(g,f+2,v).times(a+""),d=naturalLogarithm(new g(n+"."+r.slice(1)),f-10).plus(c),g.precision=v,null==t?finalise(d,v,y,external=!0):d;for(;n<7&&1!=n||1==n&&3<r.charAt(1);)n=(r=digitsToString((d=d.times(e)).d)).charAt(0),p++;for(a=d.e,1<n?(d=new g("0."+r),a++):d=new g(n+"."+r.slice(1)),u=o=d=divide$1((l=d).minus(1),d.plus(1),f,1),h=finalise(d.times(d),f,1),i=3;;){if(o=finalise(o.times(h),f,1),digitsToString((c=u.plus(divide$1(o,new g(i),f,1))).d).slice(0,f)===digitsToString(u.d).slice(0,f)){if(u=u.times(2),0!==a&&(u=u.plus(getLn10(g,f+2,v).times(a+""))),u=divide$1(u,new g(p),f,1),null!=t)return g.precision=v,u;if(!checkRoundingDigits(u.d,f-10,y,s))return finalise(u,g.precision=v,y,external=!0);g.precision=f+=10,c=o=d=divide$1(l.minus(1),l.plus(1),f,1),h=finalise(d.times(d),f,1),i=s=1}u=c,i+=2}}function nonFiniteToString(e){return String(e.s*e.s/0)}function parseDecimal(e,t){var r,n,i;for(0<(n=(t=-1<(r=t.indexOf("."))?t.replace(".",""):t).search(/e/i))?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%LOG_BASE,r<0&&(n+=LOG_BASE),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=LOG_BASE;n<i;)e.d.push(+t.slice(n,n+=LOG_BASE));t=t.slice(n),n=LOG_BASE-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),external&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function parseOther(e,t){var r,n,i,a,o,s,u,c;if(-1<t.indexOf("_")){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(t))return parseDecimal(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(isHex.test(t))c=16,t=t.toLowerCase();else if(isBinary.test(t))c=2;else{if(!isOctal.test(t))throw Error(invalidArgument+t);c=8}for(i=(t=0<(i=t.search(/p/i))?(s=+t.slice(i+1),t.substring(2,i)):t.slice(2)).indexOf("."),r=e.constructor,(a=0<=i)&&(i=(o=(t=t.replace(".","")).length)-i,n=intPow(r,new r(c),i,2*i)),i=c=(u=convertBase(t,c,BASE)).length-1;0===u[i];--i)u.pop();return i<0?new r(0*e.s):(e.e=getBase10Exponent(u,c),e.d=u,external=!1,a&&(e=divide$1(e,n,4*o)),s&&(e=e.times(Math.abs(s)<54?mathpow(2,s):Decimal.pow(2,s))),external=!0,e)}function sine(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:taylorSeries(e,2,t,t);r=1.4*Math.sqrt(n),t=taylorSeries(e,2,t=t.times(1/tinyPow(5,r=16<r?16:0|r)),t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}function taylorSeries(e,t,r,n,i){var a,o,s,u,c=e.precision,f=Math.ceil(c/LOG_BASE);for(external=!1,u=r.times(r),s=new e(n);;){if(o=divide$1(s.times(u),new e(t++*t++),c,1),s=i?n.plus(o):n.minus(o),n=divide$1(o.times(u),new e(t++*t++),c,1),void 0!==(o=s.plus(n)).d[f]){for(a=f;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=n,n=o,o=a}return external=!0,o.d.length=f+1,o}function tinyPow(e,t){for(var r=e;--t;)r*=e;return r}function toLessThanHalfPi(e,t){var r=t.s<0,n=getPi(e,e.precision,1),i=n.times(.5);if((t=t.abs()).lte(i))return quadrant=r?4:1,t;if((e=t.divToInt(n)).isZero())quadrant=r?3:2;else{if((t=t.minus(e.times(n))).lte(i))return quadrant=isOdd(e)?r?2:3:r?4:1,t;quadrant=isOdd(e)?r?1:4:r?3:2}return t.minus(n).abs()}function toStringBinary(e,t,r,n){var i,a,o,s,u,c,f,l,h=e.constructor,p=void 0!==r;if(p?(checkInt32(r,1,MAX_DIGITS),void 0===n?n=h.rounding:checkInt32(n,0,8)):(r=h.precision,n=h.rounding),e.isFinite()){for(p?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,0<=(o=(c=finiteToString(e)).indexOf("."))&&(c=c.replace(".",""),(l=new h(1)).e=c.length-o,l.d=convertBase(finiteToString(l),10,i),l.e=l.d.length),a=s=(f=convertBase(c,10,i)).length;0==f[--s];)f.pop();if(f[0]){if(o<0?a--:((e=new h(e)).d=f,e.e=a,f=(e=divide$1(e,l,r,n,0,i)).d,a=e.e,u=inexact),o=f[r],l=i/2,u=u||void 0!==f[r+1],u=n<4?(void 0!==o||u)&&(0===n||n===(e.s<0?3:2)):l<o||o===l&&(4===n||u||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,u)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(s=f.length;!f[s-1];--s);for(o=0,c="";o<s;o++)c+=NUMERALS.charAt(f[o]);if(p){if(1<s)if(16==t||8==t){for(o=16==t?4:3,--s;s%o;s++)c+="0";for(s=(f=convertBase(c,i,t)).length;!f[s-1];--s);for(o=1,c="1.";o<s;o++)c+=NUMERALS.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>s)for(a-=s;a--;)c+="0";else a<s&&(c=c.slice(0,a)+"."+c.slice(a))}else c=p?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=nonFiniteToString(e);return e.s<0?"-"+c:c}function truncate(e,t){if(e.length>t)return e.length=t,!0}function abs$1(e){return new this(e).abs()}function acos(e){return new this(e).acos()}function acosh(e){return new this(e).acosh()}function add$1(e,t){return new this(e).plus(t)}function asin(e){return new this(e).asin()}function asinh(e){return new this(e).asinh()}function atan(e){return new this(e).atan()}function atanh(e){return new this(e).atanh()}function atan2(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?getPi(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=getPi(this,a,1).times(.5)).s=e.s:r=t.s<0?(this.precision=a,this.rounding=1,r=this.atan(divide$1(e,t,a,1)),t=getPi(this,a,1),this.precision=n,this.rounding=i,e.s<0?r.minus(t):r.plus(t)):this.atan(divide$1(e,t,a,1)):(r=getPi(this,a,1).times(0<t.s?.25:.75)).s=e.s:r=new this(NaN),r}function cbrt(e){return new this(e).cbrt()}function ceil(e){return finalise(e=new this(e),e.e+1,2)}function clamp(e,t,r){return new this(e).clamp(t,r)}function config(e){if(!e||"object"!=typeof e)throw Error(decimalError+"Object expected");for(var t,r,n=!0===e.defaults,i=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9],a=0;a<i.length;a+=3)if(t=i[a],n&&(this[t]=DEFAULTS[t]),void 0!==(r=e[t])){if(!(mathfloor(r)===r&&i[a+1]<=r&&r<=i[a+2]))throw Error(invalidArgument+t+": "+r);this[t]=r}if(t="crypto",n&&(this[t]=DEFAULTS[t]),void 0!==(r=e[t])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(invalidArgument+t+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(cryptoUnavailable);this[t]=!0}else this[t]=!1}return this}function cos(e){return new this(e).cos()}function cosh(e){return new this(e).cosh()}function clone(e){var t,r,n;function a(e){var t,r,n,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,isDecimalInstance(e))return i.s=e.s,void(external?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d&&e.d.slice()));if("number"==(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;10<=r;r/=10)t++;return void(external?a.maxE<t?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):parseDecimal(i,e.toString())}if("string"!=n)throw Error(invalidArgument+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),(isDecimal.test(e)?parseDecimal:parseOther)(i,e)}if(a.prototype=P,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=config,a.clone=clone,a.isDecimal=isDecimalInstance,a.abs=abs$1,a.acos=acos,a.acosh=acosh,a.add=add$1,a.asin=asin,a.asinh=asinh,a.atan=atan,a.atanh=atanh,a.atan2=atan2,a.cbrt=cbrt,a.ceil=ceil,a.clamp=clamp,a.cos=cos,a.cosh=cosh,a.div=div,a.exp=exp,a.floor=floor,a.hypot=hypot,a.ln=ln,a.log=log,a.log10=log10,a.log2=log2,a.max=max,a.min=min,a.mod=mod,a.mul=mul,a.pow=pow,a.random=random,a.round=round,a.sign=sign,a.sin=sin,a.sinh=sinh,a.sqrt=sqrt,a.sub=sub,a.sum=sum,a.tan=tan,a.tanh=tanh,a.trunc=trunc,(e=void 0===e?{}:e)&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function div(e,t){return new this(e).div(t)}function exp(e){return new this(e).exp()}function floor(e){return finalise(e=new this(e),e.e+1,3)}function hypot(){var e,t,r=new this(0);for(external=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return external=!0,new this(1/0);r=t}return external=!0,r.sqrt()}function isDecimalInstance(e){return e instanceof Decimal||e&&e.toStringTag===tag||!1}function ln(e){return new this(e).ln()}function log(e,t){return new this(e).log(t)}function log2(e){return new this(e).log(2)}function log10(e){return new this(e).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(e,t){return new this(e).mod(t)}function mul(e,t){return new this(e).mul(t)}function pow(e,t){return new this(e).pow(t)}function random(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:checkInt32(e,1,MAX_DIGITS),n=Math.ceil(e/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)429e7<=(i=t[a])?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(cryptoUnavailable);for(t=crypto.randomBytes(n*=4);a<n;)214e7<=(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else for(;a<n;)s[a++]=1e7*Math.random()|0;for(n=s[--a],e%=LOG_BASE,n&&e&&(i=mathpow(10,LOG_BASE-e),s[a]=(n/i|0)*i);0===s[a];a--)s.pop();if(a<0)s=[r=0];else{for(r=-1;0===s[0];r-=LOG_BASE)s.shift();for(n=1,i=s[0];10<=i;i/=10)n++;n<LOG_BASE&&(r-=LOG_BASE-n)}return o.e=r,o.d=s,o}function round(e){return finalise(e=new this(e),e.e+1,this.rounding)}function sign(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function sin(e){return new this(e).sin()}function sinh(e){return new this(e).sinh()}function sqrt(e){return new this(e).sqrt()}function sub(e,t){return new this(e).sub(t)}function sum(){var e=0,t=arguments,r=new this(t[e]);for(external=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return external=!0,finalise(r,this.precision,this.rounding)}function tan(e){return new this(e).tan()}function tanh(e){return new this(e).tanh()}function trunc(e){return finalise(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString,P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=clone(DEFAULTS),LN10=new Decimal(LN10),PI=new Decimal(PI),name$G="BigNumber",dependencies$G=["?on","config"],createBigNumberClass=factory(name$G,dependencies$G,e=>{var{on:t,config:e}=e,r=Decimal.clone({precision:e.precision,modulo:Decimal.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})}),r},{isClass:!0}),complex={exports:{}};!function(e){function n(e){return.5*(Math.exp(e)+Math.exp(-e))}function i(e){return.5*(Math.exp(e)-Math.exp(-e))}function o(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function r(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):c();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,a=0;null===n&&c();for(var o=0;o<n.length;o++){var s=n[o];" "===s||"\t"===s||"\n"===s||("+"===s?i++:"-"===s?a++:i=a=("i"===s||"I"===s?(i+a===0&&c()," "===n[o+1]||isNaN(n[o+1])?r.im+=parseFloat((a%2?"-":"")+"1"):(r.im+=parseFloat((a%2?"-":"")+n[o+1]),o++)):(i+a!==0&&!isNaN(s)||c(),"i"===n[o+1]||"I"===n[o+1]?(r.im+=parseFloat((a%2?"-":"")+s),o++):r.re+=parseFloat((a%2?"-":"")+s)),0))}0<i+a&&c();break;case"number":r.im=0,r.re=e;break;default:c()}return isNaN(r.re)||isNaN(r.im),r}function u(e,t){if(!(this instanceof u))return new u(e,t);t=r(e,t);this.re=t.re,this.im=t.im}var c;c=function(){throw SyntaxError("Invalid Param")},u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){t=new u(e,t);return this.isInfinite()&&t.isInfinite()?u.NAN:this.isInfinite()||t.isInfinite()?u.INFINITY:new u(this.re+t.re,this.im+t.im)},sub:function(e,t){t=new u(e,t);return this.isInfinite()&&t.isInfinite()?u.NAN:this.isInfinite()||t.isInfinite()?u.INFINITY:new u(this.re-t.re,this.im-t.im)},mul:function(e,t){t=new u(e,t);return this.isInfinite()&&t.isZero()||this.isZero()&&t.isInfinite()?u.NAN:this.isInfinite()||t.isInfinite()?u.INFINITY:0===t.im&&0===this.im?new u(this.re*t.re,0):new u(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,t){var r=new u(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return u.NAN;if(this.isInfinite()||r.isZero())return u.INFINITY;if(this.isZero()||r.isInfinite())return u.ZERO;e=this.re,t=this.im;var n,i,a=r.re,r=r.im;return 0===r?new u(e/a,t/a):Math.abs(a)<Math.abs(r)?new u((e*(i=a/r)+t)/(n=a*i+r),(t*i-e)/n):new u((e+t*(i=r/a))/(n=r*i+a),(t-e*i)/n)},pow:function(e,t){var r=new u(e,t);if(e=this.re,t=this.im,r.isZero())return u.ONE;if(0===r.im){if(0===t&&0<e)return new u(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new u(Math.pow(t,r.re),0);case 1:return new u(0,Math.pow(t,r.re));case 2:return new u(-Math.pow(t,r.re),0);case 3:return new u(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&0<r.re&&0<=r.im)return u.ZERO;var n=Math.atan2(t,e),i=o(e,t);return e=Math.exp(r.re*i-r.im*n),t=r.im*i+r.re*n,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t=this.re,r=this.im,n=this.abs();if(0<=t){if(0===r)return new u(Math.sqrt(t),0);e=.5*Math.sqrt(2*(n+t))}else e=Math.abs(r)/Math.sqrt(2*(n-t));return t=t<=0?.5*Math.sqrt(2*(n-t)):Math.abs(r)/Math.sqrt(2*(n+t)),new u(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||t<e)return Math.cos(e)-1;e*=e;return e*(e*(e*(e*(e*(e*(e*(e/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new u(o(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(n=r<n?(r=n,e/t):t/e,r*Math.sqrt(1+n*n));var e,t,r,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*n(t),Math.cos(e)*i(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*n(t),-Math.sin(e)*i(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+n(t);return new u(Math.sin(e)/r,i(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-n(t);return new u(-Math.sin(e)/r,i(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*n(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*n(t)/r,Math.sin(e)*i(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*n(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*n(t)/r,-Math.cos(e)*i(t)/r)},asin:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),e=new u(r.re-t,r.im+e).log();return new u(e.im,-e.re)},acos:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),e=new u(r.re-t,r.im+e).log();return new u(Math.PI/2-e.im,e.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var r=e*e+(1-t)*(1-t),r=new u((1-t*t-e*e)/r,-2*e/r).log();return new u(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var r=e*e+t*t;return(0!=r?new u(e/r,-t/r):new u(0!==e?e/0:0,0!==t?-t/0:0)).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var r=e*e+t*t;return(0!=r?new u(e/r,-t/r):new u(0!==e?e/0:0,0!==t?-t/0:0)).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var r=e*e+t*t;return(0!=r?new u(e/r,-t/r):new u(0!==e?e/0:0,0!==t?-t/0:0)).asin()},sinh:function(){var e=this.re,t=this.im;return new u(i(e)*Math.cos(t),n(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(n(e)*Math.cos(t),i(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=n(e)+Math.cos(t);return new u(i(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=n(e)-Math.cos(t);return new u(i(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-n(2*e);return new u(-2*i(e)*Math.cos(t)/r,2*n(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+n(2*e);return new u(2*n(e)*Math.cos(t)/r,-2*i(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e,t=this.acos();return t.im<=0?(e=t.re,t.re=-t.im,t.im=e):(e=t.im,t.im=-t.re,t.re=e),t},atanh:function(){var e=this.re,t=this.im,r=1<e&&0===t,n=1-e,i=1+e,a=n*n+t*t,e=0!=a?new u((i*n-t*t)/a,(t*n+i*t)/a):new u(-1!==e?e/0:0,0!==t?t/0:0),t=e.re;return e.re=o(e.re,e.im)/2,e.im=Math.atan2(e.im,t)/2,r&&(e.im=-e.im),e},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var r=e*e+t*t;return(0!=r?new u(e/r,-t/r):new u(0!==e?e/0:0,0!==t?-t/0:0)).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return(0!=r?new u(e/r,-t/r):new u(0!==e?e/0:0,0!==t?-t/0:0)).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var r=e*e+t*t;return(0!=r?new u(e/r,-t/r):new u(0!==e?e/0:0,0!==t?-t/0:0)).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new u(e/r,-t/r)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){t=new u(e,t);return Math.abs(t.re-this.re)<=u.EPSILON&&Math.abs(t.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<u.EPSILON&&(e=0),0===(t=Math.abs(t)<u.EPSILON?0:t)?r+e:(0!==e?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),1!==t&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,Object.defineProperty(u,"__esModule",{value:!0}),e.exports=(u.default=u).Complex=u}(complex);var Complex$1=getDefaultExportFromCjs(complex.exports),name$F="Complex",dependencies$F=[],createComplexClass=factory(name$F,dependencies$F,()=>(Complex$1.prototype.type="Complex",Complex$1.prototype.isComplex=!0,Complex$1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$1.prototype.format=function(e){var t=this.im,r=this.re,n=format$3(this.re,e),i=format$3(this.im,e),e=isNumber(e)?e:e?e.precision:null;return null!==e&&(e=Math.pow(10,-e),Math.abs(r/t)<e&&(r=0),Math.abs(t/r)<e&&(t=0)),0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i"},Complex$1.fromPolar=function(e){switch(arguments.length){case 1:if("object"==typeof e)return Complex$1(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=e,r=arguments[1];if(isNumber(t)){if(isNumber(r=isUnit(r)&&r.hasBase("ANGLE")?r.toNumber("rad"):r))return new Complex$1({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$1.prototype.valueOf=Complex$1.prototype.toString,Complex$1.fromJSON=function(e){return new Complex$1(e)},Complex$1.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Complex$1),{isClass:!0}),fraction$1={exports:{}};!function(e){function t(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function r(){}return r.prototype=Error.prototype,e.prototype=new r,e}function m(e,t){return isNaN(e=parseInt(e,10))&&g(),e*t}function g(){throw new n}function s(e){for(var t={},r=e,n=2,i=4;i<=r;){for(;r%n==0;)r/=n,t[n]=(t[n]||0)+1;i+=1+2*n++}return r!==e?1<r&&(t[r]=(t[r]||0)+1):t[e]=(t[e]||0)+1,t}function u(e,t,r){for(var n=1,i=function(e,t,r){for(var n=1;0<t;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,r,t),a=0;a<300;a++){if(n===i)return a;n=10*n%t,i=10*i%t}return 0}function r(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function c(e,t){if(!(this instanceof c))return new c(e,t);f(e,t),e=r(y.d,y.n),this.s=y.s,this.n=y.n/e,this.d=y.d/e}var y,v,n,f;y={s:1,n:0,d:1},v=c.DivisionByZero=t("DivisionByZero"),n=c.InvalidParameter=t("InvalidParameter"),f=function(e,t){var r,n=0,i=1,a=1,o=0,s=0,u=0,c=1,f=1,l=0,h=1,p=1,d=1;if(null!=e)if(void 0!==t)a=(n=e)*(i=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,i=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(i=e[1])):g(),a=n*i;break;case"number":if((e=e<0?-(a=e):e)%1==0)n=e;else if(0<e){for(1<=e&&(e/=f=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));h<=1e7&&d<=1e7;){if(e===(r=(l+p)/(h+d))){i=h+d<=1e7?(n=l+p,h+d):h<d?(n=p,d):(n=l,h);break}r<e?(l+=p,h+=d):(p+=l,d+=h),i=1e7<h?(n=p,d):(n=l,h)}n*=f}else(isNaN(e)||isNaN(t))&&(i=n=NaN);break;case"string":if(null===(h=e.match(/\d+|./g))&&g(),"-"===h[l]?(a=-1,l++):"+"===h[l]&&l++,h.length===l+1?s=m(h[l++],a):"."===h[l+1]||"."===h[l]?("."!==h[l]&&(o=m(h[l++],a)),(++l+1===h.length||"("===h[l+1]&&")"===h[l+3]||"'"===h[l+1]&&"'"===h[l+3])&&(s=m(h[l],a),c=Math.pow(10,h[l].length),l++),("("===h[l]&&")"===h[l+2]||"'"===h[l]&&"'"===h[l+2])&&(u=m(h[l+1],a),f=Math.pow(10,h[l+1].length)-1,l+=3)):"/"===h[l+1]||":"===h[l+1]?(s=m(h[l],a),c=m(h[l+2],1),l+=3):"/"===h[l+3]&&" "===h[l+1]&&(o=m(h[l],a),s=m(h[l+2],a),c=m(h[l+4],1),l+=5),h.length<=l){a=n=u+(i=c*f)*o+f*s;break}default:g()}if(0===i)throw new v;y.s=a<0?-1:1,y.n=Math.abs(n),y.d=Math.abs(i)},c.prototype={s:1,n:0,d:1,abs:function(){return new c(this.n,this.d)},neg:function(){return new c(-this.s*this.n,this.d)},add:function(e,t){return f(e,t),new c(this.s*this.n*y.d+y.s*this.d*y.n,this.d*y.d)},sub:function(e,t){return f(e,t),new c(this.s*this.n*y.d-y.s*this.d*y.n,this.d*y.d)},mul:function(e,t){return f(e,t),new c(this.s*y.s*this.n*y.n,this.d*y.d)},div:function(e,t){return f(e,t),new c(this.s*y.s*this.n*y.d,this.d*y.n)},clone:function(){return new c(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new c(NaN):void 0===e?new c(this.s*this.n%this.d,1):(f(e,t),0===y.n&&0===this.d&&c(0,0),new c(this.s*(y.d*this.n)%(y.n*this.d),y.d*this.d))},gcd:function(e,t){return f(e,t),new c(r(y.n,this.n)*r(y.d,this.d),y.d*this.d)},lcm:function(e,t){return f(e,t),0===y.n&&0===this.n?new c:new c(y.n*this.n,r(y.n,this.n)*r(y.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):new c(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):new c(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):new c(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new c(this.s*this.d,this.n)},pow:function(e,t){if(f(e,t),1===y.d)return y.s<0?new c(Math.pow(this.s*this.d,y.n),Math.pow(this.n,y.n)):new c(Math.pow(this.s*this.n,y.n),Math.pow(this.d,y.n));if(this.s<0)return null;var r,n=s(this.n),i=s(this.d),a=1,o=1;for(r in n)if("1"!==r){if("0"===r){a=0;break}if(n[r]*=y.n,n[r]%y.d!=0)return null;n[r]/=y.d,a*=Math.pow(r,n[r])}for(r in i)if("1"!==r){if(i[r]*=y.n,i[r]%y.d!=0)return null;i[r]/=y.d,o*=Math.pow(r,i[r])}return y.s<0?new c(o,a):new c(a,o)},equals:function(e,t){return f(e,t),this.s*this.n*y.d==y.s*y.n*this.d},compare:function(e,t){f(e,t);t=this.s*this.n*y.d-y.s*y.n*this.d;return(0<t)-(t<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();e=e||.001;for(var r=0;r<t.length;r++){var n=function e(t){return 1===t.length?new c(t[0]):e(t.slice(1)).inverse().add(t[0])}(t.slice(0,r+1));if(n.sub(this.abs()).abs().valueOf()<e)return n.mul(this.s)}return this},divisible:function(e,t){return f(e,t),!(!(y.n*this.d)||this.n*y.d%(y.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&0<(t=Math.floor(n/i))&&(r+=t,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(e){var t,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(e&&0<(t=Math.floor(n/i))&&(r+=t,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(t)||isNaN(r))return n;for(;n.push(Math.floor(t/r)),e=t%r,t=r,r=e,1!==t;);return n},toString:function(e){var t=this.n,r=this.d;if(isNaN(t)||isNaN(r))return"NaN";e=e||15;var n=function(e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var t=10%e,r=1;1!==t;r++)if(t=10*t%e,2e3<r)return 0;return r}(r),i=u(0,r,n),a=-1===this.s?"-":"";if(a+=t/r|0,t%=r,(t*=10)&&(a+="."),n){for(var o=i;o--;)a+=t/r|0,t%=r,t*=10;a+="(";for(o=n;o--;)a+=t/r|0,t%=r,t*=10;a+=")"}else for(o=e;t&&o--;)a+=t/r|0,t%=r,t*=10;return a}},Object.defineProperty(c,"__esModule",{value:!0}),e.exports=(c.default=c).Fraction=c}(fraction$1);var Fraction$1=getDefaultExportFromCjs(fraction$1.exports),name$E="Fraction",dependencies$E=[],createFractionClass=factory(name$E,dependencies$E,()=>(Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fraction$1.fromJSON=function(e){return new Fraction$1(e)},Fraction$1),{isClass:!0}),name$D="Matrix",dependencies$D=[],createMatrixClass=factory(name$D,dependencies$D,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),name$C="DenseMatrix",dependencies$C=["Matrix"],createDenseMatrixClass=factory(name$C,dependencies$C,e=>{var e=e["Matrix"];function h(e,t){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e))"DenseMatrix"===e.type?(this._data=clone$1(e._data),this._size=clone$1(e._size)):(this._data=e.toArray(),this._size=e.size()),this._datatype=t||e._datatype;else if(e&&isArray(e.data)&&isArray(e.size))this._data=e.data,this._size=e.size,validate(this._data,this._size),this._datatype=t||e.datatype;else if(isArray(e))this._data=function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r];isArray(i)?t[r]=e(i):i&&!0===i.isMatrix&&(t[r]=e(i.valueOf()))}return t}(e),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._data=[],this._size=[0],this._datatype=t}}function s(e,t,r){if(0!==t.length)return e._size=t.slice(0),e._data=resize(e._data,e._size,r),e;for(var n=e._data;isArray(n);)n=n[0];return n}function c(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var a=0,o=t.length;a<o;a++)t[a]>n[a]&&(n[a]=t[a],i=!0);i&&s(e,n,r)}return(h.prototype=new e).createDenseMatrix=function(e,t){return new h(e,t)},h.prototype.type="DenseMatrix",h.prototype.isDenseMatrix=!0,h.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},h.prototype.storage=function(){return"dense"},h.prototype.datatype=function(){return this._datatype},h.prototype.create=function(e,t){return new h(e,t)},h.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return function(e,t){if(!isIndex(t))throw new TypeError("Invalid index");{if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new DimensionError(r.length,e._size.length);for(var n=t.min(),i=t.max(),a=0,o=e._size.length;a<o;a++)validateIndex(n[a],e._size[a]),validateIndex(i[a],e._size[a]);return new h(function t(r,n,i,a){var e=a===i-1;var o=n.dimension(a);return(e?o.map(function(e){return validateIndex(e,r.length),r[e]}):o.map(function(e){validateIndex(e,r.length);e=r[e];return t(e,n,i,a+1)})).valueOf()}(e._data,t,r.length,0),e._datatype)}}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();isMatrix(r)?(i=r.size(),r=r.valueOf()):i=arraySize(r);if(o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(a.length<e._size.length)throw new DimensionError(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)u++,s++;r=unsqueeze(r,a.length,u,i)}if(!deepStrictEqual(a,i))throw new DimensionError(a,i,">");o=t.max().map(function(e){return e+1});c(e,o,n);n=a.length;!function r(n,i,a,o,s){var e=s===o-1;var t=i.dimension(s);e?t.forEach(function(e,t){validateIndex(e),n[e]=a[t[0]]}):t.forEach(function(e,t){validateIndex(e),r(n[e],i,a[t[0]],o,s+1)})}(e._data,t,r,n,0)}return e}(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},h.prototype.get=function(e){if(!isArray(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);for(var t=0;t<e.length;t++)validateIndex(e[t],this._size[t]);for(var r=this._data,n=0,i=e.length;n<i;n++){var a=e[n];validateIndex(a,r.length),r=r[a]}return r},h.prototype.set=function(e,t,r){if(!isArray(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new DimensionError(e.length,this._size.length,"<");var n;c(this,e.map(function(e){return e+1}),r);for(var i=this._data,a=0,o=e.length-1;a<o;a++)validateIndex(n=e[a],i.length),i=i[n];return validateIndex(n=e[e.length-1],i.length),i[n]=t,this},h.prototype.resize=function(e,t,r){if(!isCollection(e))throw new TypeError("Array or Matrix expected");e=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return s(r?this.clone():this,e,t)},h.prototype.reshape=function(e,t){var r=t?this.clone():this;r._data=reshape(r._data,e);t=r._size.reduce((e,t)=>e*t);return r._size=processSizesWildcard(e,t),r},h.prototype.clone=function(){return new h({data:clone$1(this._data),size:clone$1(this._size),datatype:this._datatype})},h.prototype.size=function(){return this._size.slice(0)},h.prototype.map=function(t){var i=this,e=function r(e,n){return isArray(e)?e.map(function(e,t){return r(e,n.concat(t))}):t(e,n,i)}(this._data,[]);return new h(e,void 0!==this._datatype?getArrayDataType(e,typeOf):void 0)},h.prototype.forEach=function(t){var i=this;(function r(e,n){isArray(e)?e.forEach(function(e,t){r(e,n.concat(t))}):t(e,n,i)})(this._data,[])},h.prototype[Symbol.iterator]=function*(){yield*function*e(t,r){if(isArray(t))for(var n=0;n<t.length;n++)yield*e(t[n],r.concat(n));else yield{value:t,index:r}}(this._data,[])},h.prototype.rows=function(){var e,t=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(e of this._data)t.push(new h([e],this._datatype));return t},h.prototype.columns=function(){var r=this,n=[],e=this.size();if(2!==e.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,t=0;t<e[1];t++)!function(t){var e=i.map(e=>[e[t]]);n.push(new h(e,r._datatype))}(t);return n},h.prototype.toArray=function(){return clone$1(this._data)},h.prototype.valueOf=function(){return this._data},h.prototype.format=function(e){return format$1(this._data,e)},h.prototype.toString=function(){return format$1(this._data)},h.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},h.prototype.diagonal=function(e){if(e){if(!isNumber(e=isBigNumber(e)?e.toNumber():e)||!isInteger(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=0<e?e:0,r=e<0?-e:0,n=this._size[0],e=this._size[1],i=Math.min(n-r,e-t),a=[],o=0;o<i;o++)a[o]=this._data[o+r][o+t];return new h({data:a,size:[i],datatype:this._datatype})},h.diagonal=function(e,t,r,n){if(!isArray(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(!isNumber(e=isBigNumber(e)?e.toNumber():e)||!isInteger(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(!isNumber(r=isBigNumber(r)?r.toNumber():r)||!isInteger(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var i,a=0<r?r:0,o=r<0?-r:0,s=e[0],u=e[1],c=Math.min(s-o,u-a);if(isArray(t)){if(t.length!==c)throw new Error("Invalid value array length");i=function(e){return t[e]}}else if(isMatrix(t)){r=t.size();if(1!==r.length||r[0]!==c)throw new Error("Invalid matrix length");i=function(e){return t.get([e])}}else i=function(){return t};n=n||(isBigNumber(i(0))?i(0).mul(0):0);var f=[];if(0<e.length)for(var f=resize(f,e,n),l=0;l<c;l++)f[l+o][l+a]=i(l);return new h({data:f,size:[s,u]})},h.fromJSON=function(e){return new h(e)},h.prototype.swapRows=function(e,t){if(!(isNumber(e)&&isInteger(e)&&isNumber(t)&&isInteger(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(t,this._size[0]),h._swapRows(e,t,this._data),this},h._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},h},{isClass:!0});function deepMap(e,t,r){return e&&"function"==typeof e.map?e.map(function(e){return deepMap(e,t)}):t(e)}var n1="number",n2="number, number";function absNumber(e){return Math.abs(e)}function addNumber(e,t){return e+t}function multiplyNumber(e,t){return e*t}function unaryMinusNumber(e){return-e}function nearlyEqual(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;t=e.constructor.max(e.abs(),t.abs());return n.lte(t.times(r))}return!1}function complexEquals(e,t,r){return nearlyEqual$1(e.re,t.re,r)&&nearlyEqual$1(e.im,t.im,r)}absNumber.signature=n1,addNumber.signature=n2,multiplyNumber.signature=n2,unaryMinusNumber.signature=n1;var name$B="equalScalar",dependencies$B=["typed","config"],createEqualScalar=factory(name$B,dependencies$B,e=>{var{typed:e,config:r}=e;return e(name$B,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return nearlyEqual$1(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||nearlyEqual(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return complexEquals(e,t,r.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})});factory(name$B,["typed","config"],e=>{var{typed:e,config:r}=e;return e(name$B,{"number, number":function(e,t){return nearlyEqual$1(e,t,r.epsilon)}})});var name$A="SparseMatrix",dependencies$A=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$A,dependencies$A,e=>{var{typed:M,equalScalar:N,Matrix:e}=e;function S(e,t){if(!(this instanceof S))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e))r=this,i=t,"SparseMatrix"===(n=e).type?(r._values=n._values?clone$1(n._values):void 0,r._index=clone$1(n._index),r._ptr=clone$1(n._ptr),r._size=clone$1(n._size),r._datatype=i||n._datatype):a(r,n.valueOf(),i||n._datatype);else if(e&&isArray(e.index)&&isArray(e.ptr)&&isArray(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(isArray(e))a(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}var r,n,i}function a(e,t,r){e._values=[],e._index=[],e._ptr=[],e._datatype=r;var n=t.length,i=0,a=N,o=0;if(isString(r)&&(a=M.find(N,[r,r])||N,o=M.convert(0,r)),0<n){var s=0;do{e._ptr.push(e._index.length);for(var u=0;u<n;u++){var c,f=t[u];isArray(f)?(0===s&&i<f.length&&(i=f.length),s<f.length&&(a(c=f[s],o)||(e._values.push(c),e._index.push(u)))):(0===s&&i<1&&(i=1),a(f,o)||(e._values.push(f),e._index.push(u)))}}while(++s<i)}e._ptr.push(e._index.length),e._size=[n,i]}function y(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function v(e,t,r,n,i,a,o){i.splice(e,0,n),a.splice(e,0,t);for(var s=r+1;s<o.length;s++)o[s]++}function u(e,t,r,n){var i=n||0,a=N,n=0;isString(e._datatype)&&(a=M.find(N,[e._datatype,e._datatype])||N,n=M.convert(0,e._datatype),i=M.convert(i,e._datatype));var o=!a(i,n),s=e._size[0],u=e._size[1];if(u<r){for(f=u;f<r;f++)if(e._ptr[f]=e._values.length,o)for(p=0;p<s;p++)e._values.push(i),e._index.push(p);e._ptr[r]=e._values.length}else r<u&&(e._ptr.splice(r+1,u-r),e._values.splice(e._ptr[r],e._values.length),e._index.splice(e._ptr[r],e._index.length));if(u=r,s<t){if(o){for(var c=0,f=0;f<u;f++){e._ptr[f]=e._ptr[f]+c;for(var l=e._ptr[f+1]+c,h=0,p=s;p<t;p++,h++)e._values.splice(l+h,0,i),e._index.splice(l+h,0,p),c++}e._ptr[u]=e._values.length}}else if(t<s){var d=0;for(f=0;f<u;f++){e._ptr[f]=e._ptr[f]-d;var m=e._ptr[f],g=e._ptr[f+1]-d;for(l=m;l<g;l++)t-1<(p=e._index[l])&&(e._values.splice(l,1),e._index.splice(l,1),d++)}e._ptr[f]=e._values.length}return e._size[0]=t,e._size[1]=r,e}function t(e,t,r,n,i){for(var a,o=n[0],s=n[1],u=[],c=0;c<o;c++)for(u[c]=[],a=0;a<s;a++)u[c][a]=0;for(a=0;a<s;a++)for(var f=r[a],l=r[a+1],h=f;h<l;h++)u[c=t[h]][a]=e?i?clone$1(e[h]):e[h]:1;return u}return(S.prototype=new e).createSparseMatrix=function(e,t){return new S(e,t)},S.prototype.type="SparseMatrix",S.prototype.isSparseMatrix=!0,S.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},S.prototype.storage=function(){return"sparse"},S.prototype.datatype=function(){return this._datatype},S.prototype.create=function(e,t){return new S(e,t)},S.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},S.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,n,i,a,o=t.size();if(o.length!==e._size.length)throw new DimensionError(o.length,e._size.length);var s=t.min(),u=t.max();for(r=0,n=e._size.length;r<n;r++)validateIndex(s[r],e._size[r]),validateIndex(u[r],e._size[r]);var c=e._values,f=e._index,l=e._ptr,h=t.dimension(0),t=t.dimension(1),p=[],d=[];h.forEach(function(e,t){d[e]=t[0],p[e]=!0});var m=c?[]:void 0,g=[],y=[];return t.forEach(function(e){for(y.push(g.length),i=l[e],a=l[e+1];i<a;i++)r=f[i],!0===p[r]&&(g.push(d[r]),m&&m.push(c[i]))}),y.push(g.length),new S({values:m,index:g,ptr:y,size:o,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();isMatrix(r)?(i=r.size(),r=r.toArray()):i=arraySize(r);if(o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(1!==a.length&&2!==a.length)throw new DimensionError(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)u++,s++;r=unsqueeze(r,a.length,u,i)}if(!deepStrictEqual(a,i))throw new DimensionError(a,i,">");for(var c=t.min()[0],f=t.min()[1],l=i[0],h=i[1],p=0;p<l;p++)for(var d=0;d<h;d++){var m=r[p][d];e.set([p+c,d+f],m,n)}}return e}(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},S.prototype.get=function(e){if(!isArray(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];validateIndex(t,this._size[0]),validateIndex(r,this._size[1]);e=y(t,this._ptr[r],this._ptr[r+1],this._index);return e<this._ptr[r+1]&&this._index[e]===t?this._values[e]:0},S.prototype.set=function(e,t,r){if(!isArray(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=e[0],i=e[1],a=this._size[0],o=this._size[1],s=N,e=0;isString(this._datatype)&&(s=M.find(N,[this._datatype,this._datatype])||N,e=M.convert(0,this._datatype)),(a-1<n||o-1<i)&&(u(this,Math.max(n+1,a),Math.max(i+1,o),r),a=this._size[0],o=this._size[1]),validateIndex(n,a),validateIndex(i,o);o=y(n,this._ptr[i],this._ptr[i+1],this._index);return o<this._ptr[i+1]&&this._index[o]===n?s(t,e)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(o,i,this._values,this._index,this._ptr):this._values[o]=t:v(o,n,i,t,this._values,this._index,this._ptr),this},S.prototype.resize=function(e,t,r){if(!isCollection(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach(function(e){if(!isNumber(e)||!isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$1(n)+")")}),u(r?this.clone():this,n[0],n[1],t)},S.prototype.reshape=function(t,e){if(!isArray(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");t.forEach(function(e){if(!isNumber(e)||!isInteger(e)||e<=-2||0===e)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format$1(t)+")")});var r=this._size[0]*this._size[1];if(r!=(t=processSizesWildcard(t,r))[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var i=[],a=0;a<n._ptr.length;a++)for(var o=0;o<n._ptr[a+1]-n._ptr[a];o++)i.push(a);for(var s=n._values.slice(),u=n._index.slice(),c=0;c<n._index.length;c++){var f=u[c],l=i[c],l=f*n._size[1]+l;i[c]=l%t[1],u[c]=Math.floor(l/t[1])}n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var h=0;h<n._ptr.length;h++)n._ptr[h]=0;for(var p=0;p<s.length;p++){var d=u[p],m=i[p],g=s[p];v(y(d,n._ptr[m],n._ptr[m+1],n._index),d,m,g,n._values,n._index,n._ptr)}return n},S.prototype.clone=function(){return new S({values:this._values?clone$1(this._values):void 0,index:clone$1(this._index),ptr:clone$1(this._ptr),size:clone$1(this._size),datatype:this._datatype})},S.prototype.size=function(){return this._size.slice(0)},S.prototype.map=function(n,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this;return function(e,t,r,n,i,a,o){var s=[],u=[],c=[],f=N,l=0;isString(e._datatype)&&(f=M.find(N,[e._datatype,e._datatype])||N,l=M.convert(0,e._datatype));function h(e,t,r){e=a(e,t,r),f(e,l)||(s.push(e),u.push(t))}for(var p=n;p<=i;p++){c.push(s.length);var d=e._ptr[p],m=e._ptr[p+1];if(o)for(var g=d;g<m;g++){var y=e._index[g];t<=y&&y<=r&&h(e._values[g],y-t,p-n)}else{for(var v={},w=d;w<m;w++){var x=e._index[w];v[x]=e._values[w]}for(var b=t;b<=r;b++){var _=b in v?v[b]:0;h(_,b-t,p-n)}}}return c.push(s.length),new S({values:s,index:u,ptr:c,size:[r-t+1,i-n+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(e,t,r){return n(e,[t,r],i)},e)},S.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=0;i<n;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++){var u=this._index[s];e(this._values[s],[u,i],this)}else{for(var c={},f=a;f<o;f++)c[this._index[f]]=this._values[f];for(var l=0;l<r;l++)e(l in c?c[l]:0,[l,i],this)}}},S.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var r=this._ptr[t],n=this._ptr[t+1],i=r;i<n;i++){var a=this._index[i];yield{value:this._values[i],index:[a,t]}}},S.prototype.toArray=function(){return t(this._values,this._index,this._ptr,this._size,!0)},S.prototype.valueOf=function(){return t(this._values,this._index,this._ptr,this._size,!1)},S.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+format$1(t,e)+" x "+format$1(r,e)+"] density: "+format$1(n,e)+"\n",a=0;a<r;a++)for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++)i+="\n    ("+format$1(this._index[u],e)+", "+format$1(a,e)+") ==> "+(this._values?format$1(this._values[u],e):"X");return i},S.prototype.toString=function(){return format$1(this.toArray())},S.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},S.prototype.diagonal=function(e){if(e){if(!isNumber(e=isBigNumber(e)?e.toNumber():e)||!isInteger(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=0<e?e:0,r=e<0?-e:0,e=this._size[0],n=this._size[1],i=Math.min(e-r,n-t),a=[],o=[],e=[];e[0]=0;for(var s=t;s<n&&a.length<i;s++)for(var u=this._ptr[s],c=this._ptr[s+1],f=u;f<c;f++){var l=this._index[f];if(l===s-t+r){a.push(this._values[f]),o[a.length-1]=l-r;break}}return e.push(a.length),new S({values:a,index:o,ptr:e,size:[i,1]})},S.fromJSON=function(e){return new S(e)},S.diagonal=function(e,t,r,n,i){if(!isArray(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(!isNumber(e=isBigNumber(e)?e.toNumber():e)||!isInteger(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(!isNumber(r=isBigNumber(r)?r.toNumber():r)||!isInteger(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var a=N,o=0;isString(i)&&(a=M.find(N,[i,i])||N,o=M.convert(0,i));var s,u=0<r?r:0,c=r<0?-r:0,r=e[0],f=e[1],l=Math.min(r-c,f-u);if(isArray(t)){if(t.length!==l)throw new Error("Invalid value array length");s=function(e){return t[e]}}else if(isMatrix(t)){e=t.size();if(1!==e.length||e[0]!==l)throw new Error("Invalid matrix length");s=function(e){return t.get([e])}}else s=function(){return t};for(var h=[],p=[],d=[],m=0;m<f;m++){d.push(h.length);var g,y=m-u;0<=y&&y<l&&(a(g=s(y),o)||(p.push(y+c),h.push(g)))}return d.push(h.length),new S({values:h,index:p,ptr:d,size:[r,f]})},S.prototype.swapRows=function(e,t){if(!(isNumber(e)&&isInteger(e)&&isNumber(t)&&isInteger(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(t,this._size[0]),S._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},S._forEachRow=function(e,t,r,n,i){for(var a=n[e],o=n[e+1],s=a;s<o;s++)i(r[s],t[s])},S._swapRows=function(e,t,r,n,i,a){for(var o=0;o<r;o++){var s,u=a[o],c=a[o+1],f=y(e,u,c,i),u=y(t,u,c,i);f<c&&u<c&&i[f]===e&&i[u]===t?n&&(s=n[f],n[f]=n[u],n[u]=s):f<c&&i[f]===e&&(c<=u||i[u]!==t)?(s=n?n[f]:void 0,i.splice(u,0,t),n&&n.splice(u,0,s),i.splice(u<=f?f+1:f,1),n&&n.splice(u<=f?f+1:f,1)):u<c&&i[u]===t&&(c<=f||i[f]!==e)&&(c=n?n[u]:void 0,i.splice(f,0,e),n&&n.splice(f,0,c),i.splice(f<=u?u+1:u,1),n&&n.splice(f<=u?u+1:u,1))}},S},{isClass:!0}),name$z="number",dependencies$z=["typed"];function getNonDecimalNumberParts(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:e,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}function makeNumberFromNonDecimalParts(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++)r+=parseInt(e.fractionalPart[n],e.radix)/Math.pow(e.radix,n+1);t+=r;if(isNaN(t))throw new SyntaxError('String "'+e.input+'" is no valid number');return t}var createNumber=factory(name$z,dependencies$z,e=>{var e=e["typed"],e=e("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=getNonDecimalNumberParts(e);if(t)return makeNumberFromNonDecimalParts(t);var r=0,n=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);n&&(r=Number(n[2]),e=n[1]);t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');if(n){if(2**r-1<t)throw new SyntaxError('String "'.concat(e,'" is out of range'));2**(r-1)<=t&&(t-=2**r)}return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return deepMap(e,this)}});return e.fromJSON=function(e){return parseFloat(e.value)},e}),name$y="bignumber",dependencies$y=["typed","BigNumber"],createBignumber=factory(name$y,dependencies$y,e=>{var{typed:e,BigNumber:i}=e;return e("bignumber",{"":function(){return new i(0)},number:function(e){return new i(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var r=t[2],n=i(t[1]),t=new i(2).pow(Number(r));if(n.gt(t.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));r=new i(2).pow(Number(r)-1);return n.gte(r)?n.sub(t):n}return new i(e)},BigNumber:function(e){return e},Fraction:function(e){return new i(e.n).div(e.d).times(e.s)},null:function(e){return new i(0)},"Array | Matrix":function(e){return deepMap(e,this)}})}),name$x="fraction",dependencies$x=["typed","Fraction"],createFraction=factory(name$x,dependencies$x,e=>{var{typed:e,Fraction:r}=e;return e("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new r(e)},string:function(e){return new r(e)},"number, number":function(e,t){return new r(e,t)},null:function(e){return new r(0)},BigNumber:function(e){return new r(e.toString())},Fraction:function(e){return e},Object:function(e){return new r(e)},"Array | Matrix":function(e){return deepMap(e,this)}})}),name$w="matrix",dependencies$w=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$w,dependencies$w,e=>{var{typed:e,DenseMatrix:n,SparseMatrix:i}=e;return e(name$w,{"":function(){return r([])},string:function(e){return r([],e)},"string, string":function(e,t){return r([],e,t)},Array:function(e){return r(e)},Matrix:function(e){return r(e,e.storage())},"Array | Matrix, string":r,"Array | Matrix, string, string":r});function r(e,t,r){if("dense"===t||"default"===t||void 0===t)return new n(e,r);if("sparse"===t)return new i(e,r);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),name$v="unaryMinus",dependencies$v=["typed"],createUnaryMinus=factory(name$v,dependencies$v,e=>{var e=e["typed"];return e(name$v,{number:unaryMinusNumber,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return deepMap(e,this)}})}),name$u="abs",dependencies$u=["typed"],createAbs=factory(name$u,dependencies$u,e=>{var e=e["typed"];return e(name$u,{number:absNumber,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return deepMap(e,this)},Unit:function(e){return e.abs()}})}),name$t="addScalar",dependencies$t=["typed"],createAddScalar=factory(name$t,dependencies$t,e=>{var e=e["typed"];return e(name$t,{"number, number":addNumber,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");e=e.clone();return e.value=this(e.value,t.value),e.fixPrefix=!1,e}})}),name$s="algorithm11",dependencies$s=["typed","equalScalar"],createAlgorithm11=factory(name$s,dependencies$s,e=>{var{typed:N,equalScalar:S}=e;return function(e,t,r,n){var i=e._values,a=e._index,o=e._ptr,s=e._size,u=e._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var c,f=s[0],l=s[1],h=S,p=0,d=r;"string"==typeof u&&(h=N.find(S,[c=u,c]),p=N.convert(0,c),t=N.convert(t,c),d=N.find(r,[c,c]));for(var m=[],g=[],y=[],v=0;v<l;v++){y[v]=g.length;for(var w=o[v],x=o[v+1],b=w;b<x;b++){var _=a[b],M=n?d(t,i[b]):d(i[b],t);h(M,p)||(g.push(_),m.push(M))}}return y[l]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[f,l],datatype:c})}}),name$r="algorithm14",dependencies$r=["typed"],createAlgorithm14=factory(name$r,dependencies$r,e=>{var c=e["typed"];return function(e,t,r,n){var i,a=e._data,o=e._size,s=e._datatype,u=r;"string"==typeof s&&(t=c.convert(t,i=s),u=c.find(r,[i,i]));n=0<o.length?function e(t,r,n,i,a,o,s){var u=[];if(r===n.length-1)for(var c=0;c<i;c++)u[c]=s?t(o,a[c]):t(a[c],o);else for(var f=0;f<i;f++)u[f]=e(t,r+1,n,n[r+1],a[f],o,s);return u}(u,0,o,o[0],a,t,n):[];return e.createDenseMatrix({data:n,size:clone$1(o),datatype:i})}}),name$q="algorithm01",dependencies$q=["typed"],createAlgorithm01=factory(name$q,dependencies$q,e=>{var M=e["typed"];return function(e,t,r,n){var i=e._data,a=e._size,o=e._datatype,s=t._values,u=t._index,c=t._ptr,f=t._size,t=t._datatype;if(a.length!==f.length)throw new DimensionError(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");for(var l=a[0],h=a[1],o="string"==typeof o&&o===t?o:void 0,p=o?M.find(r,[o,o]):r,d=[],m=0;m<l;m++)d[m]=[];for(var g=[],y=[],v=0;v<h;v++){for(var w=v+1,x=c[v],b=c[v+1],_=x;_<b;_++)g[m=u[_]]=n?p(s[_],i[m][v]):p(i[m][v],s[_]),y[m]=w;for(m=0;m<l;m++)y[m]===w?d[m][v]=g[m]:d[m][v]=i[m][v]}return e.createDenseMatrix({data:d,size:[l,h],datatype:o})}}),name$p="algorithm04",dependencies$p=["typed","equalScalar"],createAlgorithm04=factory(name$p,dependencies$p,e=>{var{typed:I,equalScalar:P}=e;return function(e,t,r){var n=e._values,i=e._index,a=e._ptr,o=e._size,s=e._datatype,u=t._values,c=t._index,f=t._ptr,l=t._size,t=t._datatype;if(o.length!==l.length)throw new DimensionError(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var h,l=o[0],p=o[1],d=P,m=0,g=r;"string"==typeof s&&s===t&&(d=I.find(P,[h=s,h]),m=I.convert(0,h),g=I.find(r,[h,h]));for(var y=n&&u?[]:void 0,v=[],w=[],x=n&&u?[]:void 0,b=n&&u?[]:void 0,_=[],M=[],N=0;N<p;N++){w[N]=v.length;for(var S,E,A=N+1,$=a[N],O=a[N+1],D=$;D<O;D++)E=i[D],v.push(E),_[E]=A,x&&(x[E]=n[D]);for($=f[N],O=f[N+1],D=$;D<O;D++)_[E=c[D]]===A?x&&(d(S=g(x[E],u[D]),m)?_[E]=null:x[E]=S):(v.push(E),M[E]=A,b&&(b[E]=u[D]));if(x&&b)for(D=w[N];D<v.length;)_[E=v[D]]===A?(y[D]=x[E],D++):M[E]===A?(y[D]=b[E],D++):v.splice(D,1)}return w[p]=v.length,e.createSparseMatrix({values:y,index:v,ptr:w,size:[l,p],datatype:h})}}),name$o="algorithm10",dependencies$o=["typed","DenseMatrix"],createAlgorithm10=factory(name$o,dependencies$o,e=>{var{typed:_,DenseMatrix:M}=e;return function(e,t,r,n){var i=e._values,a=e._index,o=e._ptr,s=e._size,e=e._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,c=s[0],f=s[1],l=r;"string"==typeof e&&(t=_.convert(t,u=e),l=_.find(r,[u,u]));for(var h=[],p=[],d=[],m=0;m<f;m++){for(var g=m+1,y=o[m],v=o[m+1],w=y;w<v;w++){var x=a[w];p[x]=i[w],d[x]=g}for(var b=0;b<c;b++)0===m&&(h[b]=[]),d[b]===g?h[b][m]=n?l(t,p[b]):l(p[b],t):h[b][m]=t}return new M({data:h,size:[c,f],datatype:u})}}),name$n="algorithm13",dependencies$n=["typed"],createAlgorithm13=factory(name$n,dependencies$n,e=>{var h=e["typed"];return function(e,t,r){var n=e._data,i=e._size,a=e._datatype,o=t._data,s=t._size,u=t._datatype,c=[];if(i.length!==s.length)throw new DimensionError(i.length,s.length);for(var f,l=0;l<i.length;l++){if(i[l]!==s[l])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+s+")");c[l]=i[l]}t=r;"string"==typeof a&&a===u&&(t=h.find(r,[f=a,f]));o=0<c.length?function e(t,r,n,i,a,o){var s=[];if(r===n.length-1)for(var u=0;u<i;u++)s[u]=t(a[u],o[u]);else for(var c=0;c<i;c++)s[c]=e(t,r+1,n,n[r+1],a[c],o[c]);return s}(t,0,c,c[0],n,o):[];return e.createDenseMatrix({data:o,size:c,datatype:f})}}),name$m="algorithm03",dependencies$m=["typed"],createAlgorithm03=factory(name$m,dependencies$m,e=>{var A=e["typed"];return function(e,t,r,n){var i=e._data,a=e._size,o=e._datatype,s=t._values,u=t._index,c=t._ptr,f=t._size,t=t._datatype;if(a.length!==f.length)throw new DimensionError(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var l,h=a[0],p=a[1],d=0,m=r;"string"==typeof o&&o===t&&(d=A.convert(0,l=o),m=A.find(r,[l,l]));for(var g=[],y=0;y<h;y++)g[y]=[];for(var v=[],w=[],x=0;x<p;x++){for(var b=x+1,_=c[x],M=c[x+1],N=_;N<M;N++){var S=u[N];v[S]=n?m(s[N],i[S][x]):m(i[S][x],s[N]),w[S]=b}for(var E=0;E<h;E++)w[E]===b?g[E][x]=v[E]:g[E][x]=n?m(d,i[E][x]):m(i[E][x],d)}return e.createDenseMatrix({data:g,size:[h,p],datatype:l})}}),name$l="algorithm05",dependencies$l=["typed","equalScalar"],createAlgorithm05=factory(name$l,dependencies$l,e=>{var{typed:I,equalScalar:P}=e;return function(e,t,r){var n=e._values,i=e._index,a=e._ptr,o=e._size,s=e._datatype,u=t._values,c=t._index,f=t._ptr,l=t._size,t=t._datatype;if(o.length!==l.length)throw new DimensionError(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var h,l=o[0],p=o[1],d=P,m=0,g=r;"string"==typeof s&&s===t&&(d=I.find(P,[h=s,h]),m=I.convert(0,h),g=I.find(r,[h,h]));for(var y=n&&u?[]:void 0,v=[],w=[],x=y?[]:void 0,b=y?[]:void 0,_=[],M=[],N=0;N<p;N++){w[N]=v.length;for(var S=N+1,E=a[N],A=a[N+1];E<A;E++)$=i[E],v.push($),_[$]=S,x&&(x[$]=n[E]);for(E=f[N],A=f[N+1];E<A;E++)_[$=c[E]]!==S&&v.push($),M[$]=S,b&&(b[$]=u[E]);if(y)for(E=w[N];E<v.length;){var $,O=_[$=v[E]],D=M[$];O!==S&&D!==S||(d(D=g(O===S?x[$]:m,D===S?b[$]:m),m)?v.splice(E,1):(y.push(D),E++))}}return w[p]=v.length,e.createSparseMatrix({values:y,index:v,ptr:w,size:[l,p],datatype:h})}}),name$k="algorithm12",dependencies$k=["typed","DenseMatrix"],createAlgorithm12=factory(name$k,dependencies$k,e=>{var{typed:_,DenseMatrix:M}=e;return function(e,t,r,n){var i=e._values,a=e._index,o=e._ptr,s=e._size,e=e._datatype;if(!i)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var u,c=s[0],f=s[1],l=r;"string"==typeof e&&(t=_.convert(t,u=e),l=_.find(r,[u,u]));for(var h=[],p=[],d=[],m=0;m<f;m++){for(var g=m+1,y=o[m],v=o[m+1],w=y;w<v;w++){var x=a[w];p[x]=i[w],d[x]=g}for(var b=0;b<c;b++)0===m&&(h[b]=[]),d[b]===g?h[b][m]=n?l(t,p[b]):l(p[b],t):h[b][m]=n?l(t,0):l(0,t)}return new M({data:h,size:[c,f],datatype:u})}}),name$j="multiplyScalar",dependencies$j=["typed"],createMultiplyScalar=factory(name$j,dependencies$j,e=>{var e=e["typed"];return e("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){t=t.clone();return t.value=null===t.value?t._normalize(e):this(t.value,e),t},"Unit, number | Fraction | BigNumber | Complex":function(e,t){e=e.clone();return e.value=null===e.value?e._normalize(t):this(e.value,t),e},"Unit, Unit":function(e,t){return e.multiply(t)}})}),name$i="multiply",dependencies$i=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$i,dependencies$i,e=>{var{typed:B,matrix:r,addScalar:C,multiplyScalar:F,equalScalar:z,dot:i}=e,n=createAlgorithm11({typed:B,equalScalar:z}),a=createAlgorithm14({typed:B});function o(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function s(e,t){if("dense"!==t.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,t){var r,n=e._data,i=e._size,a=e._datatype,o=t._data,s=t._size,t=t._datatype,u=i[0],c=s[1],f=C,l=F;a&&t&&a===t&&"string"==typeof a&&(r=a,f=B.find(C,[r,r]),l=B.find(F,[r,r]));for(var h=[],p=0;p<c;p++){for(var d=l(n[0],o[0][p]),m=1;m<u;m++)d=f(d,l(n[m],o[m][p]));h[p]=d}return e.createDenseMatrix({data:h,size:[c],datatype:r})}(e,t)}var u=B("_multiplyMatrixVector",{"DenseMatrix, any":function(e,t){var r,n=e._data,i=e._size,a=e._datatype,o=t._data,t=t._datatype,s=i[0],u=i[1],c=C,f=F;a&&t&&a===t&&"string"==typeof a&&(r=a,c=B.find(C,[r,r]),f=B.find(F,[r,r]));for(var l=[],h=0;h<s;h++){for(var p=n[h],d=f(p[0],o[0]),m=1;m<u;m++)d=c(d,f(p[m],o[m]));l[h]=d}return e.createDenseMatrix({data:l,size:[s],datatype:r})},"SparseMatrix, any":function(e,t){var r=e._values,n=e._index,i=e._ptr,a=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var o,s=t._data,u=t._datatype,c=e._size[0],f=t._size[0],l=[],h=[],t=[],p=C,d=F,m=z,g=0;a&&u&&a===u&&"string"==typeof a&&(o=a,p=B.find(C,[o,o]),d=B.find(F,[o,o]),m=B.find(z,[o,o]),g=B.convert(0,o));for(var y=[],v=[],w=t[0]=0;w<f;w++){var x=s[w];if(!m(x,g))for(var b=i[w],_=i[w+1],M=b;M<_;M++){var N=n[M];v[N]?y[N]=p(y[N],d(x,r[M])):(v[N]=!0,h.push(N),y[N]=d(x,r[M]))}}for(var S=h.length,E=0;E<S;E++){var A=h[E];l[E]=y[A]}return t[1]=h.length,e.createSparseMatrix({values:l,index:h,ptr:t,size:[c,1],datatype:o})}}),c=B("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,t){var r,n=e._data,i=e._size,a=e._datatype,o=t._data,s=t._size,t=t._datatype,u=i[0],c=i[1],f=s[1],l=C,h=F;a&&t&&a===t&&"string"==typeof a&&(r=a,l=B.find(C,[r,r]),h=B.find(F,[r,r]));for(var p=[],d=0;d<u;d++){var m=n[d];p[d]=[];for(var g=0;g<f;g++){for(var y=h(m[0],o[0][g]),v=1;v<c;v++)y=l(y,h(m[v],o[v][g]));p[d][g]=y}}return e.createDenseMatrix({data:p,size:[u,f],datatype:r})},"DenseMatrix, SparseMatrix":function(e,t){var r=e._data,n=e._size,i=e._datatype,a=t._values,o=t._index,s=t._ptr,u=t._size,e=t._datatype;if(!a)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var c=n[0],f=u[1],l=C,h=F,p=z,d=0;i&&e&&i===e&&"string"==typeof i&&(v=i,l=B.find(C,[v,v]),h=B.find(F,[v,v]),p=B.find(z,[v,v]),d=B.convert(0,v));for(var m=[],g=[],y=[],v=t.createSparseMatrix({values:m,index:g,ptr:y,size:[c,f],datatype:v}),w=0;w<f;w++){y[w]=g.length;var x=s[w],b=s[w+1];if(x<b)for(var _=0,M=0;M<c;M++){for(var N=M+1,S=void 0,E=x;E<b;E++){var A=o[E];_!==N?(S=h(r[M][A],a[E]),_=N):S=l(S,h(r[M][A],a[E]))}_!==N||p(S,d)||(g.push(M),m.push(S))}}return y[f]=g.length,v},"SparseMatrix, DenseMatrix":function(e,t){var r=e._values,n=e._index,i=e._ptr,a=e._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var o=t._data,s=t._datatype,u=e._size[0],c=t._size[0],f=t._size[1],l=C,h=F,p=z,d=0;a&&s&&a===s&&"string"==typeof a&&(v=a,l=B.find(C,[v,v]),h=B.find(F,[v,v]),p=B.find(z,[v,v]),d=B.convert(0,v));for(var m=[],g=[],y=[],v=e.createSparseMatrix({values:m,index:g,ptr:y,size:[u,f],datatype:v}),w=[],x=[],b=0;b<f;b++){y[b]=g.length;for(var _=b+1,M=0;M<c;M++){var N=o[M][b];if(!p(N,d))for(var S=i[M],E=i[M+1],A=S;A<E;A++){var $=n[A];x[$]!==_?(x[$]=_,g.push($),w[$]=h(N,r[A])):w[$]=l(w[$],h(N,r[A]))}}for(var O=y[b],D=g.length,I=O;I<D;I++){var P=g[I];m[I]=w[P]}}return y[f]=g.length,v},"SparseMatrix, SparseMatrix":function(e,t){var r=e._values,n=e._index,i=e._ptr,a=e._datatype,o=t._values,s=t._index,u=t._ptr,c=t._datatype,f=e._size[0],l=t._size[1],h=r&&o,p=C,d=F;a&&c&&a===c&&"string"==typeof a&&(S=a,p=B.find(C,[S,S]),d=B.find(F,[S,S]));for(var m,g,y,v,w,x,b,_=h?[]:void 0,M=[],N=[],S=e.createSparseMatrix({values:_,index:M,ptr:N,size:[f,l],datatype:S}),E=h?[]:void 0,A=[],$=0;$<l;$++){N[$]=M.length;var O=$+1;for(D=u[$],w=u[$+1],v=D;v<w;v++)if(b=s[v],h)for(g=i[b],y=i[b+1],m=g;m<y;m++)x=n[m],A[x]!==O?(A[x]=O,M.push(x),E[x]=d(o[v],r[m])):E[x]=p(E[x],d(o[v],r[m]));else for(g=i[b],y=i[b+1],m=g;m<y;m++)x=n[m],A[x]!==O&&(A[x]=O,M.push(x));if(h)for(var D=N[$],I=M.length,P=D;P<I;P++){var z=M[P];_[P]=E[z]}}return N[l]=M.length,S}});return B(name$i,extend({"Array, Array":function(e,t){o(arraySize(e),arraySize(t));t=this(r(e),r(t));return isMatrix(t)?t.valueOf():t},"Matrix, Matrix":function(e,t){var r=e.size(),n=t.size();return o(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return i(e,t)}(e,t,r[0]):s(e,t):(1===n.length?u:c)(e,t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Array, Matrix":function(e,t){return this(r(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return n(e,t,F,!1)},"DenseMatrix, any":function(e,t){return a(e,t,F,!1)},"any, SparseMatrix":function(e,t){return n(t,e,F,!0)},"any, DenseMatrix":function(e,t){return a(t,e,F,!0)},"Array, any":function(e,t){return a(r(e),t,F,!1).valueOf()},"any, Array":function(e,t){return a(r(t),e,F,!0).valueOf()},"any, any":F,"any, any, ...any":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}},F.signatures))}),name$h="subtract",dependencies$h=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],createSubtract=factory(name$h,dependencies$h,e=>{var{typed:t,matrix:r,equalScalar:n,addScalar:i,unaryMinus:a,DenseMatrix:e}=e,o=createAlgorithm01({typed:t}),s=createAlgorithm03({typed:t}),u=createAlgorithm05({typed:t,equalScalar:n}),c=createAlgorithm10({typed:t,DenseMatrix:e}),f=createAlgorithm13({typed:t}),l=createAlgorithm14({typed:t});return t(name$h,{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");e=e.clone();return e.value=this(e.value,t.value),e.fixPrefix=!1,e},"SparseMatrix, SparseMatrix":function(e,t){return checkEqualDimensions(e,t),u(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return checkEqualDimensions(e,t),s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return checkEqualDimensions(e,t),o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return checkEqualDimensions(e,t),f(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return c(e,a(t),i)},"DenseMatrix, any":function(e,t){return l(e,t,this)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, any":function(e,t){return l(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,this,!0).valueOf()}})});function checkEqualDimensions(e,t){e=e.size(),t=t.size();if(e.length!==t.length)throw new DimensionError(e.length,t.length)}var name$g="algorithm07",dependencies$g=["typed","DenseMatrix"],createAlgorithm07=factory(name$g,dependencies$g,e=>{var{typed:x,DenseMatrix:b}=e;return function(e,t,r){var n=e._size,i=e._datatype,a=t._size,o=t._datatype;if(n.length!==a.length)throw new DimensionError(n.length,a.length);if(n[0]!==a[0]||n[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+n+") must match Matrix B ("+a+")");var s,u=n[0],c=n[1],f=0,l=r;"string"==typeof i&&i===o&&(f=x.convert(0,s=i),l=x.find(r,[s,s]));for(var h=[],p=0;p<u;p++)h[p]=[];for(var d=[],m=[],g=[],y=[],v=0;v<c;v++){var w=v+1;for(_(e,v,g,d,w),_(t,v,y,m,w),p=0;p<u;p++)h[p][v]=l(g[p]===w?d[p]:f,y[p]===w?m[p]:f)}return new b({data:h,size:[u,c],datatype:s})};function _(e,t,r,n,i){for(var a=e._values,o=e._index,e=e._ptr,s=e[t],u=e[t+1];s<u;s++){var c=o[s];r[c]=i,n[c]=a[s]}}}),name$f="conj",dependencies$f=["typed"],createConj=factory(name$f,dependencies$f,e=>{var e=e["typed"];return e(name$f,{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return deepMap(e,this)}})}),name$e="identity",dependencies$e=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$e,dependencies$e,e=>{var{typed:e,config:r,matrix:n,BigNumber:c,DenseMatrix:f,SparseMatrix:l}=e;return e(name$e,{"":function(){return"Matrix"===r.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return a(e,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return a(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return a(e,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":a,Array:function(e){return i(e)},"Array, string":i,Matrix:function(e){return i(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return a(e[0],e[0],t);case 2:return a(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function a(e,t,r){var n=isBigNumber(e)||isBigNumber(t)?c:null;if(isBigNumber(e)&&(e=e.toNumber()),isBigNumber(t)&&(t=t.toNumber()),!isInteger(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var i=n?new c(1):1,a=n?new n(0):0,n=[e,t];if(r){if("sparse"===r)return l.diagonal(n,i,0,a);if("dense"===r)return f.diagonal(n,i,0,a);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var o=resize([],n,a),s=e<t?e:t,u=0;u<s;u++)o[u][u]=i;return o}});function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$d="size",dependencies$d=["typed","config","?matrix"],createSize=factory(name$d,dependencies$d,e=>{var{typed:e,config:t,matrix:r}=e;return e(name$d,{Matrix:function(e){return e.create(e.size())},Array:arraySize,string:function(e){return"Array"===t.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:r?r([]):noMatrix()}})}),name$c="format",dependencies$c=["typed"],createFormat=factory(name$c,dependencies$c,e=>{var e=e["typed"];return e(name$c,{any:format$1,"any, Object | function | number":format$1})}),name$b="numeric",dependencies$b=["number","?bignumber","?fraction"],createNumeric=factory(name$b,dependencies$b,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:e=>t(e),BigNumber:r?e=>r(e):noBignumber,Fraction:n?e=>n(e):noFraction};return function(e,t){var r=typeOf(e);if(!(r in i))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===r?e:a[t](e)}}),name$a="divideScalar",dependencies$a=["typed","numeric"],createDivideScalar=factory(name$a,dependencies$a,e=>{var{typed:e,numeric:i}=e;return e(name$a,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var r=e.clone(),e=i(1,typeOf(t));return r.value=this(null===r.value?r._normalize(e):r.value,t),r},"number | Fraction | BigNumber, Unit":function(e,t){var r=(r=t.clone()).pow(-1),n=i(1,typeOf(e));return r.value=this(e,null===t.value?t._normalize(n):t.value),r},"Unit, Unit":function(e,t){return e.divide(t)}})}),name$9="smaller",dependencies$9=["typed","config","matrix","DenseMatrix"],createSmaller=factory(name$9,dependencies$9,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:e}=e,i=createAlgorithm03({typed:t}),a=createAlgorithm07({typed:t,DenseMatrix:e}),o=createAlgorithm12({typed:t,DenseMatrix:e}),s=createAlgorithm13({typed:t}),u=createAlgorithm14({typed:t});return t(name$9,{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!nearlyEqual$1(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!nearlyEqual(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})}),name$8="larger",dependencies$8=["typed","config","matrix","DenseMatrix"],createLarger=factory(name$8,dependencies$8,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:e}=e,i=createAlgorithm03({typed:t}),a=createAlgorithm07({typed:t,DenseMatrix:e}),o=createAlgorithm12({typed:t,DenseMatrix:e}),s=createAlgorithm13({typed:t}),u=createAlgorithm14({typed:t});return t(name$8,{"boolean, boolean":function(e,t){return t<e},"number, number":function(e,t){return t<e&&!nearlyEqual$1(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!nearlyEqual(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,this,!0).valueOf()}})}),name$7="FibonacciHeap",dependencies$7=["smaller","larger"],createFibonacciHeapClass=factory(name$7,dependencies$7,e=>{var{smaller:l,larger:h}=e,p=1/Math.log((1+Math.sqrt(5))/2);function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function i(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,((e.right=t).right.left=t).parent=null,t.mark=!1}t.prototype.type="FibonacciHeap",t.prototype.isFibonacciHeap=!0,t.prototype.insert=function(e,t){var r={key:e,value:t,degree:0};return this._minimum?(t=this._minimum,r.left=t,r.right=t.right,(t.right=r).right.left=r,l(e,t.key)&&(this._minimum=r)):((r.left=r).right=r,this._minimum=r),this._size++,r},t.prototype.size=function(){return this._size},t.prototype.clear=function(){this._minimum=null,this._size=0},t.prototype.isEmpty=function(){return 0===this._size},t.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,r=e.degree,n=e.child;0<r;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,((t.right=n).right.left=n).parent=null,n=i,r--}return e.left.right=e.right,e.right.left=e.left,t=e===e.right?null:function(e,t){var r,n=Math.floor(Math.log(t)*p)+1,i=new Array(n),a=0,o=e;if(o)for(a++,o=o.right;o!==e;)a++,o=o.right;for(;0<a;){for(var s,u=o.degree,c=o.right;;){if(!(r=i[u]))break;h(o.key,r.key)&&(s=r,r=o,o=s),d(r,o),i[u]=null,u++}i[u]=o,o=c,a--}e=null;for(var f=0;f<n;f++)(r=i[f])&&(e?(r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,(e.right=r).right.left=r,l(r.key,e.key)&&(e=r)):e=r);return e}(t=e.right,this._size),this._size--,this._minimum=t,e},t.prototype.remove=function(e){this._minimum=function(e,t,r){t.key=r;r=t.parent;r&&l(t.key,r.key)&&(i(e,t,r),function e(t,r){var n=r.parent;if(!n)return;r.mark?(i(t,r,n),e(n)):r.mark=!0}(e,r));l(t.key,e.key)&&(e=t);return e}(this._minimum,e,-1),this.extractMinimum()};var d=function(e,t){e.left.right=e.right,e.right.left=e.left,(e.parent=t).child?(e.left=t.child,e.right=t.child.right,(t.child.right=e).right.left=e):((t.child=e).right=e).left=e,t.degree++,e.mark=!1};return t},{isClass:!0}),name$6="Spa",dependencies$6=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=factory(name$6,dependencies$6,e=>{var{addScalar:n,equalScalar:c,FibonacciHeap:t}=e;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t}return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(e,t){this._values[e]?this._values[e].value=t:(t=this._heap.insert(e,t),this._values[e]=t)},r.prototype.get=function(e){e=this._values[e];return e?e.value:0},r.prototype.accumulate=function(e,t){var r=this._values[e];r?r.value=n(r.value,t):(r=this._heap.insert(e,t),this._values[e]=r)},r.prototype.forEach=function(e,t,r){var n=this._heap,i=this._values,a=[];for((s=n.extractMinimum())&&a.push(s);s&&s.key<=t;)s.key>=e&&(c(s.value,0)||r(s.key,s.value,this)),(s=n.extractMinimum())&&a.push(s);for(var o=0;o<a.length;o++){var s,u=a[o];i[(s=n.insert(u.key,u.value)).key]=s}},r.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];!r&&n?(r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0):r&&!n?(n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0):r&&n&&(e=r.value,r.value=n.value,n.value=e)},r},{isClass:!0}),name$5="add",dependencies$5=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],createAdd=factory(name$5,dependencies$5,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:e}=e,a=createAlgorithm01({typed:t}),o=createAlgorithm04({typed:t,equalScalar:i}),s=createAlgorithm10({typed:t,DenseMatrix:e}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$5,extend({"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,n)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,n,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,n,!0)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return c(e,t,n,!1)},"SparseMatrix, any":function(e,t){return s(e,t,n,!1)},"any, DenseMatrix":function(e,t){return c(t,e,n,!0)},"any, SparseMatrix":function(e,t){return s(t,e,n,!0)},"Array, any":function(e,t){return c(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(e,t,r){for(var n=this(e,t),i=0;i<r.length;i++)n=this(n,r[i]);return n}},n.signatures))}),name$4="dot",dependencies$4=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$4,dependencies$4,e=>{var{typed:y,addScalar:v,multiplyScalar:w,conj:x,size:t}=e;return y(name$4,{"Array | DenseMatrix, Array | DenseMatrix":function(e,t){var r=b(e,t),n=isMatrix(e)?e._data:e,i=isMatrix(e)?e._datatype:void 0,a=isMatrix(t)?t._data:t,o=isMatrix(t)?t._datatype:void 0,e=2===_(e).length,t=2===_(t).length,s=v,u=w;i&&o&&i===o&&"string"==typeof i&&(i=i,s=y.find(v,[i,i]),u=y.find(w,[i,i]));if(!e&&!t){for(var c=u(x(n[0]),a[0]),f=1;f<r;f++)c=s(c,u(x(n[f]),a[f]));return c}if(!e&&t){for(var l=u(x(n[0]),a[0][0]),h=1;h<r;h++)l=s(l,u(x(n[h]),a[h][0]));return l}if(e&&!t){for(var p=u(x(n[0][0]),a[0]),d=1;d<r;d++)p=s(p,u(x(n[d][0]),a[d]));return p}if(e&&t){for(var m=u(x(n[0][0]),a[0][0]),g=1;g<r;g++)m=s(m,u(x(n[g][0]),a[g][0]));return m}},"SparseMatrix, SparseMatrix":function(e,t){b(e,t);var r=e._index,n=e._values,i=t._index,a=t._values,o=0,s=v,u=w,c=0,f=0;for(;c<r.length&&f<i.length;){var l=r[c],h=i[f];l<h?c++:h<l?f++:l===h&&(o=s(o,u(n[c],a[f])),c++,f++)}return o}});function b(e,t){var r,n,e=_(e),t=_(t);if(1===e.length)r=e[0];else{if(2!==e.length||1!==e[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+e.join(", ")+")");r=e[0]}if(1===t.length)n=t[0];else{if(2!==t.length||1!==t[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+t.join(", ")+")");n=t[0]}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function _(e){return isMatrix(e)?e.size():t(e)}}),name$3="lup",dependencies$3=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=factory(name$3,dependencies$3,e=>{var{typed:e,matrix:t,abs:E,addScalar:b,divideScalar:A,multiplyScalar:$,subtract:_,larger:O,equalScalar:D,unaryMinus:I,DenseMatrix:M,SparseMatrix:P,Spa:z}=e;return e(name$3,{DenseMatrix:r,SparseMatrix:function(e){var c,f,l,h=e._size[0],t=e._size[1],r=Math.min(h,t),p=e._values,d=e._index,m=e._ptr,g=[],y=[],v=[],w=[h,r],x=[],b=[],_=[],M=[r,t],N=[],S=[];for(c=0;c<h;c++)N[c]=c,S[c]=c;function n(){var i=new z;f<h&&(v.push(g.length),g.push(1),y.push(f)),_.push(x.length);var e=m[f],t=m[f+1];for(l=e;l<t;l++)c=d[l],i.set(N[c],p[l]);0<f&&i.forEach(0,f-1,function(r,n){P._forEachRow(r,g,y,v,function(e,t){r<e&&i.accumulate(e,I($(t,n)))})});var r,n,a,o=f,s=i.get(f),u=E(s);i.forEach(f+1,h-1,function(e,t){var r=E(t);O(r,u)&&(o=e,u=r,s=t)}),f!==o&&(P._swapRows(f,o,w[1],g,y,v),P._swapRows(f,o,M[1],x,b,_),i.swap(f,o),n=o,a=S[r=f],e=S[n],N[a]=n,N[e]=r,S[r]=e,S[n]=a),i.forEach(0,h-1,function(e,t){e<=f?(x.push(t),b.push(e)):(t=A(t,s),D(t,0)||(g.push(t),y.push(e)))})}for(f=0;f<t;f++)n();return _.push(x.length),v.push(g.length),{L:new P({values:g,index:y,ptr:v,size:w}),U:new P({values:x,index:b,ptr:_,size:M}),p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},Array:function(e){e=r(t(e));return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}});function r(e){var t,r=e._size[0],n=e._size[1],i=Math.min(r,n),a=clone$1(e._data),o=[],s=[r,i],u=[],e=[i,n],c=[];for(g=0;g<r;g++)c[g]=g;for(t=0;t<n;t++){if(0<t)for(g=0;g<r;g++){for(var f=Math.min(g,t),l=0,h=0;h<f;h++)l=b(l,$(a[g][h],a[h][t]));a[g][t]=_(a[g][t],l)}for(var p=t,d=0,m=0,g=t;g<r;g++){var y=a[g][t],v=E(y);O(v,d)&&(p=g,d=v,m=y)}if(t!==p&&(c[t]=[c[p],c[p]=c[t]][0],M._swapRows(t,p,a)),t<r)for(g=t+1;g<r;g++){var w=a[g][t];D(w,0)||(a[g][t]=A(a[g][t],m))}}for(t=0;t<n;t++)for(g=0;g<r;g++)0===t&&(g<n&&(u[g]=[]),o[g]=[]),g<t?(g<n&&(u[g][t]=a[g][t]),t<r&&(o[g][t]=0)):g!==t?(g<n&&(u[g][t]=0),t<r&&(o[g][t]=a[g][t])):(g<n&&(u[g][t]=a[g][t]),t<r&&(o[g][t]=1));var s=new M({data:o,size:s}),e=new M({data:u,size:e}),x=[];for(g=0,i=c.length;g<i;g++)x[c[g]]=g;return{L:s,U:e,p:x,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),name$2="det",dependencies$2=["typed","matrix","subtract","multiply","unaryMinus","lup"],createDet=factory(name$2,dependencies$2,e=>{var{typed:e,matrix:n,subtract:f,multiply:l,unaryMinus:h,lup:p}=e;return e(name$2,{any:function(e){return clone$1(e)},"Array | Matrix":function(e){var t=isMatrix(e)?e.size():Array.isArray(e)?(e=n(e)).size():[];switch(t.length){case 0:return clone$1(e);case 1:if(1===t[0])return clone$1(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+format$1(t)+")");case 2:var r=t[0];if(r===t[1])return function(e,t){{if(1===t)return clone$1(e[0][0]);if(2===t)return f(l(e[0][0],e[1][1]),l(e[1][0],e[0][1]));for(var r=p(e),n=r.U[0][0],i=1;i<t;i++)n=l(n,r.U[i][i]);for(var a=0,o=0,s=[];;){for(;s[o];)o++;if(t<=o)break;for(var u=o,c=0;!s[r.p[u]];)s[r.p[u]]=!0,u=r.p[u],c++;c%2==0&&a++}return a%2==0?n:h(n)}}(e.clone().valueOf(),r);throw new RangeError("Matrix must be square (size: "+format$1(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(t)+")")}}})}),name$1="inv",dependencies$1=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name$1,dependencies$1,e=>{var{typed:e,matrix:i,divideScalar:y,addScalar:v,multiply:w,unaryMinus:x,det:b,identity:_,abs:M}=e;return e(name$1,{"Array | Matrix":function(e){var t=isMatrix(e)?e.size():arraySize(e);switch(t.length){case 1:if(1===t[0])return isMatrix(e)?i([y(1,e.valueOf()[0])]):[y(1,e[0])];throw new RangeError("Matrix must be square (size: "+format$1(t)+")");case 2:var r=t[0],n=t[1];if(r===n)return isMatrix(e)?i(a(e.valueOf(),r,n),e.storage()):a(e,r,n);throw new RangeError("Matrix must be square (size: "+format$1(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+format$1(t)+")")}},any:function(e){return y(1,e)}});function a(e,t,r){var n,i,a;if(1===t){if(0===(o=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[y(1,o)]]}if(2===t){var o=b(e);if(0===o)throw Error("Cannot calculate inverse, determinant is zero");return[[y(e[1][1],o),y(x(e[0][1]),o)],[y(x(e[1][0]),o),y(e[0][0],o)]]}var s=e.concat();for(h=0;h<t;h++)s[h]=s[h].concat();for(var u=_(t).valueOf(),c=0;c<r;c++){for(var f=M(s[c][c]),l=c,h=c+1;h<t;)M(s[h][c])>f&&(f=M(s[h][c]),l=h),h++;if(0===f)throw Error("Cannot calculate inverse, determinant is zero");(h=l)!==c&&(a=s[c],s[c]=s[h],s[h]=a,a=u[c],u[c]=u[h],u[h]=a);var p=s[c],d=u[c];for(h=0;h<t;h++){var m=s[h],g=u[h];if(h!==c){if(0!==m[c]){for(i=y(x(m[c]),p[c]),n=c;n<r;n++)m[n]=v(m[n],w(i,p[n]));for(n=0;n<r;n++)g[n]=v(g[n],w(i,d[n]))}}else{for(i=p[c],n=c;n<r;n++)m[n]=y(m[n],i);for(n=0;n<r;n++)g[n]=y(g[n],i)}}}return u}}),name="divide",dependencies=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=factory(name,dependencies,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:e,divideScalar:i,inv:a}=e,o=createAlgorithm11({typed:t,equalScalar:e}),s=createAlgorithm14({typed:t});return t("divide",extend({"Array | Matrix, Array | Matrix":function(e,t){return n(e,a(t))},"DenseMatrix, any":function(e,t){return s(e,t,i,!1)},"SparseMatrix, any":function(e,t){return o(e,t,i,!1)},"Array, any":function(e,t){return s(r(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return n(e,a(t))}},i.signatures))}),BigNumber=createBigNumberClass({config:config$1}),Complex=createComplexClass({}),Fraction=createFractionClass({}),Matrix=createMatrixClass({}),DenseMatrix=createDenseMatrixClass({Matrix:Matrix}),typed=createTyped({BigNumber:BigNumber,Complex:Complex,DenseMatrix:DenseMatrix,Fraction:Fraction}),abs=createAbs({typed:typed}),addScalar=createAddScalar({typed:typed}),bignumber=createBignumber({BigNumber:BigNumber,typed:typed}),conj=createConj({typed:typed}),equalScalar=createEqualScalar({config:config$1,typed:typed}),format=createFormat({typed:typed}),multiplyScalar=createMultiplyScalar({typed:typed}),number=createNumber({typed:typed}),SparseMatrix=createSparseMatrixClass({Matrix:Matrix,equalScalar:equalScalar,typed:typed}),unaryMinus=createUnaryMinus({typed:typed}),fraction=createFraction({Fraction:Fraction,typed:typed}),matrix=createMatrix({DenseMatrix:DenseMatrix,Matrix:Matrix,SparseMatrix:SparseMatrix,typed:typed}),numeric=createNumeric({bignumber:bignumber,fraction:fraction,number:number}),size=createSize({matrix:matrix,config:config$1,typed:typed}),smaller=createSmaller({DenseMatrix:DenseMatrix,config:config$1,matrix:matrix,typed:typed}),subtract=createSubtract({DenseMatrix:DenseMatrix,addScalar:addScalar,equalScalar:equalScalar,matrix:matrix,typed:typed,unaryMinus:unaryMinus}),divideScalar=createDivideScalar({numeric:numeric,typed:typed}),add=createAdd({DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,addScalar:addScalar,equalScalar:equalScalar,matrix:matrix,typed:typed}),dot=createDot({addScalar:addScalar,conj:conj,multiplyScalar:multiplyScalar,size:size,typed:typed}),identity=createIdentity({BigNumber:BigNumber,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,config:config$1,matrix:matrix,typed:typed}),larger=createLarger({DenseMatrix:DenseMatrix,config:config$1,matrix:matrix,typed:typed}),multiply=createMultiply({addScalar:addScalar,dot:dot,equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,typed:typed}),FibonacciHeap=createFibonacciHeapClass({larger:larger,smaller:smaller}),Spa=createSpaClass({FibonacciHeap:FibonacciHeap,addScalar:addScalar,equalScalar:equalScalar}),lup=createLup({DenseMatrix:DenseMatrix,Spa:Spa,SparseMatrix:SparseMatrix,abs:abs,addScalar:addScalar,divideScalar:divideScalar,equalScalar:equalScalar,larger:larger,matrix:matrix,multiplyScalar:multiplyScalar,subtract:subtract,typed:typed,unaryMinus:unaryMinus}),det=createDet({lup:lup,matrix:matrix,multiply:multiply,subtract:subtract,typed:typed,unaryMinus:unaryMinus}),inv=createInv({abs:abs,addScalar:addScalar,det:det,divideScalar:divideScalar,identity:identity,matrix:matrix,multiply:multiply,typed:typed,unaryMinus:unaryMinus}),divide=createDivide({divideScalar:divideScalar,equalScalar:equalScalar,inv:inv,matrix:matrix,multiply:multiply,typed:typed});function mathAdd$1(e,t){return+format(add(bignumber(e),bignumber(t)))}function mathSubtract$1(e,t){return+format(subtract(bignumber(e),bignumber(t)))}function mathMultiply$1(e,t){return+format(multiply(bignumber(e),bignumber(t)))}function mathDivide$1(e,t){return+format(divide(bignumber(e),bignumber(t)))}function mathToFixed$1(e,t){return format(e,{notation:"fixed",precision:t})}function maskStr$1(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:4,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"*";if(e&&e.length>t+r){var i=e.substring(0,t),a=e.substring(e.length-r);return i+n.repeat(e.length-t-r)+a}return e}var index={animation:animation,currying:currying,copyText:copyText,createChunks:createChunks,debounce:debounce,fileHash:fileHash,filterInt:filterInt,generateDeviceId:generateDeviceId,isLoadedScript:isLoadedScript,lunhCheck:lunhCheck,loadScript:loadScript,mathSubtract:mathSubtract,mathAdd:mathAdd,mathMultiply:mathMultiply,mathDivide:mathDivide,mathToFixed:mathToFixed,maskStr:maskStr,parallelTask:parallelTask,performChunk:performChunk};export{index as default,generateDeviceId$1 as generateDeviceId,isLoadedScript$1 as isLoadedScript,loadScript$1 as loadScript,lunhCheck$1 as lunhCheck,maskStr$1 as maskStr,mathAdd$1 as mathAdd,mathDivide$1 as mathDivide,mathMultiply$1 as mathMultiply,mathSubtract$1 as mathSubtract,mathToFixed$1 as mathToFixed};
